## Process this file with automake to produce Makefile.in

if WITH_PDBGEN
D_pdbgen = pdbgen
else
D_pdbgen =
endif

if WITH_AUTHORSGEN
D_authorgen = authorsgen
else
D_authorgen =
endif

SUBDIRS = $(D_pdbgen) $(D_authorgen)

bin_PROGRAMS = $(GIMP_REMOTE)

EXTRA_PROGRAMS = \
	gimp-remote-1.3	\
	kernelgen

gimp_remote_1_3_SOURCES = gimp-remote.c

gimp_remote_1_3_LDADD = \
	$(GTK_LIBS)	\
	$(LIBXMU)

kernelgen_SOURCES = kernelgen.c

INCLUDES = \
	-I$(top_srcdir)	\
	$(GTK_CFLAGS)	\
	-I$(includedir)

EXTRA_DIST = \
	gimp-mkenums	\
	gimppath2svg.py	\
	rmshm

install-exec-hook:
if DEFAULT_BINARY
	if test -f "$(DESTDIR)$(bindir)/gimp-remote-$(LT_RELEASE)"; then \
	  echo "cd $(DESTDIR)$(bindir)"; \
	  cd $(DESTDIR)$(bindir); \
	  echo "rm -f gimp-remote"; \
	  rm -f gimp-remote; \
	  echo "$(LN_S) gimp-remote-$(LT_RELEASE) gimp-remote"; \
	  $(LN_S) gimp-remote-$(LT_RELEASE) gimp-remote; \
	fi
endif

uninstall-local:
if DEFAULT_BINARY
	rm -f $(DESTDIR)$(bindir)/gimp-remote
endif

begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*  * Copyright (C) 1995 Spencer Kimball and Peter Mattis  *  * This is a plug-in for GIMP.  *  * Generates images containing vector type drawings.  *  * Copyright (C) 1997 Andy Thomas  alt@picnic.demon.co.uk  *  * This program is free software: you can redistribute it and/or modify  * it under the terms of the GNU General Public License as published by  * the Free Software Foundation; either version 3 of the License, or  * (at your option) any later version.  *  * This program is distributed in the hope that it will be useful,  * but WITHOUT ANY WARRANTY; without even the implied warranty of  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the  * GNU General Public License for more details.  *  * You should have received a copy of the GNU General Public License  * along with this program.  If not, see<http://www.gnu.org/licenses/>.  *  */
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|__GFIG_H__
end_ifndef

begin_define
DECL|macro|__GFIG_H__
define|#
directive|define
name|__GFIG_H__
end_define

begin_include
include|#
directive|include
file|"gfig-types.h"
end_include

begin_include
include|#
directive|include
file|"gfig-style.h"
end_include

begin_define
DECL|macro|MAX_UNDO
define|#
directive|define
name|MAX_UNDO
value|10
end_define

begin_define
DECL|macro|MIN_UNDO
define|#
directive|define
name|MIN_UNDO
value|1
end_define

begin_typedef
typedef|typedef
struct|struct
DECL|struct|__anon2bf733710108
block|{
DECL|member|gridspacing
name|gint
name|gridspacing
decl_stmt|;
DECL|member|gridtype
name|GridType
name|gridtype
decl_stmt|;
DECL|member|drawgrid
name|gboolean
name|drawgrid
decl_stmt|;
DECL|member|snap2grid
name|gboolean
name|snap2grid
decl_stmt|;
DECL|member|lockongrid
name|gboolean
name|lockongrid
decl_stmt|;
DECL|member|showcontrol
name|gboolean
name|showcontrol
decl_stmt|;
DECL|member|grid_radius_min
name|gdouble
name|grid_radius_min
decl_stmt|;
DECL|member|grid_radius_interval
name|gdouble
name|grid_radius_interval
decl_stmt|;
DECL|member|grid_rotation
name|gdouble
name|grid_rotation
decl_stmt|;
DECL|member|grid_granularity
name|gdouble
name|grid_granularity
decl_stmt|;
DECL|member|grid_sectors_desired
name|gint
name|grid_sectors_desired
decl_stmt|;
DECL|typedef|GfigOpts
block|}
name|GfigOpts
typedef|;
end_typedef

begin_typedef
typedef|typedef
struct|struct
DECL|struct|__anon2bf733710208
block|{
DECL|member|type
name|SelectionType
name|type
decl_stmt|;
comment|/* ADD etc .. */
DECL|member|antia
name|gint
name|antia
decl_stmt|;
comment|/* Boolean for Antia */
DECL|member|feather
name|gint
name|feather
decl_stmt|;
comment|/* Feather it ? */
DECL|member|feather_radius
name|gdouble
name|feather_radius
decl_stmt|;
comment|/* Radius to feather */
DECL|member|as_pie
name|ArcType
name|as_pie
decl_stmt|;
comment|/* Arc type selection segment/sector */
DECL|member|fill_type
name|FillType
name|fill_type
decl_stmt|;
comment|/* Fill type for selection */
DECL|member|fill_opacity
name|gdouble
name|fill_opacity
decl_stmt|;
comment|/* You can guess this one */
DECL|typedef|selection_option
block|}
name|selection_option
typedef|;
end_typedef

begin_function_decl
name|void
name|object_start
parameter_list|(
name|GdkPoint
modifier|*
name|pnt
parameter_list|,
name|gint
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|object_operation
parameter_list|(
name|GdkPoint
modifier|*
name|pnt
parameter_list|,
name|gint
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|object_operation_start
parameter_list|(
name|GdkPoint
modifier|*
name|pnt
parameter_list|,
name|gint
name|shift_down
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|object_operation_end
parameter_list|(
name|GdkPoint
modifier|*
name|pnt
parameter_list|,
name|gint
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|object_end
parameter_list|(
name|GdkPoint
modifier|*
name|pnt
parameter_list|,
name|gint
name|shift_down
parameter_list|)
function_decl|;
end_function_decl

begin_define
DECL|macro|MAX_LOAD_LINE
define|#
directive|define
name|MAX_LOAD_LINE
value|256
end_define

begin_define
DECL|macro|SQ_SIZE
define|#
directive|define
name|SQ_SIZE
value|8
end_define

begin_define
DECL|macro|PLUG_IN_PROC
define|#
directive|define
name|PLUG_IN_PROC
value|"plug-in-gfig"
end_define

begin_define
DECL|macro|PLUG_IN_BINARY
define|#
directive|define
name|PLUG_IN_BINARY
value|"gfig"
end_define

begin_define
DECL|macro|PLUG_IN_ROLE
define|#
directive|define
name|PLUG_IN_ROLE
value|"gimp-gfig"
end_define

begin_decl_stmt
specifier|extern
name|gint
name|line_no
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|gint
name|preview_width
decl_stmt|,
name|preview_height
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|gint
name|need_to_scale
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GdkGC
modifier|*
name|gfig_gc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|gdouble
name|scale_x_factor
decl_stmt|,
name|scale_y_factor
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GdkPixbuf
modifier|*
name|back_pixbuf
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkWidget
modifier|*
name|pic_preview
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|gint
name|obj_show_single
decl_stmt|;
end_decl_stmt

begin_typedef
typedef|typedef
struct|struct
DECL|struct|__anon2bf733710308
block|{
DECL|member|opts
name|GfigOpts
name|opts
decl_stmt|;
DECL|member|showimage
name|gboolean
name|showimage
decl_stmt|;
DECL|member|maxundo
name|gint
name|maxundo
decl_stmt|;
DECL|member|showpos
name|gboolean
name|showpos
decl_stmt|;
DECL|member|brushfade
name|gdouble
name|brushfade
decl_stmt|;
DECL|member|brushgradient
name|gdouble
name|brushgradient
decl_stmt|;
DECL|member|airbrushpressure
name|gdouble
name|airbrushpressure
decl_stmt|;
DECL|member|onlayers
name|DrawonLayers
name|onlayers
decl_stmt|;
DECL|member|onlayerbg
name|LayersBGType
name|onlayerbg
decl_stmt|;
DECL|member|painttype
name|PaintType
name|painttype
decl_stmt|;
DECL|member|reverselines
name|gboolean
name|reverselines
decl_stmt|;
DECL|member|scaletoimage
name|gboolean
name|scaletoimage
decl_stmt|;
DECL|member|scaletoimagefp
name|gdouble
name|scaletoimagefp
decl_stmt|;
DECL|member|brshtype
name|BrushType
name|brshtype
decl_stmt|;
DECL|member|otype
name|DobjType
name|otype
decl_stmt|;
DECL|typedef|SelectItVals
block|}
name|SelectItVals
typedef|;
end_typedef

begin_struct
DECL|struct|_GFigObj
struct|struct
name|_GFigObj
block|{
DECL|member|name
name|gchar
modifier|*
name|name
decl_stmt|;
comment|/* Trailing name of file  */
DECL|member|filename
name|gchar
modifier|*
name|filename
decl_stmt|;
comment|/* Filename itself */
DECL|member|draw_name
name|gchar
modifier|*
name|draw_name
decl_stmt|;
comment|/* Name of the drawing */
DECL|member|version
name|gfloat
name|version
decl_stmt|;
comment|/* Version number of data file */
DECL|member|opts
name|GfigOpts
name|opts
decl_stmt|;
comment|/* Options enforced when fig saved */
DECL|member|obj_list
name|GList
modifier|*
name|obj_list
decl_stmt|;
comment|/* Objects that make up this list */
DECL|member|obj_status
name|gint
name|obj_status
decl_stmt|;
comment|/* See above for possible values */
DECL|member|list_item
name|GtkWidget
modifier|*
name|list_item
decl_stmt|;
DECL|member|label_widget
name|GtkWidget
modifier|*
name|label_widget
decl_stmt|;
DECL|member|pixmap_widget
name|GtkWidget
modifier|*
name|pixmap_widget
decl_stmt|;
block|}
struct|;
end_struct

begin_comment
comment|/* this is temp, should be able to get rid of */
end_comment

begin_typedef
DECL|struct|BrushDesc
typedef|typedef
struct|struct
name|BrushDesc
block|{
DECL|member|name
name|gchar
modifier|*
name|name
decl_stmt|;
DECL|member|opacity
name|gdouble
name|opacity
decl_stmt|;
DECL|member|spacing
name|gint
name|spacing
decl_stmt|;
DECL|member|paint_mode
name|GimpLayerModeEffects
name|paint_mode
decl_stmt|;
DECL|member|width
name|gint
name|width
decl_stmt|;
DECL|member|height
name|gint
name|height
decl_stmt|;
DECL|member|pv_buf
name|guchar
modifier|*
name|pv_buf
decl_stmt|;
comment|/* Buffer where brush placed */
DECL|member|x_off
name|gint16
name|x_off
decl_stmt|;
DECL|member|y_off
name|gint16
name|y_off
decl_stmt|;
DECL|member|popup
specifier|const
name|gchar
modifier|*
name|popup
decl_stmt|;
DECL|typedef|BrushDesc
block|}
name|BrushDesc
typedef|;
end_typedef

begin_typedef
typedef|typedef
struct|struct
DECL|struct|__anon2bf733710408
block|{
DECL|member|debug_styles
name|gboolean
name|debug_styles
decl_stmt|;
DECL|member|show_background
name|gboolean
name|show_background
decl_stmt|;
comment|/* show thumbnail of image behind figure */
DECL|member|image_id
name|gint32
name|image_id
decl_stmt|;
comment|/* Gimp image id */
DECL|member|drawable_id
name|gint32
name|drawable_id
decl_stmt|;
comment|/* Gimp drawable to paint on */
DECL|member|current_obj
name|GFigObj
modifier|*
name|current_obj
decl_stmt|;
DECL|member|selected_obj
name|GfigObject
modifier|*
name|selected_obj
decl_stmt|;
DECL|member|preview
name|GtkWidget
modifier|*
name|preview
decl_stmt|;
DECL|member|default_style
name|Style
name|default_style
decl_stmt|;
DECL|member|bdesc
name|BrushDesc
name|bdesc
decl_stmt|;
DECL|member|fg_color_button
name|GtkWidget
modifier|*
name|fg_color_button
decl_stmt|;
DECL|member|bg_color_button
name|GtkWidget
modifier|*
name|bg_color_button
decl_stmt|;
DECL|member|brush_select
name|GtkWidget
modifier|*
name|brush_select
decl_stmt|;
DECL|member|pattern_select
name|GtkWidget
modifier|*
name|pattern_select
decl_stmt|;
DECL|member|gradient_select
name|GtkWidget
modifier|*
name|gradient_select
decl_stmt|;
DECL|member|fillstyle_combo
name|GtkWidget
modifier|*
name|fillstyle_combo
decl_stmt|;
DECL|member|paint_type_toggle
name|GtkWidget
modifier|*
name|paint_type_toggle
decl_stmt|;
DECL|member|fg_color
name|GimpRGB
modifier|*
name|fg_color
decl_stmt|;
DECL|member|bg_color
name|GimpRGB
modifier|*
name|bg_color
decl_stmt|;
DECL|member|enable_repaint
name|gboolean
name|enable_repaint
decl_stmt|;
DECL|member|using_new_layer
name|gboolean
name|using_new_layer
decl_stmt|;
DECL|typedef|GFigContext
block|}
name|GFigContext
typedef|;
end_typedef

begin_decl_stmt
specifier|extern
name|GFigContext
modifier|*
name|gfig_context
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|selection_option
name|selopt
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|SelectItVals
name|selvals
decl_stmt|;
end_decl_stmt

begin_function_decl
name|void
name|add_to_all_obj
parameter_list|(
name|GFigObj
modifier|*
name|fobj
parameter_list|,
name|GfigObject
modifier|*
name|obj
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|gchar
modifier|*
name|get_line
parameter_list|(
name|gchar
modifier|*
name|buf
parameter_list|,
name|gint
name|s
parameter_list|,
name|FILE
modifier|*
name|from
parameter_list|,
name|gint
name|init
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|scale_to_xy
parameter_list|(
name|gdouble
modifier|*
name|list
parameter_list|,
name|gint
name|size
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|scale_to_original_xy
parameter_list|(
name|gdouble
modifier|*
name|list
parameter_list|,
name|gint
name|size
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|gfig_paint
parameter_list|(
name|BrushType
name|brush_type
parameter_list|,
name|gint32
name|drawable_ID
parameter_list|,
name|gint
name|seg_count
parameter_list|,
name|gdouble
name|line_pnts
index|[]
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|draw_circle
parameter_list|(
name|GdkPoint
modifier|*
name|p
parameter_list|,
name|gboolean
name|selected
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|draw_sqr
parameter_list|(
name|GdkPoint
modifier|*
name|p
parameter_list|,
name|gboolean
name|selected
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|list_button_update
parameter_list|(
name|GFigObj
modifier|*
name|obj
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|GtkWidget
modifier|*
name|num_sides_widget
parameter_list|(
specifier|const
name|gchar
modifier|*
name|d_title
parameter_list|,
name|gint
modifier|*
name|num_sides
parameter_list|,
name|gint
modifier|*
name|which_way
parameter_list|,
name|gint
name|adj_min
parameter_list|,
name|gint
name|adj_max
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|setup_undo
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|draw_grid_clear
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|prepend_to_all_obj
parameter_list|(
name|GFigObj
modifier|*
name|fobj
parameter_list|,
name|GList
modifier|*
name|nobj
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|gfig_draw_arc
parameter_list|(
name|gint
name|x
parameter_list|,
name|gint
name|y
parameter_list|,
name|gint
name|width
parameter_list|,
name|gint
name|height
parameter_list|,
name|gint
name|angle1
parameter_list|,
name|gint
name|angle2
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|gfig_draw_line
parameter_list|(
name|gint
name|x0
parameter_list|,
name|gint
name|y0
parameter_list|,
name|gint
name|x1
parameter_list|,
name|gint
name|y1
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|gfig_paint_callback
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|GFigObj
modifier|*
name|gfig_load
parameter_list|(
specifier|const
name|gchar
modifier|*
name|filename
parameter_list|,
specifier|const
name|gchar
modifier|*
name|name
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|gfig_name_encode
parameter_list|(
name|gchar
modifier|*
name|dest
parameter_list|,
name|gchar
modifier|*
name|src
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|gfig_name_decode
parameter_list|(
name|gchar
modifier|*
name|dest
parameter_list|,
specifier|const
name|gchar
modifier|*
name|src
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|gint
name|gfig_list_pos
parameter_list|(
name|GFigObj
modifier|*
name|gfig
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|gint
name|gfig_list_insert
parameter_list|(
name|GFigObj
modifier|*
name|gfig
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|gfig_free
parameter_list|(
name|GFigObj
modifier|*
name|gfig
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|save_options
parameter_list|(
name|GString
modifier|*
name|string
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|GString
modifier|*
name|gfig_save_as_string
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|gboolean
name|gfig_save_as_parasite
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|GFigObj
modifier|*
name|gfig_load_from_parasite
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|GFigObj
modifier|*
name|gfig_new
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|gfig_save_callbk
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|paint_layer_fill
parameter_list|(
name|gdouble
name|x1
parameter_list|,
name|gdouble
name|y1
parameter_list|,
name|gdouble
name|x2
parameter_list|,
name|gdouble
name|y2
parameter_list|)
function_decl|;
end_function_decl

begin_decl_stmt
specifier|extern
name|GtkWidget
modifier|*
name|top_level_dlg
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GimpDrawable
modifier|*
name|gfig_drawable
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GList
modifier|*
name|gfig_list
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|gdouble
name|org_scale_x_factor
decl_stmt|,
name|org_scale_y_factor
decl_stmt|;
end_decl_stmt

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* __GFIG_H__ */
end_comment

end_unit


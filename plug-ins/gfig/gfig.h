begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*  * Copyright (C) 1995 Spencer Kimball and Peter Mattis  *  * This is a plug-in for the GIMP.  *  * Generates images containing vector type drawings.  *  * Copyright (C) 1997 Andy Thomas  alt@picnic.demon.co.uk  *  * This program is free software; you can redistribute it and/or modify  * it under the terms of the GNU General Public License as published by  * the Free Software Foundation; either version 2 of the License, or  * (at your option) any later version.  *  * This program is distributed in the hope that it will be useful,  * but WITHOUT ANY WARRANTY; without even the implied warranty of  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the  * GNU General Public License for more details.  *  * You should have received a copy of the GNU General Public License  * along with this program; if not, write to the Free Software  * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  *  */
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|__GFIG_H__
end_ifndef

begin_define
DECL|macro|__GFIG_H__
define|#
directive|define
name|__GFIG_H__
end_define

begin_define
DECL|macro|MAX_UNDO
define|#
directive|define
name|MAX_UNDO
value|10
end_define

begin_define
DECL|macro|MIN_UNDO
define|#
directive|define
name|MIN_UNDO
value|1
end_define

begin_struct_decl
struct_decl|struct
name|Dobject
struct_decl|;
end_struct_decl

begin_comment
comment|/* fwd declaration for DobjFunc */
end_comment

begin_typedef
DECL|typedef|DobjFunc
typedef|typedef
name|void
function_decl|(
modifier|*
name|DobjFunc
function_decl|)
parameter_list|(
name|struct
name|Dobject
modifier|*
parameter_list|)
function_decl|;
end_typedef

begin_typedef
DECL|typedef|DobjGenFunc
typedef|typedef
name|struct
name|Dobject
modifier|*
function_decl|(
modifier|*
name|DobjGenFunc
function_decl|)
parameter_list|(
name|struct
name|Dobject
modifier|*
parameter_list|)
function_decl|;
end_typedef

begin_typedef
DECL|typedef|DobjLoadFunc
typedef|typedef
name|struct
name|Dobject
modifier|*
function_decl|(
modifier|*
name|DobjLoadFunc
function_decl|)
parameter_list|(
name|FILE
modifier|*
parameter_list|)
function_decl|;
end_typedef

begin_typedef
DECL|typedef|DobjSaveFunc
typedef|typedef
name|void
function_decl|(
modifier|*
name|DobjSaveFunc
function_decl|)
parameter_list|(
name|struct
name|Dobject
modifier|*
parameter_list|,
name|GString
modifier|*
parameter_list|)
function_decl|;
end_typedef

begin_typedef
DECL|typedef|DobjCreateFunc
typedef|typedef
name|struct
name|Dobject
modifier|*
function_decl|(
modifier|*
name|DobjCreateFunc
function_decl|)
parameter_list|(
name|gint
parameter_list|,
name|gint
parameter_list|)
function_decl|;
end_typedef

begin_typedef
typedef|typedef
enum|enum
DECL|enum|__anon2922324b0103
block|{
DECL|enumerator|RECT_GRID
name|RECT_GRID
init|=
literal|0
block|,
DECL|enumerator|POLAR_GRID
name|POLAR_GRID
block|,
DECL|enumerator|ISO_GRID
name|ISO_GRID
DECL|typedef|GridType
block|}
name|GridType
typedef|;
end_typedef

begin_typedef
typedef|typedef
struct|struct
DECL|struct|__anon2922324b0208
block|{
DECL|member|gridspacing
name|gint
name|gridspacing
decl_stmt|;
DECL|member|gridtype
name|GridType
name|gridtype
decl_stmt|;
DECL|member|drawgrid
name|gboolean
name|drawgrid
decl_stmt|;
DECL|member|snap2grid
name|gboolean
name|snap2grid
decl_stmt|;
DECL|member|lockongrid
name|gboolean
name|lockongrid
decl_stmt|;
DECL|member|showcontrol
name|gboolean
name|showcontrol
decl_stmt|;
DECL|typedef|GfigOpts
block|}
name|GfigOpts
typedef|;
end_typedef

begin_typedef
typedef|typedef
enum|enum
DECL|enum|__anon2922324b0303
block|{
DECL|enumerator|ADD
name|ADD
init|=
literal|0
block|,
DECL|enumerator|SUBTRACT
name|SUBTRACT
block|,
DECL|enumerator|REPLACE
name|REPLACE
block|,
DECL|enumerator|INTERSECT
name|INTERSECT
DECL|typedef|SelectionType
block|}
name|SelectionType
typedef|;
end_typedef

begin_typedef
typedef|typedef
enum|enum
DECL|enum|__anon2922324b0403
block|{
DECL|enumerator|ARC_SEGMENT
name|ARC_SEGMENT
init|=
literal|0
block|,
DECL|enumerator|ARC_SECTOR
name|ARC_SECTOR
DECL|typedef|ArcType
block|}
name|ArcType
typedef|;
end_typedef

begin_typedef
typedef|typedef
enum|enum
DECL|enum|__anon2922324b0503
block|{
DECL|enumerator|FILL_FOREGROUND
name|FILL_FOREGROUND
init|=
literal|0
block|,
DECL|enumerator|FILL_BACKGROUND
name|FILL_BACKGROUND
block|,
DECL|enumerator|FILL_PATTERN
name|FILL_PATTERN
DECL|typedef|FillType
block|}
name|FillType
typedef|;
end_typedef

begin_typedef
typedef|typedef
enum|enum
DECL|enum|__anon2922324b0603
block|{
DECL|enumerator|FILL_EACH
name|FILL_EACH
init|=
literal|0
block|,
DECL|enumerator|FILL_AFTER
name|FILL_AFTER
DECL|typedef|FillWhen
block|}
name|FillWhen
typedef|;
end_typedef

begin_typedef
typedef|typedef
struct|struct
DECL|struct|__anon2922324b0708
block|{
DECL|member|type
name|SelectionType
name|type
decl_stmt|;
comment|/* ADD etc .. */
DECL|member|antia
name|gint
name|antia
decl_stmt|;
comment|/* Boolean for Antia */
DECL|member|feather
name|gint
name|feather
decl_stmt|;
comment|/* Feather it ? */
DECL|member|feather_radius
name|gdouble
name|feather_radius
decl_stmt|;
comment|/* Radius to feather */
DECL|member|as_pie
name|ArcType
name|as_pie
decl_stmt|;
comment|/* Arc type selection segment/sector */
DECL|member|fill_type
name|FillType
name|fill_type
decl_stmt|;
comment|/* Fill type for selection */
DECL|member|fill_when
name|FillWhen
name|fill_when
decl_stmt|;
comment|/* Fill on each selection or after all? */
DECL|member|fill_opacity
name|gdouble
name|fill_opacity
decl_stmt|;
comment|/* You can guess this one */
DECL|typedef|selection_option
block|}
name|selection_option
typedef|;
end_typedef

begin_typedef
typedef|typedef
enum|enum
DECL|enum|__anon2922324b0803
block|{
DECL|enumerator|ORIGINAL_LAYER
name|ORIGINAL_LAYER
init|=
literal|0
block|,
DECL|enumerator|SINGLE_LAYER
name|SINGLE_LAYER
block|,
DECL|enumerator|MULTI_LAYER
name|MULTI_LAYER
DECL|typedef|DrawonLayers
block|}
name|DrawonLayers
typedef|;
end_typedef

begin_typedef
typedef|typedef
enum|enum
DECL|enum|__anon2922324b0903
block|{
DECL|enumerator|LAYER_TRANS_BG
name|LAYER_TRANS_BG
init|=
literal|0
block|,
DECL|enumerator|LAYER_BG_BG
name|LAYER_BG_BG
block|,
DECL|enumerator|LAYER_FG_BG
name|LAYER_FG_BG
block|,
DECL|enumerator|LAYER_WHITE_BG
name|LAYER_WHITE_BG
block|,
DECL|enumerator|LAYER_COPY_BG
name|LAYER_COPY_BG
DECL|typedef|LayersBGType
block|}
name|LayersBGType
typedef|;
end_typedef

begin_typedef
typedef|typedef
enum|enum
DECL|enum|__anon2922324b0a03
block|{
DECL|enumerator|PAINT_BRUSH_TYPE
name|PAINT_BRUSH_TYPE
init|=
literal|0
block|,
DECL|enumerator|PAINT_SELECTION_TYPE
name|PAINT_SELECTION_TYPE
block|,
DECL|enumerator|PAINT_SELECTION_FILL_TYPE
name|PAINT_SELECTION_FILL_TYPE
DECL|typedef|PaintType
block|}
name|PaintType
typedef|;
end_typedef

begin_typedef
typedef|typedef
enum|enum
DECL|enum|__anon2922324b0b03
block|{
DECL|enumerator|BRUSH_BRUSH_TYPE
name|BRUSH_BRUSH_TYPE
init|=
literal|0
block|,
DECL|enumerator|BRUSH_PENCIL_TYPE
name|BRUSH_PENCIL_TYPE
block|,
DECL|enumerator|BRUSH_AIRBRUSH_TYPE
name|BRUSH_AIRBRUSH_TYPE
block|,
DECL|enumerator|BRUSH_PATTERN_TYPE
name|BRUSH_PATTERN_TYPE
DECL|typedef|BrushType
block|}
name|BrushType
typedef|;
end_typedef

begin_typedef
typedef|typedef
enum|enum
DECL|enum|__anon2922324b0c03
block|{
DECL|enumerator|STYLE_SOURCE_GIMP
name|STYLE_SOURCE_GIMP
init|=
literal|0
block|,
DECL|enumerator|STYLE_SOURCE_DEFAULT
name|STYLE_SOURCE_DEFAULT
block|,
DECL|enumerator|STYLE_SOURCE_STYLE
name|STYLE_SOURCE_STYLE
block|,
DECL|enumerator|STYLE_SOURCE_OBJECT
name|STYLE_SOURCE_OBJECT
DECL|typedef|StyleSource
block|}
name|StyleSource
typedef|;
end_typedef

begin_typedef
typedef|typedef
struct|struct
DECL|struct|__anon2922324b0d08
block|{
DECL|member|name
name|gchar
modifier|*
name|name
decl_stmt|;
DECL|member|brush_name
name|gchar
modifier|*
name|brush_name
decl_stmt|;
DECL|member|brush_width
name|gint
name|brush_width
decl_stmt|;
DECL|member|brush_height
name|gint
name|brush_height
decl_stmt|;
DECL|member|brush_spacing
name|gint
name|brush_spacing
decl_stmt|;
DECL|member|brush_type
name|BrushType
name|brush_type
decl_stmt|;
DECL|member|brushfade
name|gdouble
name|brushfade
decl_stmt|;
DECL|member|brushgradient
name|gdouble
name|brushgradient
decl_stmt|;
DECL|member|airbrushpressure
name|gdouble
name|airbrushpressure
decl_stmt|;
DECL|member|brush_source
name|StyleSource
name|brush_source
decl_stmt|;
DECL|member|fill_type
name|FillType
name|fill_type
decl_stmt|;
DECL|member|fill_type_source
name|StyleSource
name|fill_type_source
decl_stmt|;
DECL|member|pattern
name|gchar
modifier|*
name|pattern
decl_stmt|;
DECL|member|pattern_source
name|StyleSource
name|pattern_source
decl_stmt|;
DECL|member|gradient
name|gchar
modifier|*
name|gradient
decl_stmt|;
DECL|member|gradient_source
name|StyleSource
name|gradient_source
decl_stmt|;
DECL|member|paint_type
name|PaintType
name|paint_type
decl_stmt|;
DECL|member|foreground
name|GimpRGB
name|foreground
decl_stmt|;
DECL|member|foreground_source
name|StyleSource
name|foreground_source
decl_stmt|;
DECL|member|background
name|GimpRGB
name|background
decl_stmt|;
DECL|member|background_source
name|StyleSource
name|background_source
decl_stmt|;
DECL|member|reverselines
name|gboolean
name|reverselines
decl_stmt|;
DECL|typedef|Style
block|}
name|Style
typedef|;
end_typedef

begin_typedef
typedef|typedef
enum|enum
DECL|enum|__anon2922324b0e03
block|{
DECL|enumerator|OBJ_TYPE_NONE
name|OBJ_TYPE_NONE
init|=
literal|0
block|,
DECL|enumerator|LINE
name|LINE
block|,
DECL|enumerator|CIRCLE
name|CIRCLE
block|,
DECL|enumerator|ELLIPSE
name|ELLIPSE
block|,
DECL|enumerator|ARC
name|ARC
block|,
DECL|enumerator|POLY
name|POLY
block|,
DECL|enumerator|STAR
name|STAR
block|,
DECL|enumerator|SPIRAL
name|SPIRAL
block|,
DECL|enumerator|BEZIER
name|BEZIER
block|,
DECL|enumerator|NUM_OBJ_TYPES
name|NUM_OBJ_TYPES
block|,
DECL|enumerator|MOVE_OBJ
name|MOVE_OBJ
block|,
DECL|enumerator|MOVE_POINT
name|MOVE_POINT
block|,
DECL|enumerator|COPY_OBJ
name|COPY_OBJ
block|,
DECL|enumerator|MOVE_COPY_OBJ
name|MOVE_COPY_OBJ
block|,
DECL|enumerator|DEL_OBJ
name|DEL_OBJ
block|,
DECL|enumerator|NULL_OPER
name|NULL_OPER
DECL|typedef|DobjType
block|}
name|DobjType
typedef|;
end_typedef

begin_typedef
DECL|struct|DobjPoints
typedef|typedef
struct|struct
name|DobjPoints
block|{
DECL|member|next
name|struct
name|DobjPoints
modifier|*
name|next
decl_stmt|;
DECL|member|pnt
name|GdkPoint
name|pnt
decl_stmt|;
DECL|member|found_me
name|gint
name|found_me
decl_stmt|;
DECL|typedef|DobjPoints
block|}
name|DobjPoints
typedef|;
end_typedef

begin_typedef
typedef|typedef
struct|struct
DECL|struct|__anon2922324b0f08
block|{
DECL|member|type
name|DobjType
name|type
decl_stmt|;
comment|/* the object type for this class */
DECL|member|name
name|gchar
modifier|*
name|name
decl_stmt|;
DECL|member|drawfunc
name|DobjFunc
name|drawfunc
decl_stmt|;
comment|/* How do I draw myself */
DECL|member|paintfunc
name|DobjFunc
name|paintfunc
decl_stmt|;
comment|/* Draw me on canvas */
DECL|member|copyfunc
name|DobjGenFunc
name|copyfunc
decl_stmt|;
comment|/* copy */
DECL|typedef|DobjClass
block|}
name|DobjClass
typedef|;
end_typedef

begin_decl_stmt
DECL|variable|dobj_class
name|DobjClass
name|dobj_class
index|[
literal|10
index|]
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* The object itself */
end_comment

begin_typedef
DECL|struct|Dobject
typedef|typedef
struct|struct
name|Dobject
block|{
DECL|member|type
name|DobjType
name|type
decl_stmt|;
comment|/* What is the type? */
DECL|member|class
name|DobjClass
modifier|*
name|class
decl_stmt|;
comment|/* What class does it belong to? */
DECL|member|type_data
name|gint
name|type_data
decl_stmt|;
comment|/* Extra data needed by the object */
DECL|member|points
name|DobjPoints
modifier|*
name|points
decl_stmt|;
comment|/* List of points */
DECL|member|style
name|Style
name|style
decl_stmt|;
comment|/* this object's individual style settings */
DECL|member|style_no
name|gint
name|style_no
decl_stmt|;
comment|/* style index of this specific object */
DECL|typedef|Dobject
block|}
name|Dobject
typedef|;
end_typedef

begin_typedef
DECL|struct|DAllObjs
typedef|typedef
struct|struct
name|DAllObjs
block|{
DECL|member|next
name|struct
name|DAllObjs
modifier|*
name|next
decl_stmt|;
DECL|member|obj
name|Dobject
modifier|*
name|obj
decl_stmt|;
comment|/* Object on list */
DECL|typedef|DAllObjs
block|}
name|DAllObjs
typedef|;
end_typedef

begin_comment
comment|/* States of the object */
end_comment

begin_define
DECL|macro|GFIG_OK
define|#
directive|define
name|GFIG_OK
value|0x0
end_define

begin_define
DECL|macro|GFIG_MODIFIED
define|#
directive|define
name|GFIG_MODIFIED
value|0x1
end_define

begin_define
DECL|macro|GFIG_READONLY
define|#
directive|define
name|GFIG_READONLY
value|0x2
end_define

begin_decl_stmt
specifier|extern
name|Dobject
modifier|*
name|obj_creating
decl_stmt|;
end_decl_stmt

begin_function_decl
name|void
name|d_pnt_add_line
parameter_list|(
name|Dobject
modifier|*
name|obj
parameter_list|,
name|gint
name|x
parameter_list|,
name|gint
name|y
parameter_list|,
name|gint
name|pos
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|DobjPoints
modifier|*
name|new_dobjpoint
parameter_list|(
name|gint
name|x
parameter_list|,
name|gint
name|y
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|do_save_obj
parameter_list|(
name|Dobject
modifier|*
name|obj
parameter_list|,
name|GString
modifier|*
name|to
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|DobjPoints
modifier|*
name|d_copy_dobjpoints
parameter_list|(
name|DobjPoints
modifier|*
name|pnts
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|free_one_obj
parameter_list|(
name|Dobject
modifier|*
name|obj
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|d_delete_dobjpoints
parameter_list|(
name|DobjPoints
modifier|*
name|pnts
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|object_update
parameter_list|(
name|GdkPoint
modifier|*
name|pnt
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|DAllObjs
modifier|*
name|copy_all_objs
parameter_list|(
name|DAllObjs
modifier|*
name|objs
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|draw_objects
parameter_list|(
name|DAllObjs
modifier|*
name|objs
parameter_list|,
name|gint
name|show_single
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|object_start
parameter_list|(
name|GdkPoint
modifier|*
name|pnt
parameter_list|,
name|gint
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|object_operation
parameter_list|(
name|GdkPoint
modifier|*
name|pnt
parameter_list|,
name|gint
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|object_operation_start
parameter_list|(
name|GdkPoint
modifier|*
name|pnt
parameter_list|,
name|gint
name|shift_down
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|object_operation_end
parameter_list|(
name|GdkPoint
modifier|*
name|pnt
parameter_list|,
name|gint
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|object_end
parameter_list|(
name|GdkPoint
modifier|*
name|pnt
parameter_list|,
name|gint
name|shift_down
parameter_list|)
function_decl|;
end_function_decl

begin_define
DECL|macro|MAX_LOAD_LINE
define|#
directive|define
name|MAX_LOAD_LINE
value|256
end_define

begin_define
DECL|macro|SQ_SIZE
define|#
directive|define
name|SQ_SIZE
value|8
end_define

begin_define
DECL|macro|HELP_ID
define|#
directive|define
name|HELP_ID
value|"plug-in-gfig"
end_define

begin_decl_stmt
specifier|extern
name|gint
name|line_no
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|gint
name|preview_width
decl_stmt|,
name|preview_height
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|gint
name|need_to_scale
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GdkGC
modifier|*
name|gfig_gc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|gdouble
name|scale_x_factor
decl_stmt|,
name|scale_y_factor
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GdkPixbuf
modifier|*
name|back_pixbuf
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkWidget
modifier|*
name|pic_preview
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|Dobject
modifier|*
name|tmp_line
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|gint
name|obj_show_single
decl_stmt|;
end_decl_stmt

begin_typedef
typedef|typedef
struct|struct
DECL|struct|__anon2922324b1008
block|{
DECL|member|opts
name|GfigOpts
name|opts
decl_stmt|;
DECL|member|showimage
name|gboolean
name|showimage
decl_stmt|;
DECL|member|maxundo
name|gint
name|maxundo
decl_stmt|;
DECL|member|showpos
name|gboolean
name|showpos
decl_stmt|;
DECL|member|brushfade
name|gdouble
name|brushfade
decl_stmt|;
DECL|member|brushgradient
name|gdouble
name|brushgradient
decl_stmt|;
DECL|member|airbrushpressure
name|gdouble
name|airbrushpressure
decl_stmt|;
DECL|member|onlayers
name|DrawonLayers
name|onlayers
decl_stmt|;
DECL|member|onlayerbg
name|LayersBGType
name|onlayerbg
decl_stmt|;
DECL|member|painttype
name|PaintType
name|painttype
decl_stmt|;
DECL|member|reverselines
name|gboolean
name|reverselines
decl_stmt|;
DECL|member|scaletoimage
name|gboolean
name|scaletoimage
decl_stmt|;
DECL|member|scaletoimagefp
name|gdouble
name|scaletoimagefp
decl_stmt|;
DECL|member|approxcircles
name|gboolean
name|approxcircles
decl_stmt|;
DECL|member|brshtype
name|BrushType
name|brshtype
decl_stmt|;
DECL|member|otype
name|DobjType
name|otype
decl_stmt|;
DECL|typedef|SelectItVals
block|}
name|SelectItVals
typedef|;
end_typedef

begin_typedef
DECL|struct|DFigObj
typedef|typedef
struct|struct
name|DFigObj
block|{
DECL|member|name
name|gchar
modifier|*
name|name
decl_stmt|;
comment|/* Trailing name of file  */
DECL|member|filename
name|gchar
modifier|*
name|filename
decl_stmt|;
comment|/* Filename itself */
DECL|member|draw_name
name|gchar
modifier|*
name|draw_name
decl_stmt|;
comment|/* Name of the drawing */
DECL|member|version
name|gfloat
name|version
decl_stmt|;
comment|/* Version number of data file */
DECL|member|opts
name|GfigOpts
name|opts
decl_stmt|;
comment|/* Options enforced when fig saved */
DECL|member|obj_list
name|DAllObjs
modifier|*
name|obj_list
decl_stmt|;
comment|/* Objects that make up this list */
DECL|member|obj_status
name|gint
name|obj_status
decl_stmt|;
comment|/* See above for possible values */
DECL|member|list_item
name|GtkWidget
modifier|*
name|list_item
decl_stmt|;
DECL|member|label_widget
name|GtkWidget
modifier|*
name|label_widget
decl_stmt|;
DECL|member|pixmap_widget
name|GtkWidget
modifier|*
name|pixmap_widget
decl_stmt|;
DECL|typedef|GFigObj
block|}
name|GFigObj
typedef|;
end_typedef

begin_comment
comment|/* this is temp, should be able to get rid of */
end_comment

begin_typedef
DECL|struct|BrushDesc
typedef|typedef
struct|struct
name|BrushDesc
block|{
DECL|member|name
name|gchar
modifier|*
name|name
decl_stmt|;
DECL|member|opacity
name|gdouble
name|opacity
decl_stmt|;
DECL|member|spacing
name|gint
name|spacing
decl_stmt|;
DECL|member|paint_mode
name|GimpLayerModeEffects
name|paint_mode
decl_stmt|;
DECL|member|width
name|gint
name|width
decl_stmt|;
DECL|member|height
name|gint
name|height
decl_stmt|;
DECL|member|pv_buf
name|guchar
modifier|*
name|pv_buf
decl_stmt|;
comment|/* Buffer where brush placed */
DECL|member|x_off
name|gint16
name|x_off
decl_stmt|;
DECL|member|y_off
name|gint16
name|y_off
decl_stmt|;
DECL|member|popup
specifier|const
name|gchar
modifier|*
name|popup
decl_stmt|;
DECL|typedef|BrushDesc
block|}
name|BrushDesc
typedef|;
end_typedef

begin_typedef
typedef|typedef
struct|struct
DECL|struct|__anon2922324b1108
block|{
DECL|member|debug_styles
name|gboolean
name|debug_styles
decl_stmt|;
DECL|member|show_background
name|gboolean
name|show_background
decl_stmt|;
comment|/* show thumbnail of image behind figure */
DECL|member|image_id
name|gint32
name|image_id
decl_stmt|;
comment|/* Gimp image id */
DECL|member|drawable_id
name|gint32
name|drawable_id
decl_stmt|;
comment|/* Gimp drawable to paint on */
DECL|member|current_obj
name|GFigObj
modifier|*
name|current_obj
decl_stmt|;
DECL|member|selected_obj
name|Dobject
modifier|*
name|selected_obj
decl_stmt|;
DECL|member|preview
name|GtkWidget
modifier|*
name|preview
decl_stmt|;
DECL|member|style
name|Style
modifier|*
name|style
index|[
literal|1000
index|]
decl_stmt|;
comment|/* hack, but hopefully way more than enough! */
DECL|member|num_styles
name|gint
name|num_styles
decl_stmt|;
DECL|member|gimp_style
name|Style
name|gimp_style
decl_stmt|;
DECL|member|default_style
name|Style
name|default_style
decl_stmt|;
DECL|member|current_style
name|Style
modifier|*
name|current_style
decl_stmt|;
DECL|member|bdesc
name|BrushDesc
name|bdesc
decl_stmt|;
DECL|member|fg_color_button
name|GtkWidget
modifier|*
name|fg_color_button
decl_stmt|;
DECL|member|bg_color_button
name|GtkWidget
modifier|*
name|bg_color_button
decl_stmt|;
DECL|member|brush_select
name|GtkWidget
modifier|*
name|brush_select
decl_stmt|;
DECL|member|pattern_select
name|GtkWidget
modifier|*
name|pattern_select
decl_stmt|;
DECL|member|gradient_select
name|GtkWidget
modifier|*
name|gradient_select
decl_stmt|;
DECL|member|fillstyle_combo
name|GtkWidget
modifier|*
name|fillstyle_combo
decl_stmt|;
DECL|member|fg_color
name|GimpRGB
modifier|*
name|fg_color
decl_stmt|;
DECL|member|bg_color
name|GimpRGB
modifier|*
name|bg_color
decl_stmt|;
DECL|member|enable_repaint
name|gboolean
name|enable_repaint
decl_stmt|;
DECL|typedef|GFigContext
block|}
name|GFigContext
typedef|;
end_typedef

begin_decl_stmt
DECL|variable|gfig_context
name|GFigContext
modifier|*
name|gfig_context
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GFigObj
modifier|*
name|pic_obj
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|selection_option
name|selopt
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|SelectItVals
name|selvals
decl_stmt|;
end_decl_stmt

begin_function_decl
name|void
name|add_to_all_obj
parameter_list|(
name|GFigObj
modifier|*
name|fobj
parameter_list|,
name|Dobject
modifier|*
name|obj
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|gchar
modifier|*
name|get_line
parameter_list|(
name|gchar
modifier|*
name|buf
parameter_list|,
name|gint
name|s
parameter_list|,
name|FILE
modifier|*
name|from
parameter_list|,
name|gint
name|init
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|scale_to_xy
parameter_list|(
name|gdouble
modifier|*
name|list
parameter_list|,
name|gint
name|size
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|scale_to_original_xy
parameter_list|(
name|gdouble
modifier|*
name|list
parameter_list|,
name|gint
name|size
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|reverse_pairs_list
parameter_list|(
name|gdouble
modifier|*
name|list
parameter_list|,
name|gint
name|size
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|gfig_paint
parameter_list|(
name|BrushType
name|brush_type
parameter_list|,
name|gint32
name|drawable_ID
parameter_list|,
name|gint
name|seg_count
parameter_list|,
name|gdouble
name|line_pnts
index|[]
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|draw_circle
parameter_list|(
name|GdkPoint
modifier|*
name|p
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|draw_sqr
parameter_list|(
name|GdkPoint
modifier|*
name|p
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|list_button_update
parameter_list|(
name|GFigObj
modifier|*
name|obj
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|num_sides_dialog
parameter_list|(
name|gchar
modifier|*
name|d_title
parameter_list|,
name|gint
modifier|*
name|num_sides
parameter_list|,
name|gint
modifier|*
name|which_way
parameter_list|,
name|gint
name|adj_min
parameter_list|,
name|gint
name|adj_max
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|toggle_obj_type
parameter_list|(
name|GtkWidget
modifier|*
name|widget
parameter_list|,
name|gpointer
name|data
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|setup_undo
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|draw_grid_clear
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|prepend_to_all_obj
parameter_list|(
name|GFigObj
modifier|*
name|fobj
parameter_list|,
name|DAllObjs
modifier|*
name|nobj
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|gfig_draw_arc
parameter_list|(
name|gint
name|x
parameter_list|,
name|gint
name|y
parameter_list|,
name|gint
name|width
parameter_list|,
name|gint
name|height
parameter_list|,
name|gint
name|angle1
parameter_list|,
name|gint
name|angle2
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|gfig_draw_line
parameter_list|(
name|gint
name|x0
parameter_list|,
name|gint
name|y0
parameter_list|,
name|gint
name|x1
parameter_list|,
name|gint
name|y1
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|gboolean
name|gfig_preview_expose
parameter_list|(
name|GtkWidget
modifier|*
name|widget
parameter_list|,
name|GdkEvent
modifier|*
name|event
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|gfig_paint_callback
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|gfig_read_gimp_style
parameter_list|(
name|Style
modifier|*
name|style
parameter_list|,
specifier|const
name|gchar
modifier|*
name|name
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|GFigObj
modifier|*
name|gfig_load
parameter_list|(
specifier|const
name|gchar
modifier|*
name|filename
parameter_list|,
specifier|const
name|gchar
modifier|*
name|name
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|gfig_name_encode
parameter_list|(
name|gchar
modifier|*
name|dest
parameter_list|,
name|gchar
modifier|*
name|src
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|gfig_name_decode
parameter_list|(
name|gchar
modifier|*
name|dest
parameter_list|,
specifier|const
name|gchar
modifier|*
name|src
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|gint
name|gfig_list_pos
parameter_list|(
name|GFigObj
modifier|*
name|gfig
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|gint
name|gfig_list_insert
parameter_list|(
name|GFigObj
modifier|*
name|gfig
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|gfig_free
parameter_list|(
name|GFigObj
modifier|*
name|gfig
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|save_options
parameter_list|(
name|GString
modifier|*
name|string
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|GString
modifier|*
name|gfig_save_as_string
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|gboolean
name|gfig_save_as_parasite
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|GFigObj
modifier|*
name|gfig_load_from_parasite
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|GFigObj
modifier|*
name|gfig_new
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|gfig_save_callbk
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_decl_stmt
DECL|variable|top_level_dlg
name|GtkWidget
modifier|*
name|top_level_dlg
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|gfig_drawable
name|GimpDrawable
modifier|*
name|gfig_drawable
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|gfig_list
name|GList
modifier|*
name|gfig_list
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|org_scale_x_factor
DECL|variable|org_scale_y_factor
name|gdouble
name|org_scale_x_factor
decl_stmt|,
name|org_scale_y_factor
decl_stmt|;
end_decl_stmt

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* __GFIG_H__ */
end_comment

end_unit


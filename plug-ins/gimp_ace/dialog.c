begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* dialog.c: user interface for GIMP Adaptive Contrast Enhancment plug-in */
end_comment

begin_comment
comment|/* Copyright (C) 1999 Kevin M. Turner<kevint@poboxes.com> */
end_comment

begin_comment
comment|/* $Id$ */
end_comment

begin_comment
comment|/*  * This program is free software; you can redistribute it and/or modify  * it under the terms of the GNU General Public License as published by  * the Free Software Foundation; either version 2 of the License, or  * (at your option) any later version.  See the file COPYING for details.  *  */
end_comment

begin_include
include|#
directive|include
file|<config.h>
end_include

begin_comment
comment|/* autostuff */
end_comment

begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_comment
comment|/* for asprintf(wintitle,...) */
end_comment

begin_include
include|#
directive|include
file|<gtk/gtk.h>
end_include

begin_include
include|#
directive|include
file|<libgimp/gimp.h>
end_include

begin_include
include|#
directive|include
file|<libintl.h>
end_include

begin_comment
comment|/* i18n - gettext */
end_comment

begin_define
DECL|macro|_ (String)
define|#
directive|define
name|_
parameter_list|(
name|String
parameter_list|)
value|gettext (String)
end_define

begin_ifdef
ifdef|#
directive|ifdef
name|gettext_noop
end_ifdef

begin_define
DECL|macro|N_ (String)
define|#
directive|define
name|N_
parameter_list|(
name|String
parameter_list|)
value|gettext_noop (String)
end_define

begin_else
else|#
directive|else
end_else

begin_define
DECL|macro|N_ (String)
define|#
directive|define
name|N_
parameter_list|(
name|String
parameter_list|)
value|(String)
end_define

begin_endif
endif|#
directive|endif
end_endif

begin_include
include|#
directive|include
file|"gimp_ace.h"
end_include

begin_comment
comment|/* AceValues */
end_comment

begin_function_decl
specifier|static
name|void
name|ok_callback
parameter_list|(
name|GtkWidget
modifier|*
name|widget
parameter_list|,
name|gpointer
name|data
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|void
name|close_callback
parameter_list|(
name|GtkWidget
modifier|*
name|widget
parameter_list|,
name|gpointer
name|data
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|GtkWidget
modifier|*
name|ace_dialog_new
parameter_list|(
name|GtkSignalFunc
name|ok_callback
parameter_list|,
name|GtkSignalFunc
name|close_callback
parameter_list|,
name|gboolean
modifier|*
name|go_ahead
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|void
name|adjust_double_changed
parameter_list|(
name|GtkAdjustment
modifier|*
name|adj
parameter_list|,
name|gpointer
modifier|*
name|unused
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|void
name|adjust_uint_changed
parameter_list|(
name|GtkAdjustment
modifier|*
name|adj
parameter_list|,
name|gpointer
modifier|*
name|unused
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|void
name|omenu_callback
parameter_list|(
name|GtkWidget
modifier|*
name|menuitem
parameter_list|,
name|gpointer
name|data
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|void
name|toggled_cb
parameter_list|(
name|GtkToggleButton
modifier|*
name|toggle
parameter_list|,
name|gboolean
modifier|*
name|data
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|void
name|strength_changed
parameter_list|(
name|GtkAdjustment
modifier|*
name|strength_adj
parameter_list|,
name|GtkAdjustment
modifier|*
name|bradj_adj
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|void
name|bradj_changed
parameter_list|(
name|GtkAdjustment
modifier|*
name|bradj_adj
parameter_list|,
name|gpointer
name|unused
parameter_list|)
function_decl|;
end_function_decl

begin_define
DECL|macro|SPACING
define|#
directive|define
name|SPACING
value|4
end_define

begin_define
DECL|macro|HBOX_SPACING
define|#
directive|define
name|HBOX_SPACING
value|SPACING
end_define

begin_define
DECL|macro|DIALOG_BORDER_WIDTH
define|#
directive|define
name|DIALOG_BORDER_WIDTH
value|0
end_define

begin_define
DECL|macro|OUTER_BORDER_WIDTH
define|#
directive|define
name|OUTER_BORDER_WIDTH
value|6
end_define

begin_define
DECL|macro|ACTION_AREA_BORDER_WIDTH
define|#
directive|define
name|ACTION_AREA_BORDER_WIDTH
value|OUTER_BORDER_WIDTH
end_define

begin_define
DECL|macro|TOP_AREA_BORDER_WIDTH
define|#
directive|define
name|TOP_AREA_BORDER_WIDTH
value|OUTER_BORDER_WIDTH
end_define

begin_define
DECL|macro|TABLE_ROW_SPACING
define|#
directive|define
name|TABLE_ROW_SPACING
value|SPACING
end_define

begin_define
DECL|macro|TABLE_COL_SPACING
define|#
directive|define
name|TABLE_COL_SPACING
value|SPACING
end_define

begin_define
DECL|macro|SPIN_ATTOPT_X
define|#
directive|define
name|SPIN_ATTOPT_X
value|GTK_EXPAND | GTK_FILL
end_define

begin_define
DECL|macro|SPIN_ATTOPT_Y
define|#
directive|define
name|SPIN_ATTOPT_Y
value|0
end_define

begin_define
DECL|macro|SCALE_ATTOPT_X
define|#
directive|define
name|SCALE_ATTOPT_X
value|GTK_EXPAND | GTK_FILL
end_define

begin_define
DECL|macro|SCALE_ATTOPT_Y
define|#
directive|define
name|SCALE_ATTOPT_Y
value|0
end_define

begin_define
DECL|macro|LABEL_ATTOPT
define|#
directive|define
name|LABEL_ATTOPT
value|0
end_define

begin_function
DECL|function|ace_dialog (guint32 drawable_id,AceValues * acevals)
name|gboolean
name|ace_dialog
parameter_list|(
name|guint32
name|drawable_id
parameter_list|,
name|AceValues
modifier|*
name|acevals
parameter_list|)
block|{
name|GtkWidget
modifier|*
name|dlg
decl_stmt|;
name|GtkWidget
modifier|*
name|vbox1
decl_stmt|;
name|GtkWidget
modifier|*
name|table1
decl_stmt|;
name|GtkObject
modifier|*
name|bradj_scale_adj
decl_stmt|;
name|GtkWidget
modifier|*
name|bradj_scale
decl_stmt|;
name|GtkObject
modifier|*
name|strength_scale_adj
decl_stmt|;
name|GtkWidget
modifier|*
name|strength_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|link_toggle
decl_stmt|;
name|GtkWidget
modifier|*
name|label
decl_stmt|;
name|GtkWidget
modifier|*
name|hseparator
decl_stmt|;
name|GtkWidget
modifier|*
name|table2
decl_stmt|;
name|GtkObject
modifier|*
name|iter_spin_adj
decl_stmt|;
name|GtkWidget
modifier|*
name|iter_spin
decl_stmt|;
name|GtkObject
modifier|*
name|size_spin_adj
decl_stmt|;
name|GtkWidget
modifier|*
name|size_spin
decl_stmt|;
name|GtkObject
modifier|*
name|smooth_spin_adj
decl_stmt|;
name|GtkWidget
modifier|*
name|smooth_spin
decl_stmt|;
name|GtkObject
modifier|*
name|foobarum_spin_adj
decl_stmt|;
name|GtkWidget
modifier|*
name|foobarum_spin
decl_stmt|;
name|GtkTooltips
modifier|*
name|tooltips
decl_stmt|;
name|GtkWidget
modifier|*
name|menuitem
decl_stmt|,
modifier|*
name|color_menu
decl_stmt|,
modifier|*
name|color_omenu
decl_stmt|;
name|GtkWidget
modifier|*
name|frame
decl_stmt|;
name|gboolean
name|go_ahead
init|=
name|FALSE
decl_stmt|;
if|#
directive|if
literal|0
block|printf("Waiting... (pid %d)\n", getpid());         kill(getpid(), 19);
endif|#
directive|endif
comment|/* Standard gimp_dialog creation. */
name|dlg
operator|=
name|ace_dialog_new
argument_list|(
operator|(
name|GtkSignalFunc
operator|)
name|ok_callback
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|close_callback
argument_list|,
operator|&
name|go_ahead
argument_list|)
expr_stmt|;
name|tooltips
operator|=
name|gtk_tooltips_new
argument_list|()
expr_stmt|;
comment|/* Neato Box */
name|vbox1
operator|=
name|gtk_vbox_new
argument_list|(
name|FALSE
argument_list|,
name|SPACING
argument_list|)
expr_stmt|;
name|gtk_box_pack_start
argument_list|(
name|GTK_BOX
argument_list|(
name|GTK_DIALOG
argument_list|(
name|dlg
argument_list|)
operator|->
name|vbox
argument_list|)
argument_list|,
name|vbox1
argument_list|,
name|TRUE
argument_list|,
name|TRUE
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_container_border_width
argument_list|(
name|GTK_CONTAINER
argument_list|(
name|vbox1
argument_list|)
argument_list|,
name|TOP_AREA_BORDER_WIDTH
argument_list|)
expr_stmt|;
comment|/* Table which holds sliders */
name|table1
operator|=
name|gtk_table_new
argument_list|(
literal|2
argument_list|,
literal|3
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
name|gtk_box_pack_start
argument_list|(
name|GTK_BOX
argument_list|(
name|vbox1
argument_list|)
argument_list|,
name|table1
argument_list|,
name|TRUE
argument_list|,
name|TRUE
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_table_set_row_spacings
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|SPACING
argument_list|)
expr_stmt|;
name|gtk_table_set_col_spacings
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|SPACING
argument_list|)
expr_stmt|;
comment|/* slider: strength */
name|strength_scale_adj
operator|=
name|gtk_adjustment_new
argument_list|(
name|acevals
operator|->
name|strength
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|0.01
argument_list|,
literal|0.1
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|strength_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|strength_scale_adj
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_set_name
argument_list|(
name|strength_scale
argument_list|,
literal|"strength_scale"
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|strength_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|SCALE_ATTOPT_X
argument_list|,
name|SCALE_ATTOPT_Y
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|strength_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_scale_set_digits
argument_list|(
name|GTK_SCALE
argument_list|(
name|strength_scale
argument_list|)
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|gtk_range_set_update_policy
argument_list|(
name|GTK_RANGE
argument_list|(
name|strength_scale
argument_list|)
argument_list|,
name|GTK_UPDATE_DELAYED
argument_list|)
expr_stmt|;
comment|/* slider: Brightness adjust */
name|bradj_scale_adj
operator|=
name|gtk_adjustment_new
argument_list|(
name|acevals
operator|->
name|bradj
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|0.01
argument_list|,
literal|0.1
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|bradj_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|bradj_scale_adj
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_set_name
argument_list|(
name|bradj_scale
argument_list|,
literal|"bradj_scale"
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|bradj_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
name|SCALE_ATTOPT_X
argument_list|,
name|SCALE_ATTOPT_Y
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|bradj_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_scale_set_digits
argument_list|(
name|GTK_SCALE
argument_list|(
name|bradj_scale
argument_list|)
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|gtk_range_set_update_policy
argument_list|(
name|GTK_RANGE
argument_list|(
name|bradj_scale
argument_list|)
argument_list|,
name|GTK_UPDATE_DELAYED
argument_list|)
expr_stmt|;
comment|/* Link toggle */
name|link_toggle
operator|=
name|gtk_toggle_button_new_with_label
argument_list|(
name|_
argument_list|(
literal|"Link"
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_toggle_button_set_active
argument_list|(
name|GTK_TOGGLE_BUTTON
argument_list|(
name|link_toggle
argument_list|)
argument_list|,
name|acevals
operator|->
name|link
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|link_toggle
argument_list|)
argument_list|,
literal|"toggled"
argument_list|,
name|GTK_SIGNAL_FUNC
argument_list|(
name|toggled_cb
argument_list|)
argument_list|,
operator|&
operator|(
name|acevals
operator|->
name|link
operator|)
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|link_toggle
argument_list|,
literal|2
argument_list|,
literal|3
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
name|LABEL_ATTOPT
argument_list|,
name|LABEL_ATTOPT
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|/* Callbacks for above adjustments */
name|gtk_object_set_user_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|strength_scale_adj
argument_list|)
argument_list|,
operator|&
operator|(
name|acevals
operator|->
name|strength
operator|)
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|strength_scale_adj
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
name|GTK_SIGNAL_FUNC
argument_list|(
name|strength_changed
argument_list|)
argument_list|,
name|bradj_scale_adj
argument_list|)
expr_stmt|;
name|gtk_object_set_user_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|bradj_scale_adj
argument_list|)
argument_list|,
operator|&
operator|(
name|acevals
operator|->
name|bradj
operator|)
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|bradj_scale_adj
argument_list|)
argument_list|,
literal|"link"
argument_list|,
name|link_toggle
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|bradj_scale_adj
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
name|GTK_SIGNAL_FUNC
argument_list|(
name|bradj_changed
argument_list|)
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
comment|/* Labels for brightness adjust and strength */
name|label
operator|=
name|gtk_label_new
argument_list|(
name|_
argument_list|(
literal|"Strength:"
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|label
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|LABEL_ATTOPT
argument_list|,
name|LABEL_ATTOPT
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|label
operator|=
name|gtk_label_new
argument_list|(
name|_
argument_list|(
literal|"Brightness Adjust:"
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|label
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
name|LABEL_ATTOPT
argument_list|,
name|LABEL_ATTOPT
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|/* Seperator */
name|hseparator
operator|=
name|gtk_hseparator_new
argument_list|()
expr_stmt|;
name|gtk_box_pack_start
argument_list|(
name|GTK_BOX
argument_list|(
name|vbox1
argument_list|)
argument_list|,
name|hseparator
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|/* Table which holds spinbuttons */
comment|/* (iterations, size, threshold) */
name|table2
operator|=
name|gtk_table_new
argument_list|(
literal|2
argument_list|,
literal|4
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
name|gtk_box_pack_start
argument_list|(
name|GTK_BOX
argument_list|(
name|vbox1
argument_list|)
argument_list|,
name|table2
argument_list|,
name|TRUE
argument_list|,
name|TRUE
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_table_set_row_spacings
argument_list|(
name|GTK_TABLE
argument_list|(
name|table2
argument_list|)
argument_list|,
name|SPACING
argument_list|)
expr_stmt|;
name|gtk_table_set_col_spacings
argument_list|(
name|GTK_TABLE
argument_list|(
name|table2
argument_list|)
argument_list|,
name|SPACING
argument_list|)
expr_stmt|;
comment|/* Iteration spin */
name|iter_spin_adj
operator|=
name|gtk_adjustment_new
argument_list|(
name|acevals
operator|->
name|iterations
argument_list|,
literal|1
argument_list|,
literal|200
argument_list|,
literal|1
argument_list|,
literal|10
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|iter_spin
operator|=
name|gtk_spin_button_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|iter_spin_adj
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_widget_set_name
argument_list|(
name|iter_spin
argument_list|,
literal|"iteration_spin"
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table2
argument_list|)
argument_list|,
name|iter_spin
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
name|SPIN_ATTOPT_X
argument_list|,
name|SPIN_ATTOPT_Y
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_object_set_user_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|iter_spin_adj
argument_list|)
argument_list|,
operator|&
operator|(
name|acevals
operator|->
name|iterations
operator|)
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|iter_spin_adj
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
name|GTK_SIGNAL_FUNC
argument_list|(
name|adjust_uint_changed
argument_list|)
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
comment|/* Iteration label */
name|label
operator|=
name|gtk_label_new
argument_list|(
name|_
argument_list|(
literal|"Iterations:"
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table2
argument_list|)
argument_list|,
name|label
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|LABEL_ATTOPT
argument_list|,
name|LABEL_ATTOPT
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|/* size spin */
name|size_spin_adj
operator|=
name|gtk_adjustment_new
argument_list|(
name|acevals
operator|->
name|wsize
argument_list|,
literal|4
argument_list|,
literal|128
argument_list|,
literal|1
argument_list|,
literal|10
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|size_spin
operator|=
name|gtk_spin_button_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_spin_adj
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_widget_set_name
argument_list|(
name|size_spin
argument_list|,
literal|"size_spin"
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table2
argument_list|)
argument_list|,
name|size_spin
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_object_set_user_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_spin_adj
argument_list|)
argument_list|,
operator|&
operator|(
name|acevals
operator|->
name|wsize
operator|)
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_spin_adj
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
name|GTK_SIGNAL_FUNC
argument_list|(
name|adjust_uint_changed
argument_list|)
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
comment|/* size label */
name|label
operator|=
name|gtk_label_new
argument_list|(
name|_
argument_list|(
literal|"Detail Size:"
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table2
argument_list|)
argument_list|,
name|label
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|LABEL_ATTOPT
argument_list|,
name|LABEL_ATTOPT
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|/* smoothing spin */
name|smooth_spin_adj
operator|=
name|gtk_adjustment_new
argument_list|(
name|acevals
operator|->
name|smoothing
argument_list|,
literal|0
argument_list|,
literal|100
argument_list|,
literal|5
argument_list|,
literal|10
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|smooth_spin
operator|=
name|gtk_spin_button_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|smooth_spin_adj
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_widget_set_name
argument_list|(
name|smooth_spin
argument_list|,
literal|"smooth_spin"
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table2
argument_list|)
argument_list|,
name|smooth_spin
argument_list|,
literal|2
argument_list|,
literal|3
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
name|SPIN_ATTOPT_X
argument_list|,
name|SPIN_ATTOPT_Y
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_object_set_user_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|smooth_spin_adj
argument_list|)
argument_list|,
operator|&
operator|(
name|acevals
operator|->
name|smoothing
operator|)
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|smooth_spin_adj
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
name|GTK_SIGNAL_FUNC
argument_list|(
name|adjust_double_changed
argument_list|)
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
comment|/* smoothing label */
name|label
operator|=
name|gtk_label_new
argument_list|(
name|_
argument_list|(
literal|"Smoothing:"
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table2
argument_list|)
argument_list|,
name|label
argument_list|,
literal|2
argument_list|,
literal|3
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|LABEL_ATTOPT
argument_list|,
name|LABEL_ATTOPT
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|/* foobarum spin */
name|foobarum_spin_adj
operator|=
name|gtk_adjustment_new
argument_list|(
name|acevals
operator|->
name|coefftol
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|.001
argument_list|,
literal|.01
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|foobarum_spin
operator|=
name|gtk_spin_button_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|foobarum_spin_adj
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|gtk_widget_set_name
argument_list|(
name|foobarum_spin
argument_list|,
literal|"foobarum_spin"
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table2
argument_list|)
argument_list|,
name|foobarum_spin
argument_list|,
literal|3
argument_list|,
literal|4
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
name|SPIN_ATTOPT_X
argument_list|,
name|SPIN_ATTOPT_Y
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_object_set_user_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|foobarum_spin_adj
argument_list|)
argument_list|,
operator|&
operator|(
name|acevals
operator|->
name|coefftol
operator|)
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|foobarum_spin_adj
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
name|GTK_SIGNAL_FUNC
argument_list|(
name|adjust_double_changed
argument_list|)
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
comment|/* foobarum label */
name|label
operator|=
name|gtk_label_new
argument_list|(
name|_
argument_list|(
literal|"foobarm:"
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table2
argument_list|)
argument_list|,
name|label
argument_list|,
literal|3
argument_list|,
literal|4
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|LABEL_ATTOPT
argument_list|,
name|LABEL_ATTOPT
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|/** Color method **/
name|frame
operator|=
name|gtk_frame_new
argument_list|(
name|_
argument_list|(
literal|"Color Overflow"
argument_list|)
argument_list|)
expr_stmt|;
name|color_menu
operator|=
name|gtk_menu_new
argument_list|()
expr_stmt|;
name|menuitem
operator|=
name|gtk_menu_item_new_with_label
argument_list|(
name|_
argument_list|(
literal|"limit"
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_menu_append
argument_list|(
name|GTK_MENU
argument_list|(
name|color_menu
argument_list|)
argument_list|,
name|menuitem
argument_list|)
expr_stmt|;
name|gtk_object_set_user_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|menuitem
argument_list|)
argument_list|,
name|GUINT_TO_POINTER
argument_list|(
name|GLACE_COLOR_Yxy
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|menuitem
argument_list|)
argument_list|,
literal|"activate"
argument_list|,
name|GTK_SIGNAL_FUNC
argument_list|(
name|omenu_callback
argument_list|)
argument_list|,
operator|&
operator|(
name|acevals
operator|->
name|color_method
operator|)
argument_list|)
expr_stmt|;
name|menuitem
operator|=
name|gtk_menu_item_new_with_label
argument_list|(
name|_
argument_list|(
literal|"add white"
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_menu_append
argument_list|(
name|GTK_MENU
argument_list|(
name|color_menu
argument_list|)
argument_list|,
name|menuitem
argument_list|)
expr_stmt|;
name|gtk_object_set_user_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|menuitem
argument_list|)
argument_list|,
name|GUINT_TO_POINTER
argument_list|(
name|GLACE_COLOR_LUMIN
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|menuitem
argument_list|)
argument_list|,
literal|"activate"
argument_list|,
name|GTK_SIGNAL_FUNC
argument_list|(
name|omenu_callback
argument_list|)
argument_list|,
operator|&
operator|(
name|acevals
operator|->
name|color_method
operator|)
argument_list|)
expr_stmt|;
name|gtk_widget_show_all
argument_list|(
name|color_menu
argument_list|)
expr_stmt|;
name|color_omenu
operator|=
name|gtk_option_menu_new
argument_list|()
expr_stmt|;
name|gtk_option_menu_set_menu
argument_list|(
name|GTK_OPTION_MENU
argument_list|(
name|color_omenu
argument_list|)
argument_list|,
name|color_menu
argument_list|)
expr_stmt|;
switch|switch
condition|(
name|acevals
operator|->
name|color_method
condition|)
block|{
case|case
name|GLACE_COLOR_Yxy
case|:
name|gtk_option_menu_set_history
argument_list|(
name|GTK_OPTION_MENU
argument_list|(
name|color_omenu
argument_list|)
argument_list|,
literal|0
argument_list|)
expr_stmt|;
break|break;
case|case
name|GLACE_COLOR_LUMIN
case|:
name|gtk_option_menu_set_history
argument_list|(
name|GTK_OPTION_MENU
argument_list|(
name|color_omenu
argument_list|)
argument_list|,
literal|1
argument_list|)
expr_stmt|;
break|break;
block|}
name|gtk_container_add
argument_list|(
name|GTK_CONTAINER
argument_list|(
name|frame
argument_list|)
argument_list|,
name|color_omenu
argument_list|)
expr_stmt|;
name|gtk_box_pack_start
argument_list|(
name|GTK_BOX
argument_list|(
name|vbox1
argument_list|)
argument_list|,
name|frame
argument_list|,
name|FALSE
argument_list|,
name|TRUE
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|/* done */
name|gtk_widget_show_all
argument_list|(
name|dlg
argument_list|)
expr_stmt|;
name|gtk_main
argument_list|()
expr_stmt|;
return|return
operator|(
name|go_ahead
operator|)
return|;
block|}
end_function

begin_comment
comment|/* ???_dialog_new: */
end_comment

begin_comment
comment|/* This should probably be generalized into a libgimpui function,    but there are many different strings for argv0, wmclass,    and window title, and I find it easier to hardcode them now. */
end_comment

begin_function
DECL|function|ace_dialog_new (GtkSignalFunc ok_callback,GtkSignalFunc close_callback,gboolean * go_ahead)
specifier|static
name|GtkWidget
modifier|*
name|ace_dialog_new
parameter_list|(
name|GtkSignalFunc
name|ok_callback
parameter_list|,
name|GtkSignalFunc
name|close_callback
parameter_list|,
name|gboolean
modifier|*
name|go_ahead
parameter_list|)
block|{
name|GtkWidget
modifier|*
name|dlg
decl_stmt|;
name|GtkWidget
modifier|*
name|button
decl_stmt|;
name|guchar
modifier|*
name|color_cube
decl_stmt|;
name|gchar
modifier|*
name|wintitle
decl_stmt|;
name|gchar
modifier|*
modifier|*
name|argv
decl_stmt|;
name|gint
name|argc
decl_stmt|;
comment|/* It's desirable to have an argv0 to pass to gtk_init, 	   so that GTK+ knows what the program's name is... */
name|argc
operator|=
literal|1
expr_stmt|;
name|argv
operator|=
name|g_new
argument_list|(
name|gchar
operator|*
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|argv
index|[
literal|0
index|]
operator|=
name|g_strdup
argument_list|(
literal|"gimp_ace"
argument_list|)
expr_stmt|;
name|gtk_init
argument_list|(
operator|&
name|argc
argument_list|,
operator|&
name|argv
argument_list|)
expr_stmt|;
name|gtk_rc_parse
argument_list|(
name|gimp_gtkrc
argument_list|()
argument_list|)
expr_stmt|;
comment|/* FIXME: I don't understand any of this colormapcube stuff. */
name|gtk_preview_set_gamma
argument_list|(
name|gimp_gamma
argument_list|()
argument_list|)
expr_stmt|;
name|gtk_preview_set_install_cmap
argument_list|(
name|gimp_install_cmap
argument_list|()
argument_list|)
expr_stmt|;
name|color_cube
operator|=
name|gimp_color_cube
argument_list|()
expr_stmt|;
name|gtk_preview_set_color_cube
argument_list|(
name|color_cube
index|[
literal|0
index|]
argument_list|,
name|color_cube
index|[
literal|1
index|]
argument_list|,
name|color_cube
index|[
literal|2
index|]
argument_list|,
name|color_cube
index|[
literal|3
index|]
argument_list|)
expr_stmt|;
name|gtk_widget_set_default_visual
argument_list|(
name|gtk_preview_get_visual
argument_list|()
argument_list|)
expr_stmt|;
name|gtk_widget_set_default_colormap
argument_list|(
name|gtk_preview_get_cmap
argument_list|()
argument_list|)
expr_stmt|;
name|dlg
operator|=
name|gtk_dialog_new
argument_list|()
expr_stmt|;
name|gtk_window_set_wmclass
argument_list|(
name|GTK_WINDOW
argument_list|(
name|dlg
argument_list|)
argument_list|,
literal|"plug-in-ace"
argument_list|,
literal|"Gimp"
argument_list|)
expr_stmt|;
name|gtk_widget_set_name
argument_list|(
name|dlg
argument_list|,
literal|"plug-in-ace"
argument_list|)
expr_stmt|;
comment|/* This window title includes the version string. */
name|wintitle
operator|=
name|g_strdup_printf
argument_list|(
name|_
argument_list|(
literal|"Adaptive Contrast Enhancement v %s"
argument_list|)
argument_list|,
name|VERSION
argument_list|)
expr_stmt|;
name|gtk_window_set_title
argument_list|(
name|GTK_WINDOW
argument_list|(
name|dlg
argument_list|)
argument_list|,
name|wintitle
argument_list|)
expr_stmt|;
name|g_free
argument_list|(
name|wintitle
argument_list|)
expr_stmt|;
name|gtk_window_position
argument_list|(
name|GTK_WINDOW
argument_list|(
name|dlg
argument_list|)
argument_list|,
name|GTK_WIN_POS_MOUSE
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|dlg
argument_list|)
argument_list|,
literal|"destroy"
argument_list|,
name|close_callback
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
comment|/* Various border settings... */
name|gtk_container_border_width
argument_list|(
name|GTK_CONTAINER
argument_list|(
name|dlg
argument_list|)
argument_list|,
name|DIALOG_BORDER_WIDTH
argument_list|)
expr_stmt|;
name|gtk_container_border_width
argument_list|(
name|GTK_CONTAINER
argument_list|(
name|GTK_DIALOG
argument_list|(
name|dlg
argument_list|)
operator|->
name|action_area
argument_list|)
argument_list|,
name|ACTION_AREA_BORDER_WIDTH
argument_list|)
expr_stmt|;
comment|/* Action Area */
name|gtk_widget_set_name
argument_list|(
name|GTK_DIALOG
argument_list|(
name|dlg
argument_list|)
operator|->
name|action_area
argument_list|,
literal|"action_area"
argument_list|)
expr_stmt|;
name|button
operator|=
name|gtk_button_new_with_label
argument_list|(
name|_
argument_list|(
literal|"OK"
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_set_name
argument_list|(
name|button
argument_list|,
literal|"ok_button"
argument_list|)
expr_stmt|;
name|GTK_WIDGET_SET_FLAGS
argument_list|(
name|button
argument_list|,
name|GTK_CAN_DEFAULT
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|button
argument_list|)
argument_list|,
literal|"clicked"
argument_list|,
name|GTK_SIGNAL_FUNC
argument_list|(
name|ok_callback
argument_list|)
argument_list|,
name|go_ahead
argument_list|)
expr_stmt|;
name|gtk_box_pack_start
argument_list|(
name|GTK_BOX
argument_list|(
name|GTK_DIALOG
argument_list|(
name|dlg
argument_list|)
operator|->
name|action_area
argument_list|)
argument_list|,
name|button
argument_list|,
name|TRUE
argument_list|,
name|TRUE
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_widget_grab_default
argument_list|(
name|button
argument_list|)
expr_stmt|;
name|button
operator|=
name|gtk_button_new_with_label
argument_list|(
name|_
argument_list|(
literal|"Cancel"
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_set_name
argument_list|(
name|button
argument_list|,
literal|"cancel_button"
argument_list|)
expr_stmt|;
name|GTK_WIDGET_SET_FLAGS
argument_list|(
name|button
argument_list|,
name|GTK_CAN_DEFAULT
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|button
argument_list|)
argument_list|,
literal|"clicked"
argument_list|,
name|close_callback
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_box_pack_start
argument_list|(
name|GTK_BOX
argument_list|(
name|GTK_DIALOG
argument_list|(
name|dlg
argument_list|)
operator|->
name|action_area
argument_list|)
argument_list|,
name|button
argument_list|,
name|TRUE
argument_list|,
name|TRUE
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|/* FIXME: I'm missing a HELP button. */
return|return
name|dlg
return|;
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|adjust_uint_changed (GtkAdjustment * adj,gpointer * unused)
name|adjust_uint_changed
parameter_list|(
name|GtkAdjustment
modifier|*
name|adj
parameter_list|,
name|gpointer
modifier|*
name|unused
parameter_list|)
block|{
name|guint
modifier|*
name|variable
decl_stmt|;
name|variable
operator|=
name|gtk_object_get_user_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|adj
argument_list|)
argument_list|)
expr_stmt|;
operator|*
name|variable
operator|=
call|(
name|guint
call|)
argument_list|(
name|adj
operator|->
name|value
argument_list|)
expr_stmt|;
comment|/*	dialog_update_preview(pre_info); */
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|adjust_double_changed (GtkAdjustment * adj,gpointer * unused)
name|adjust_double_changed
parameter_list|(
name|GtkAdjustment
modifier|*
name|adj
parameter_list|,
name|gpointer
modifier|*
name|unused
parameter_list|)
block|{
name|gdouble
modifier|*
name|variable
decl_stmt|;
name|variable
operator|=
name|gtk_object_get_user_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|adj
argument_list|)
argument_list|)
expr_stmt|;
operator|*
name|variable
operator|=
call|(
name|gdouble
call|)
argument_list|(
name|adj
operator|->
name|value
argument_list|)
expr_stmt|;
comment|/*	dialog_update_preview(pre_info); */
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|toggled_cb (GtkToggleButton * toggle,gboolean * data)
name|toggled_cb
parameter_list|(
name|GtkToggleButton
modifier|*
name|toggle
parameter_list|,
name|gboolean
modifier|*
name|data
parameter_list|)
block|{
operator|*
name|data
operator|=
name|toggle
operator|->
name|active
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|strength_changed (GtkAdjustment * strength_adj,GtkAdjustment * bradj_adj)
name|strength_changed
parameter_list|(
name|GtkAdjustment
modifier|*
name|strength_adj
parameter_list|,
name|GtkAdjustment
modifier|*
name|bradj_adj
parameter_list|)
block|{
name|GtkToggleButton
modifier|*
name|link_toggle
init|=
name|NULL
decl_stmt|;
name|gdouble
modifier|*
name|strength
decl_stmt|;
name|strength
operator|=
name|gtk_object_get_user_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|strength_adj
argument_list|)
argument_list|)
expr_stmt|;
operator|*
name|strength
operator|=
call|(
name|gdouble
call|)
argument_list|(
name|strength_adj
operator|->
name|value
argument_list|)
expr_stmt|;
name|link_toggle
operator|=
name|GTK_TOGGLE_BUTTON
argument_list|(
name|gtk_object_get_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|bradj_adj
argument_list|)
argument_list|,
literal|"link"
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|link_toggle
operator|->
name|active
condition|)
name|gtk_adjustment_set_value
argument_list|(
name|bradj_adj
argument_list|,
operator|*
name|strength
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|bradj_changed (GtkAdjustment * bradj_adj,gpointer unused)
name|bradj_changed
parameter_list|(
name|GtkAdjustment
modifier|*
name|bradj_adj
parameter_list|,
name|gpointer
name|unused
parameter_list|)
block|{
name|GtkToggleButton
modifier|*
name|link_toggle
init|=
name|NULL
decl_stmt|;
name|gdouble
modifier|*
name|bradj_p
init|=
name|NULL
decl_stmt|;
name|gdouble
name|bradj
init|=
call|(
name|gdouble
call|)
argument_list|(
name|bradj_adj
operator|->
name|value
argument_list|)
decl_stmt|;
if|if
condition|(
name|TRUE
condition|)
block|{
name|bradj_p
operator|=
name|gtk_object_get_user_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|bradj_adj
argument_list|)
argument_list|)
expr_stmt|;
operator|*
name|bradj_p
operator|=
name|bradj
expr_stmt|;
block|}
if|if
condition|(
name|FALSE
condition|)
block|{
name|link_toggle
operator|=
name|GTK_TOGGLE_BUTTON
argument_list|(
name|gtk_object_get_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|bradj_adj
argument_list|)
argument_list|,
literal|"link"
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_toggle_button_set_active
argument_list|(
name|link_toggle
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|omenu_callback (GtkWidget * menuitem,gpointer data)
name|omenu_callback
parameter_list|(
name|GtkWidget
modifier|*
name|menuitem
parameter_list|,
name|gpointer
name|data
parameter_list|)
block|{
operator|*
operator|(
operator|(
name|Glace_ColorMethods
operator|*
operator|)
name|data
operator|)
operator|=
operator|(
name|Glace_ColorMethods
operator|)
name|GPOINTER_TO_UINT
argument_list|(
name|gtk_object_get_user_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|menuitem
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"option menu set data to %d\n"
argument_list|,
operator|*
operator|(
operator|(
name|Glace_ColorMethods
operator|*
operator|)
name|data
operator|)
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|ok_callback (GtkWidget * unused,gpointer data)
name|ok_callback
parameter_list|(
name|GtkWidget
modifier|*
name|unused
parameter_list|,
name|gpointer
name|data
parameter_list|)
block|{
name|gboolean
modifier|*
name|go_ahead
init|=
operator|(
name|gboolean
operator|*
operator|)
name|data
decl_stmt|;
operator|*
name|go_ahead
operator|=
name|TRUE
expr_stmt|;
name|gtk_main_quit
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|close_callback (GtkWidget * unused_widget,gpointer unused_data)
name|close_callback
parameter_list|(
name|GtkWidget
modifier|*
name|unused_widget
parameter_list|,
name|gpointer
name|unused_data
parameter_list|)
block|{
name|gtk_main_quit
argument_list|()
expr_stmt|;
block|}
end_function

end_unit


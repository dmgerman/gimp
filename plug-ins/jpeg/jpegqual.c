begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* jpegqual.c - analyze quality settings of existing JPEG files  *  * Copyright (C) 2007 RaphaÃ«l Quinet<raphael@gimp.org>  *  * This program is free software; you can redistribute it and/or modify  * it under the terms of the GNU General Public License as published by  * the Free Software Foundation; either version 2 of the License, or  * (at your option) any later version.  *  * This program is distributed in the hope that it will be useful,  * but WITHOUT ANY WARRANTY; without even the implied warranty of  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the  * GNU General Public License for more details.  *  * You should have received a copy of the GNU General Public License  * along with this program; if not, write to the Free Software  * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */
end_comment

begin_comment
comment|/*  * This program analyzes the quantization tables of the JPEG files  * given on the command line and displays their quality settings.  *  * It can be used to validate the formula used in jpeg_detect_quality(),  * by comparing the quality reported for different JPEG files.  *  * It can also dump quantization tables so that they can be integrated  * into this program and recognized later.  This can be used to identify  * which device or which program saved a JPEG file.  */
end_comment

begin_comment
comment|/*  * TODO:  * - rename this program!  * - update quant_info[].  * - get rid of the command-line option '--name' (too cumbersome to use).  * - rewrite the parser for command-line options and use GOption instead.  * - reorganize the options: 2 groups for print options and for selection.  * - re-add the code to compare different formulas for approx. IJG quality.  */
end_comment

begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_include
include|#
directive|include
file|<string.h>
end_include

begin_include
include|#
directive|include
file|<glib.h>
end_include

begin_include
include|#
directive|include
file|<jpeglib.h>
end_include

begin_include
include|#
directive|include
file|"jpeg-quality.h"
end_include

begin_comment
comment|/* command-line options */
end_comment

begin_typedef
typedef|typedef
struct|struct
DECL|struct|__anon28ae5c2c0108
block|{
DECL|member|option
specifier|const
name|gchar
modifier|*
name|option
decl_stmt|;
DECL|member|description
specifier|const
name|gchar
modifier|*
name|description
decl_stmt|;
DECL|typedef|OptionDesc
block|}
name|OptionDesc
typedef|;
end_typedef

begin_decl_stmt
DECL|variable|options_desc
specifier|static
specifier|const
name|OptionDesc
name|options_desc
index|[]
init|=
block|{
block|{
literal|"-h, --help"
block|,
literal|"Display this help message"
block|}
block|,
block|{
literal|"-s, --summary"
block|,
literal|"Print summary information and IJG quality (enabled by default)"
block|}
block|,
block|{
literal|"-t, --tables"
block|,
literal|"Dump quantization tables"
block|}
block|,
block|{
literal|"-c, --c-tables"
block|,
literal|"Dump quantization tables as C code"
block|}
block|,
block|{
literal|"-n, --name<name>"
block|,
literal|"Camera or software name (used when printing tables)"
block|}
block|,
block|{
literal|"-u, --unknown"
block|,
literal|"Only print information about files with unknown tables"
block|}
block|,
block|{
name|NULL
block|,
name|NULL
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|option_summary
specifier|static
name|gboolean
name|option_summary
init|=
name|TRUE
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|option_ctable
specifier|static
name|gboolean
name|option_ctable
init|=
name|FALSE
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|option_table_2cols
specifier|static
name|gboolean
name|option_table_2cols
init|=
name|FALSE
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|option_name
specifier|static
name|gchar
modifier|*
name|option_name
init|=
name|NULL
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|option_unknown
specifier|static
name|gboolean
name|option_unknown
init|=
name|FALSE
decl_stmt|;
end_decl_stmt

begin_if
if|#
directive|if
literal|0
end_if

begin_comment
comment|/* FIXME */
end_comment

begin_comment
unit|static guint16 **ijg_luminance       = NULL;
comment|/* luminance, baseline */
end_comment

begin_comment
unit|static guint16 **ijg_chrominance     = NULL;
comment|/* chrominance, baseline */
end_comment

begin_comment
unit|static guint16 **ijg_luminance_nb    = NULL;
comment|/* luminance, not baseline */
end_comment

begin_comment
unit|static guint16 **ijg_chrominance_nb  = NULL;
comment|/* chrominance, not baseline */
end_comment

begin_endif
endif|#
directive|endif
end_endif

begin_typedef
typedef|typedef
struct|struct
DECL|struct|__anon28ae5c2c0208
block|{
DECL|member|lum_sum
specifier|const
name|gint
name|lum_sum
decl_stmt|;
DECL|member|chrom_sum
specifier|const
name|gint
name|chrom_sum
decl_stmt|;
DECL|member|subsmp_h
specifier|const
name|gint
name|subsmp_h
decl_stmt|;
DECL|member|subsmp_v
specifier|const
name|gint
name|subsmp_v
decl_stmt|;
DECL|member|source_name
specifier|const
name|gchar
modifier|*
name|source_name
decl_stmt|;
DECL|member|setting_name
specifier|const
name|gchar
modifier|*
name|setting_name
decl_stmt|;
DECL|member|ijg_qual
specifier|const
name|gint
name|ijg_qual
decl_stmt|;
DECL|typedef|QuantInfo
block|}
name|QuantInfo
typedef|;
end_typedef

begin_decl_stmt
DECL|variable|quant_info
specifier|static
specifier|const
name|QuantInfo
name|quant_info
index|[]
init|=
block|{
block|{
literal|64
block|,
literal|64
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 100"
block|,
literal|100
block|}
block|,
block|{
literal|86
block|,
literal|115
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 99"
block|,
literal|99
block|}
block|,
block|{
literal|151
block|,
literal|224
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 98"
block|,
literal|98
block|}
block|,
block|{
literal|221
block|,
literal|333
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 97"
block|,
literal|97
block|}
block|,
block|{
literal|292
block|,
literal|443
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 96"
block|,
literal|96
block|}
block|,
block|{
literal|369
block|,
literal|558
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 95"
block|,
literal|95
block|}
block|,
block|{
literal|441
block|,
literal|668
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 94"
block|,
literal|94
block|}
block|,
block|{
literal|518
block|,
literal|779
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 93"
block|,
literal|93
block|}
block|,
block|{
literal|592
block|,
literal|891
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 92"
block|,
literal|92
block|}
block|,
block|{
literal|667
block|,
literal|999
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 91"
block|,
literal|91
block|}
block|,
block|{
literal|736
block|,
literal|1110
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 90"
block|,
literal|90
block|}
block|,
block|{
literal|814
block|,
literal|1223
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 89"
block|,
literal|89
block|}
block|,
block|{
literal|884
block|,
literal|1332
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 88"
block|,
literal|88
block|}
block|,
block|{
literal|961
block|,
literal|1444
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 87"
block|,
literal|87
block|}
block|,
block|{
literal|1031
block|,
literal|1555
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 86"
block|,
literal|86
block|}
block|,
block|{
literal|1109
block|,
literal|1666
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 85"
block|,
literal|85
block|}
block|,
block|{
literal|1179
block|,
literal|1778
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 84"
block|,
literal|84
block|}
block|,
block|{
literal|1251
block|,
literal|1888
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 83"
block|,
literal|83
block|}
block|,
block|{
literal|1326
block|,
literal|2000
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 82"
block|,
literal|82
block|}
block|,
block|{
literal|1398
block|,
literal|2111
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 81"
block|,
literal|81
block|}
block|,
block|{
literal|1477
block|,
literal|2221
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 80"
block|,
literal|80
block|}
block|,
block|{
literal|1552
block|,
literal|2336
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 79"
block|,
literal|79
block|}
block|,
block|{
literal|1620
block|,
literal|2445
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 78"
block|,
literal|78
block|}
block|,
block|{
literal|1692
block|,
literal|2556
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 77"
block|,
literal|77
block|}
block|,
block|{
literal|1773
block|,
literal|2669
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 76"
block|,
literal|76
block|}
block|,
block|{
literal|1858
block|,
literal|2780
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 75"
block|,
literal|75
block|}
block|,
block|{
literal|1915
block|,
literal|2836
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 74"
block|,
literal|74
block|}
block|,
block|{
literal|1996
block|,
literal|2949
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 73"
block|,
literal|73
block|}
block|,
block|{
literal|2068
block|,
literal|3060
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 72"
block|,
literal|72
block|}
block|,
block|{
literal|2136
block|,
literal|3169
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 71"
block|,
literal|71
block|}
block|,
block|{
literal|2211
block|,
literal|3284
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 70"
block|,
literal|70
block|}
block|,
block|{
literal|2290
block|,
literal|3394
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 69"
block|,
literal|69
block|}
block|,
block|{
literal|2362
block|,
literal|3505
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 68"
block|,
literal|68
block|}
block|,
block|{
literal|2437
block|,
literal|3617
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 67"
block|,
literal|67
block|}
block|,
block|{
literal|2509
block|,
literal|3727
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 66"
block|,
literal|66
block|}
block|,
block|{
literal|2583
block|,
literal|3839
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 65"
block|,
literal|65
block|}
block|,
block|{
literal|2657
block|,
literal|3950
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 64"
block|,
literal|64
block|}
block|,
block|{
literal|2727
block|,
literal|4061
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 63"
block|,
literal|63
block|}
block|,
block|{
literal|2804
block|,
literal|4173
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 62"
block|,
literal|62
block|}
block|,
block|{
literal|2874
block|,
literal|4282
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 61"
block|,
literal|61
block|}
block|,
block|{
literal|2952
block|,
literal|4395
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 60"
block|,
literal|60
block|}
block|,
block|{
literal|3021
block|,
literal|4506
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 59"
block|,
literal|59
block|}
block|,
block|{
literal|3096
block|,
literal|4614
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 58"
block|,
literal|58
block|}
block|,
block|{
literal|3170
block|,
literal|4726
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 57"
block|,
literal|57
block|}
block|,
block|{
literal|3247
block|,
literal|4837
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 56"
block|,
literal|56
block|}
block|,
block|{
literal|3323
block|,
literal|4947
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 55"
block|,
literal|55
block|}
block|,
block|{
literal|3396
block|,
literal|5062
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 54"
block|,
literal|54
block|}
block|,
block|{
literal|3467
block|,
literal|5172
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 53"
block|,
literal|53
block|}
block|,
block|{
literal|3541
block|,
literal|5281
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 52"
block|,
literal|52
block|}
block|,
block|{
literal|3621
block|,
literal|5396
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 51"
block|,
literal|51
block|}
block|,
block|{
literal|3688
block|,
literal|5505
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 50"
block|,
literal|50
block|}
block|,
block|{
literal|3755
block|,
literal|5614
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 49"
block|,
literal|49
block|}
block|,
block|{
literal|3835
block|,
literal|5729
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 48"
block|,
literal|48
block|}
block|,
block|{
literal|3909
block|,
literal|5838
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 47"
block|,
literal|47
block|}
block|,
block|{
literal|3980
block|,
literal|5948
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 46"
block|,
literal|46
block|}
block|,
block|{
literal|4092
block|,
literal|6116
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 45"
block|,
literal|45
block|}
block|,
block|{
literal|4166
block|,
literal|6226
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 44"
block|,
literal|44
block|}
block|,
block|{
literal|4280
block|,
literal|6396
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 43"
block|,
literal|43
block|}
block|,
block|{
literal|4393
block|,
literal|6562
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 42"
block|,
literal|42
block|}
block|,
block|{
literal|4463
block|,
literal|6672
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 41"
block|,
literal|41
block|}
block|,
block|{
literal|4616
block|,
literal|6897
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 40"
block|,
literal|40
block|}
block|,
block|{
literal|4719
block|,
literal|7060
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 39"
block|,
literal|39
block|}
block|,
block|{
literal|4829
block|,
literal|7227
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 38"
block|,
literal|38
block|}
block|,
block|{
literal|4976
block|,
literal|7447
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 37"
block|,
literal|37
block|}
block|,
block|{
literal|5086
block|,
literal|7616
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 36"
block|,
literal|36
block|}
block|,
block|{
literal|5240
block|,
literal|7841
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 35"
block|,
literal|35
block|}
block|,
block|{
literal|5421
block|,
literal|8114
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 34"
block|,
literal|34
block|}
block|,
block|{
literal|5571
block|,
literal|8288
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 33"
block|,
literal|33
block|}
block|,
block|{
literal|5756
block|,
literal|8565
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 32"
block|,
literal|32
block|}
block|,
block|{
literal|5939
block|,
literal|8844
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 31"
block|,
literal|31
block|}
block|,
block|{
literal|6125
block|,
literal|9122
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 30"
block|,
literal|30
block|}
block|,
block|{
literal|6345
block|,
literal|9455
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 29"
block|,
literal|29
block|}
block|,
block|{
literal|6562
block|,
literal|9787
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 28"
block|,
literal|28
block|}
block|,
block|{
literal|6823
block|,
literal|10175
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 27"
block|,
literal|27
block|}
block|,
block|{
literal|7084
block|,
literal|10567
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 26"
block|,
literal|26
block|}
block|,
block|{
literal|7376
block|,
literal|11010
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 25"
block|,
literal|25
block|}
block|,
block|{
literal|7668
block|,
literal|11453
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 24"
block|,
literal|24
block|}
block|,
block|{
literal|7995
block|,
literal|11954
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 23"
block|,
literal|23
block|}
block|,
block|{
literal|8331
block|,
literal|12511
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 22"
block|,
literal|22
block|}
block|,
block|{
literal|8680
block|,
literal|13121
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 21"
block|,
literal|21
block|}
block|,
block|{
literal|9056
block|,
literal|13790
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 20"
block|,
literal|20
block|}
block|,
block|{
literal|9368
block|,
literal|14204
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 19"
block|,
literal|19
block|}
block|,
block|{
literal|9679
block|,
literal|14267
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 18"
block|,
literal|18
block|}
block|,
block|{
literal|10027
block|,
literal|14346
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 17"
block|,
literal|17
block|}
block|,
block|{
literal|10360
block|,
literal|14429
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 16"
block|,
literal|16
block|}
block|,
block|{
literal|10714
block|,
literal|14526
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 15"
block|,
literal|15
block|}
block|,
block|{
literal|11081
block|,
literal|14635
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 14"
block|,
literal|14
block|}
block|,
block|{
literal|11456
block|,
literal|14754
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 13"
block|,
literal|13
block|}
block|,
block|{
literal|11861
block|,
literal|14864
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 12"
block|,
literal|12
block|}
block|,
block|{
literal|12240
block|,
literal|14985
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 11"
block|,
literal|11
block|}
block|,
block|{
literal|12560
block|,
literal|15110
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 10"
block|,
literal|10
block|}
block|,
block|{
literal|12859
block|,
literal|15245
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 9"
block|,
literal|9
block|}
block|,
block|{
literal|13230
block|,
literal|15369
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 8"
block|,
literal|8
block|}
block|,
block|{
literal|13623
block|,
literal|15523
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 7"
block|,
literal|7
block|}
block|,
block|{
literal|14073
block|,
literal|15731
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 6"
block|,
literal|6
block|}
block|,
block|{
literal|14655
block|,
literal|16010
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 5"
block|,
literal|5
block|}
block|,
block|{
literal|15277
block|,
literal|16218
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 4"
block|,
literal|4
block|}
block|,
block|{
literal|15946
block|,
literal|16320
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 3"
block|,
literal|3
block|}
block|,
block|{
literal|16315
block|,
literal|16320
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 2"
block|,
literal|2
block|}
block|,
block|{
literal|16320
block|,
literal|16320
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 1"
block|,
literal|1
block|}
block|,
block|{
literal|16320
block|,
literal|16320
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"quality 0"
block|,
literal|1
block|}
block|,
block|{
literal|8008
block|,
literal|11954
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 23"
block|,
operator|-
literal|22
block|}
block|,
block|{
literal|8370
block|,
literal|12511
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 22"
block|,
operator|-
literal|21
block|}
block|,
block|{
literal|8774
block|,
literal|13121
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 21"
block|,
operator|-
literal|20
block|}
block|,
block|{
literal|9234
block|,
literal|13790
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 20"
block|,
operator|-
literal|19
block|}
block|,
block|{
literal|9700
block|,
literal|14459
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 19"
block|,
operator|-
literal|17
block|}
block|,
block|{
literal|10209
block|,
literal|15236
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 18"
block|,
operator|-
literal|14
block|}
block|,
block|{
literal|10843
block|,
literal|16182
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 17"
block|,
operator|-
literal|11
block|}
block|,
block|{
literal|11505
block|,
literal|17183
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 16"
block|,
operator|-
literal|7
block|}
block|,
block|{
literal|12279
block|,
literal|18351
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 15"
block|,
operator|-
literal|5
block|}
block|,
block|{
literal|13166
block|,
literal|19633
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 14"
block|,
literal|0
block|}
block|,
block|{
literal|14160
block|,
literal|21129
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 13"
block|,
literal|0
block|}
block|,
block|{
literal|15344
block|,
literal|22911
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 12"
block|,
literal|0
block|}
block|,
block|{
literal|16748
block|,
literal|24969
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 11"
block|,
literal|0
block|}
block|,
block|{
literal|18440
block|,
literal|27525
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 10"
block|,
literal|0
block|}
block|,
block|{
literal|20471
block|,
literal|30529
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 9"
block|,
literal|0
block|}
block|,
block|{
literal|23056
block|,
literal|34422
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 8"
block|,
literal|0
block|}
block|,
block|{
literal|26334
block|,
literal|39314
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 7"
block|,
literal|0
block|}
block|,
block|{
literal|30719
block|,
literal|45876
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 6"
block|,
literal|0
block|}
block|,
block|{
literal|36880
block|,
literal|55050
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 5"
block|,
literal|0
block|}
block|,
block|{
literal|46114
block|,
literal|68840
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 4"
block|,
literal|0
block|}
block|,
block|{
literal|61445
block|,
literal|91697
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 3"
block|,
literal|0
block|}
block|,
block|{
literal|92200
block|,
literal|137625
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 2"
block|,
literal|0
block|}
block|,
block|{
literal|184400
block|,
literal|275250
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 1"
block|,
literal|0
block|}
block|,
block|{
literal|184400
block|,
literal|275250
block|,
literal|0
block|,
literal|0
block|,
literal|"IJG JPEG Library"
block|,
literal|"not baseline 0"
block|,
literal|0
block|}
block|,
block|{
literal|319
block|,
literal|665
block|,
literal|2
block|,
literal|1
block|,
literal|"ACD ?"
block|,
literal|"?"
block|,
operator|-
literal|94
block|}
block|,
block|{
literal|436
block|,
literal|996
block|,
literal|2
block|,
literal|1
block|,
literal|"ACD ?"
block|,
literal|"?"
block|,
operator|-
literal|92
block|}
block|,
block|{
literal|664
block|,
literal|1499
block|,
literal|2
block|,
literal|1
block|,
literal|"ACD ?"
block|,
literal|"?"
block|,
operator|-
literal|88
block|}
block|,
block|{
literal|1590
block|,
literal|3556
block|,
literal|2
block|,
literal|2
block|,
literal|"ACD ?"
block|,
literal|"?"
block|,
operator|-
literal|71
block|}
block|,
block|{
literal|284
block|,
literal|443
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe Photoshop CS3"
block|,
literal|"?"
block|,
operator|-
literal|96
block|}
block|,
block|{
literal|109
block|,
literal|171
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop CS or CS2"
block|,
literal|"quality 12"
block|,
operator|-
literal|98
block|}
block|,
block|{
literal|303
block|,
literal|466
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"quality 11"
block|,
operator|-
literal|95
block|}
block|,
block|{
literal|535
block|,
literal|750
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"quality 10"
block|,
operator|-
literal|93
block|}
block|,
block|{
literal|668
block|,
literal|830
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"quality 9"
block|,
operator|-
literal|91
block|}
block|,
block|{
literal|794
block|,
literal|895
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"quality 8"
block|,
operator|-
literal|90
block|}
block|,
block|{
literal|971
block|,
literal|950
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"quality 7"
block|,
operator|-
literal|89
block|}
block|,
block|{
literal|884
block|,
literal|831
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"quality 6"
block|,
operator|-
literal|90
block|}
block|,
block|{
literal|1032
block|,
literal|889
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"quality 5"
block|,
operator|-
literal|89
block|}
block|,
block|{
literal|1126
block|,
literal|940
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"quality 4"
block|,
operator|-
literal|88
block|}
block|,
block|{
literal|1216
block|,
literal|977
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"quality 3"
block|,
operator|-
literal|88
block|}
block|,
block|{
literal|1281
block|,
literal|998
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"quality 2"
block|,
operator|-
literal|87
block|}
block|,
block|{
literal|1484
block|,
literal|1083
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"quality 1"
block|,
operator|-
literal|86
block|}
block|,
block|{
literal|1582
block|,
literal|1108
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"quality 0"
block|,
operator|-
literal|85
block|}
block|,
block|{
literal|95
block|,
literal|168
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"save for web 100"
block|,
operator|-
literal|98
block|}
block|,
block|{
literal|234
block|,
literal|445
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"save for web 90"
block|,
operator|-
literal|96
block|}
block|,
block|{
literal|406
block|,
literal|724
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"save for web 80"
block|,
operator|-
literal|93
block|}
block|,
block|{
literal|646
block|,
literal|1149
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"save for web 70"
block|,
operator|-
literal|90
block|}
block|,
block|{
literal|974
block|,
literal|1769
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"save for web 60"
block|,
operator|-
literal|85
block|}
block|,
block|{
literal|1221
block|,
literal|1348
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"save for web 50"
block|,
operator|-
literal|86
block|}
block|,
block|{
literal|1821
block|,
literal|1997
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"save for web 40"
block|,
operator|-
literal|79
block|}
block|,
block|{
literal|2223
block|,
literal|2464
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"save for web 30"
block|,
operator|-
literal|74
block|}
block|,
block|{
literal|2575
block|,
literal|2903
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"save for web 20"
block|,
operator|-
literal|70
block|}
block|,
block|{
literal|3514
block|,
literal|3738
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe Photoshop CS2"
block|,
literal|"save for web 10"
block|,
operator|-
literal|60
block|}
block|,
block|{
literal|95
block|,
literal|166
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop CS or Lightroom"
block|,
literal|"save for web 100?"
block|,
operator|-
literal|98
block|}
block|,
block|{
literal|232
block|,
literal|443
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop CS"
block|,
literal|"?"
block|,
operator|-
literal|96
block|}
block|,
block|{
literal|649
block|,
literal|853
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop CS or Elements 4.0"
block|,
literal|"?"
block|,
operator|-
literal|91
block|}
block|,
block|{
literal|844
block|,
literal|849
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe Photoshop CS"
block|,
literal|"?"
block|,
operator|-
literal|90
block|}
block|,
block|{
literal|962
block|,
literal|892
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe Photoshop CS"
block|,
literal|"?"
block|,
operator|-
literal|89
block|}
block|,
block|{
literal|406
block|,
literal|722
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop 7.0"
block|,
literal|"?"
block|,
operator|-
literal|93
block|}
block|,
block|{
literal|539
block|,
literal|801
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop 7.0 CE"
block|,
literal|"?"
block|,
operator|-
literal|92
block|}
block|,
block|{
literal|786
block|,
literal|926
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop 7.0"
block|,
literal|"?"
block|,
operator|-
literal|90
block|}
block|,
block|{
literal|539
block|,
literal|801
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop 5.0"
block|,
literal|"?"
block|,
operator|-
literal|92
block|}
block|,
block|{
literal|717
block|,
literal|782
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe Photoshop 5.0"
block|,
literal|"?"
block|,
operator|-
literal|91
block|}
block|,
block|{
literal|1068
block|,
literal|941
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe Photoshop 4.0"
block|,
literal|"?"
block|,
operator|-
literal|89
block|}
block|,
block|{
literal|339
block|,
literal|670
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop ?"
block|,
literal|"?"
block|,
operator|-
literal|94
block|}
block|,
block|{
literal|406
block|,
literal|722
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop ?"
block|,
literal|"?"
block|,
operator|-
literal|93
block|}
block|,
block|{
literal|427
block|,
literal|613
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe Photoshop ?"
block|,
literal|"?"
block|,
operator|-
literal|94
block|}
block|,
block|{
literal|525
block|,
literal|941
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop ?"
block|,
literal|"?"
block|,
operator|-
literal|92
block|}
block|,
block|{
literal|803
block|,
literal|1428
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop ?"
block|,
literal|"?"
block|,
operator|-
literal|87
block|}
block|,
block|{
literal|1085
block|,
literal|1996
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop ?"
block|,
literal|"?"
block|,
operator|-
literal|83
block|}
block|,
block|{
literal|1156
block|,
literal|2116
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop ?"
block|,
literal|"?"
block|,
operator|-
literal|82
block|}
block|,
block|{
literal|1175
block|,
literal|2169
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop ?"
block|,
literal|"?"
block|,
operator|-
literal|81
block|}
block|,
block|{
literal|2272
block|,
literal|2522
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe Photoshop ?"
block|,
literal|"?"
block|,
operator|-
literal|73
block|}
block|,
block|{
literal|513
block|,
literal|0
block|,
literal|1
block|,
literal|1
block|,
literal|"Adobe Photoshop ?"
block|,
literal|"?"
block|,
operator|-
literal|97
block|}
block|,
block|{
literal|2515
block|,
literal|2831
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe ImageReady"
block|,
literal|"?"
block|,
operator|-
literal|70
block|}
block|,
block|{
literal|3822
block|,
literal|3975
block|,
literal|2
block|,
literal|2
block|,
literal|"Adobe ImageReady"
block|,
literal|"?"
block|,
operator|-
literal|57
block|}
block|,
block|{
literal|255
block|,
literal|393
block|,
literal|2
block|,
literal|1
block|,
literal|"Apple Quicktime 7"
block|,
literal|"?"
block|,
operator|-
literal|96
block|}
block|,
block|{
literal|513
block|,
literal|775
block|,
literal|2
block|,
literal|2
block|,
literal|"Apple Quicktime 7"
block|,
literal|"?"
block|,
operator|-
literal|93
block|}
block|,
block|{
literal|543
block|,
literal|784
block|,
literal|2
block|,
literal|1
block|,
literal|"Apple Quicktime 7"
block|,
literal|"?"
block|,
operator|-
literal|92
block|}
block|,
block|{
literal|361
block|,
literal|506
block|,
literal|2
block|,
literal|1
block|,
literal|"Apple ?"
block|,
literal|"?"
block|,
operator|-
literal|95
block|}
block|,
block|{
literal|1511
block|,
literal|2229
block|,
literal|2
block|,
literal|2
block|,
literal|"Apple ?"
block|,
literal|"?"
block|,
operator|-
literal|79
block|}
block|,
block|{
literal|188
block|,
literal|276
block|,
literal|2
block|,
literal|1
block|,
literal|"Canon EOS 300D, 350D or 400D"
block|,
literal|"Fine"
block|,
operator|-
literal|97
block|}
block|,
block|{
literal|708
block|,
literal|1057
block|,
literal|2
block|,
literal|1
block|,
literal|"Canon EOS 10D"
block|,
literal|"?"
block|,
operator|-
literal|90
block|}
block|,
block|{
literal|533
block|,
literal|1925
block|,
literal|2
block|,
literal|1
block|,
literal|"Canon Digital Ixus"
block|,
literal|"Fine"
block|,
operator|-
literal|86
block|}
block|,
block|{
literal|533
block|,
literal|1325
block|,
literal|2
block|,
literal|1
block|,
literal|"Canon PowerShot A95, S1, S2, SD400 or SD630"
block|,
literal|"Fine"
block|,
operator|-
literal|89
block|}
block|,
block|{
literal|192
block|,
literal|556
block|,
literal|1
block|,
literal|2
block|,
literal|"Canon PowerShot A430"
block|,
literal|"Superfine"
block|,
operator|-
literal|95
block|}
block|,
block|{
literal|192
block|,
literal|556
block|,
literal|2
block|,
literal|1
block|,
literal|"Canon PowerShot S200 or Ixus 800"
block|,
literal|"Superfine"
block|,
operator|-
literal|95
block|}
block|,
block|{
literal|64
block|,
literal|64
block|,
literal|2
block|,
literal|2
block|,
literal|"Casio EX-Z600"
block|,
literal|"Fine"
block|,
literal|100
block|}
block|,
block|{
literal|288
block|,
literal|443
block|,
literal|2
block|,
literal|1
block|,
literal|"FujiFilm MX-2700"
block|,
literal|"?"
block|,
operator|-
literal|96
block|}
block|,
block|{
literal|2056
block|,
literal|3102
block|,
literal|2
block|,
literal|1
block|,
literal|"FujiFilm DX-10"
block|,
literal|"?"
block|,
operator|-
literal|71
block|}
block|,
block|{
literal|1254
block|,
literal|1888
block|,
literal|2
block|,
literal|1
block|,
literal|"FujiFilm MX-1700 Zoom"
block|,
literal|"?"
block|,
operator|-
literal|82
block|}
block|,
block|{
literal|515
block|,
literal|774
block|,
literal|2
block|,
literal|1
block|,
literal|"FujiFilm FinePix 2600 Zoom"
block|,
literal|"Fine"
block|,
operator|-
literal|93
block|}
block|,
block|{
literal|1375
block|,
literal|1131
block|,
literal|2
block|,
literal|2
block|,
literal|"Kodak DC210"
block|,
literal|"?"
block|,
operator|-
literal|86
block|}
block|,
block|{
literal|736
block|,
literal|1110
block|,
literal|2
block|,
literal|2
block|,
literal|"Kodak DC240"
block|,
literal|"?"
block|,
literal|90
block|}
block|,
block|{
literal|161
block|,
literal|179
block|,
literal|1
block|,
literal|1
block|,
literal|"Lead ?"
block|,
literal|"?"
block|,
operator|-
literal|98
block|}
block|,
block|{
literal|711
block|,
literal|1055
block|,
literal|1
block|,
literal|1
block|,
literal|"Lead ?"
block|,
literal|"?"
block|,
operator|-
literal|90
block|}
block|,
block|{
literal|1079
block|,
literal|1610
block|,
literal|1
block|,
literal|1
block|,
literal|"Lead ?"
block|,
literal|"?"
block|,
operator|-
literal|85
block|}
block|,
block|{
literal|2031
block|,
literal|3054
block|,
literal|1
block|,
literal|1
block|,
literal|"Lead ?"
block|,
literal|"?"
block|,
operator|-
literal|72
block|}
block|,
block|{
literal|4835
block|,
literal|7226
block|,
literal|1
block|,
literal|1
block|,
literal|"Lead ?"
block|,
literal|"?"
block|,
operator|-
literal|37
block|}
block|,
block|{
literal|8199
block|,
literal|12287
block|,
literal|1
block|,
literal|1
block|,
literal|"Lead ?"
block|,
literal|"?"
block|,
operator|-
literal|22
block|}
block|,
block|{
literal|582
block|,
literal|836
block|,
literal|2
block|,
literal|1
block|,
literal|"Medion ?"
block|,
literal|"?"
block|,
operator|-
literal|92
block|}
block|,
block|{
literal|116
block|,
literal|169
block|,
literal|2
block|,
literal|1
block|,
literal|"Nikon D50, D70, D70s, D80"
block|,
literal|"Fine"
block|,
operator|-
literal|98
block|}
block|,
block|{
literal|218
block|,
literal|333
block|,
literal|2
block|,
literal|1
block|,
literal|"Nikon D70 or D70s"
block|,
literal|"Normal"
block|,
operator|-
literal|97
block|}
block|,
block|{
literal|616
block|,
literal|941
block|,
literal|2
block|,
literal|1
block|,
literal|"Nikon D70 or D70s"
block|,
literal|"Basic"
block|,
operator|-
literal|91
block|}
block|,
block|{
literal|671
block|,
literal|999
block|,
literal|2
block|,
literal|1
block|,
literal|"Nikon D70 or D70s"
block|,
literal|"Basic + raw"
block|,
operator|-
literal|90
block|}
block|,
block|{
literal|127
block|,
literal|169
block|,
literal|2
block|,
literal|1
block|,
literal|"Nikon D70 v1.0"
block|,
literal|"Fine"
block|,
operator|-
literal|98
block|}
block|,
block|{
literal|302
block|,
literal|444
block|,
literal|2
block|,
literal|1
block|,
literal|"Nikon D70 v1.0"
block|,
literal|"Fine"
block|,
operator|-
literal|95
block|}
block|,
block|{
literal|315
block|,
literal|499
block|,
literal|2
block|,
literal|1
block|,
literal|"Nikon D70 v1.0"
block|,
literal|"Fine"
block|,
operator|-
literal|95
block|}
block|,
block|{
literal|329
block|,
literal|500
block|,
literal|2
block|,
literal|1
block|,
literal|"Nikon D70 v1.0"
block|,
literal|"Fine"
block|,
operator|-
literal|95
block|}
block|,
block|{
literal|346
block|,
literal|500
block|,
literal|2
block|,
literal|1
block|,
literal|"Nikon D70 v1.0"
block|,
literal|"Fine"
block|,
operator|-
literal|95
block|}
block|,
block|{
literal|372
block|,
literal|558
block|,
literal|2
block|,
literal|1
block|,
literal|"Nikon D70 v1.0"
block|,
literal|"Fine"
block|,
operator|-
literal|94
block|}
block|,
block|{
literal|389
block|,
literal|560
block|,
literal|2
block|,
literal|1
block|,
literal|"Nikon D70 v1.0"
block|,
literal|"Fine"
block|,
operator|-
literal|94
block|}
block|,
block|{
literal|419
block|,
literal|611
block|,
literal|2
block|,
literal|1
block|,
literal|"Nikon D70 v1.0"
block|,
literal|"Fine"
block|,
operator|-
literal|94
block|}
block|,
block|{
literal|449
block|,
literal|668
block|,
literal|2
block|,
literal|1
block|,
literal|"Nikon D70 v1.0"
block|,
literal|"Fine"
block|,
operator|-
literal|93
block|}
block|,
block|{
literal|506
block|,
literal|775
block|,
literal|2
block|,
literal|1
block|,
literal|"Nikon D70 v1.0"
block|,
literal|"Fine"
block|,
operator|-
literal|93
block|}
block|,
block|{
literal|529
block|,
literal|781
block|,
literal|2
block|,
literal|1
block|,
literal|"Nikon D70 v1.0"
block|,
literal|"Fine"
block|,
operator|-
literal|92
block|}
block|,
block|{
literal|855
block|,
literal|1279
block|,
literal|2
block|,
literal|1
block|,
literal|"Nikon D40"
block|,
literal|"?"
block|,
operator|-
literal|88
block|}
block|,
block|{
literal|64
block|,
literal|64
block|,
literal|1
block|,
literal|1
block|,
literal|"Nikon Browser 6"
block|,
literal|"High quality"
block|,
literal|100
block|}
block|,
block|{
literal|779
block|,
literal|1164
block|,
literal|1
block|,
literal|1
block|,
literal|"Nikon Browser 6"
block|,
literal|"Standard quality"
block|,
operator|-
literal|89
block|}
block|,
block|{
literal|1697
block|,
literal|2554
block|,
literal|2
block|,
literal|1
block|,
literal|"Nikon Browser 6"
block|,
literal|"Standard eq"
block|,
operator|-
literal|76
block|}
block|,
block|{
literal|2746
block|,
literal|5112
block|,
literal|2
block|,
literal|2
block|,
literal|"Nikon Browser 6"
block|,
literal|"Standard compression"
block|,
operator|-
literal|57
block|}
block|,
block|{
literal|8024
block|,
literal|12006
block|,
literal|2
block|,
literal|2
block|,
literal|"Nikon Browser 6"
block|,
literal|"Maximum compression"
block|,
operator|-
literal|22
block|}
block|,
block|{
literal|736
block|,
literal|1110
block|,
literal|2
block|,
literal|2
block|,
literal|"Olympus Camedia Master"
block|,
literal|"High quality?"
block|,
literal|90
block|}
block|,
block|{
literal|1057
block|,
literal|1561
block|,
literal|2
block|,
literal|1
block|,
literal|"Olympus u770SW,S770SW"
block|,
literal|"?"
block|,
operator|-
literal|85
block|}
block|,
block|{
literal|275
block|,
literal|395
block|,
literal|2
block|,
literal|1
block|,
literal|"Olympus u750,S750"
block|,
literal|"Raw?"
block|,
operator|-
literal|96
block|}
block|,
block|{
literal|1477
block|,
literal|2221
block|,
literal|2
block|,
literal|2
block|,
literal|"Olympus U710,S710"
block|,
literal|"Super high quality?"
block|,
literal|80
block|}
block|,
block|{
literal|251
block|,
literal|392
block|,
literal|2
block|,
literal|1
block|,
literal|"Panasonic DMC-FZ30"
block|,
literal|"High"
block|,
operator|-
literal|96
block|}
block|,
block|{
literal|280
block|,
literal|445
block|,
literal|2
block|,
literal|1
block|,
literal|"Panasonic DMC-FZ30"
block|,
literal|"High"
block|,
operator|-
literal|96
block|}
block|,
block|{
literal|304
block|,
literal|448
block|,
literal|2
block|,
literal|1
block|,
literal|"Panasonic DMC-FZ30"
block|,
literal|"High"
block|,
operator|-
literal|95
block|}
block|,
block|{
literal|316
block|,
literal|499
block|,
literal|2
block|,
literal|1
block|,
literal|"Panasonic DMC-FZ30"
block|,
literal|"High"
block|,
operator|-
literal|95
block|}
block|,
block|{
literal|332
block|,
literal|550
block|,
literal|2
block|,
literal|1
block|,
literal|"Panasonic DMC-FZ30"
block|,
literal|"High"
block|,
operator|-
literal|95
block|}
block|,
block|{
literal|355
block|,
literal|555
block|,
literal|2
block|,
literal|1
block|,
literal|"Panasonic DMC-FZ30"
block|,
literal|"High"
block|,
operator|-
literal|95
block|}
block|,
block|{
literal|375
block|,
literal|606
block|,
literal|2
block|,
literal|1
block|,
literal|"Panasonic DMC-FZ30"
block|,
literal|"High"
block|,
operator|-
literal|94
block|}
block|,
block|{
literal|400
block|,
literal|615
block|,
literal|2
block|,
literal|1
block|,
literal|"Panasonic DMC-FZ30"
block|,
literal|"High"
block|,
operator|-
literal|94
block|}
block|,
block|{
literal|420
block|,
literal|667
block|,
literal|2
block|,
literal|1
block|,
literal|"Panasonic DMC-FZ30"
block|,
literal|"High"
block|,
operator|-
literal|94
block|}
block|,
block|{
literal|501
block|,
literal|775
block|,
literal|2
block|,
literal|1
block|,
literal|"Panasonic DMC-FZ30"
block|,
literal|"High"
block|,
operator|-
literal|93
block|}
block|,
block|{
literal|577
block|,
literal|891
block|,
literal|2
block|,
literal|1
block|,
literal|"Panasonic DMC-FZ30"
block|,
literal|"High"
block|,
operator|-
literal|92
block|}
block|,
block|{
literal|324
block|,
literal|499
block|,
literal|2
block|,
literal|1
block|,
literal|"Ricoh Caplio R1V"
block|,
literal|"?"
block|,
operator|-
literal|95
block|}
block|,
block|{
literal|634
block|,
literal|943
block|,
literal|2
block|,
literal|1
block|,
literal|"Samsung Digimax V3"
block|,
literal|"?"
block|,
operator|-
literal|91
block|}
block|,
block|{
literal|1313
block|,
literal|1997
block|,
literal|2
block|,
literal|1
block|,
literal|"Samsung Digimax V3"
block|,
literal|"?"
block|,
operator|-
literal|82
block|}
block|,
block|{
literal|1075
block|,
literal|1612
block|,
literal|2
block|,
literal|1
block|,
literal|"Sanyo SR6"
block|,
literal|"?"
block|,
operator|-
literal|85
block|}
block|,
block|{
literal|785
block|,
literal|1168
block|,
literal|2
block|,
literal|1
block|,
literal|"Sanyo SX113"
block|,
literal|"?"
block|,
operator|-
literal|89
block|}
block|,
block|{
literal|258
block|,
literal|389
block|,
literal|2
block|,
literal|1
block|,
literal|"Sony Cybershot"
block|,
literal|"?"
block|,
operator|-
literal|96
block|}
block|,
block|{
literal|2782
block|,
literal|4259
block|,
literal|2
block|,
literal|1
block|,
literal|"Sony Cybershot"
block|,
literal|"?"
block|,
operator|-
literal|61
block|}
block|,
block|{
literal|86
block|,
literal|115
block|,
literal|2
block|,
literal|1
block|,
literal|"Sony DSC-W55"
block|,
literal|"?"
block|,
literal|99
block|}
block|,
block|{
literal|221
block|,
literal|333
block|,
literal|2
block|,
literal|1
block|,
literal|"Sony DSC-W50"
block|,
literal|"?"
block|,
literal|97
block|}
block|,
block|{
literal|1477
block|,
literal|2221
block|,
literal|2
block|,
literal|2
block|,
literal|"Sony DSC-W30, DSC-P43, DSC-S600"
block|,
literal|"?"
block|,
literal|80
block|}
block|,
block|{
literal|736
block|,
literal|1110
block|,
literal|2
block|,
literal|1
block|,
literal|"SonyEricsson K750i"
block|,
literal|"Fine"
block|,
literal|90
block|}
block|,
block|{
literal|1858
block|,
literal|2780
block|,
literal|2
block|,
literal|1
block|,
literal|"SonyEricsson K750i"
block|,
literal|"Normal"
block|,
literal|75
block|}
block|,
block|{
literal|836
block|,
literal|1094
block|,
literal|2
block|,
literal|2
block|,
literal|"SonyEricsson K750i"
block|,
literal|"Panorama fine"
block|,
operator|-
literal|89
block|}
block|,
block|{
literal|1672
block|,
literal|2188
block|,
literal|2
block|,
literal|2
block|,
literal|"SonyEricsson K750i"
block|,
literal|"Panorama normal"
block|,
operator|-
literal|79
block|}
block|,
block|{
literal|361
block|,
literal|555
block|,
literal|2
block|,
literal|1
block|,
literal|"SonyEricsson K750i"
block|,
literal|"?"
block|,
operator|-
literal|95
block|}
block|,
block|{
literal|433
block|,
literal|667
block|,
literal|2
block|,
literal|1
block|,
literal|"SonyEricsson K750i"
block|,
literal|"?"
block|,
operator|-
literal|94
block|}
block|,
block|{
literal|954
block|,
literal|1443
block|,
literal|2
block|,
literal|1
block|,
literal|"SonyEricsson K750i"
block|,
literal|"?"
block|,
operator|-
literal|87
block|}
block|,
block|{
literal|1024
block|,
literal|1504
block|,
literal|2
block|,
literal|1
block|,
literal|"SonyEricsson K750i"
block|,
literal|"?"
block|,
operator|-
literal|86
block|}
block|,
block|{
literal|1097
block|,
literal|1615
block|,
literal|2
block|,
literal|1
block|,
literal|"SonyEricsson K750i"
block|,
literal|"?"
block|,
operator|-
literal|85
block|}
block|,
block|{
literal|1168
block|,
literal|1727
block|,
literal|2
block|,
literal|1
block|,
literal|"SonyEricsson K750i"
block|,
literal|"?"
block|,
operator|-
literal|84
block|}
block|,
block|{
literal|1324
block|,
literal|2000
block|,
literal|2
block|,
literal|1
block|,
literal|"SonyEricsson K750i"
block|,
literal|"?"
block|,
operator|-
literal|82
block|}
block|,
block|{
literal|1473
block|,
literal|2170
block|,
literal|2
block|,
literal|1
block|,
literal|"SonyEricsson K750i"
block|,
literal|"?"
block|,
operator|-
literal|80
block|}
block|,
block|{
literal|1615
block|,
literal|2394
block|,
literal|2
block|,
literal|1
block|,
literal|"SonyEricsson K750i"
block|,
literal|"?"
block|,
operator|-
literal|78
block|}
block|,
block|{
literal|1759
block|,
literal|2612
block|,
literal|2
block|,
literal|1
block|,
literal|"SonyEricsson K750i"
block|,
literal|"?"
block|,
operator|-
literal|76
block|}
block|,
block|{
literal|1491
block|,
literal|1491
block|,
literal|2
block|,
literal|1
block|,
literal|"SonyEricsson Z600"
block|,
literal|"Default"
block|,
operator|-
literal|83
block|}
block|,
block|{
literal|1830
block|,
literal|2725
block|,
literal|1
block|,
literal|1
block|,
literal|"Xing VT-Compress"
block|,
literal|"?"
block|,
operator|-
literal|75
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_if
if|#
directive|if
literal|0
end_if

begin_comment
comment|/* FIXME */
end_comment

begin_comment
comment|/*  * Initialize the IJG quantization tables for each quality setting.  */
end_comment

begin_comment
unit|static void init_ijg_tables (void) {   struct jpeg_compress_struct cinfo;   struct jpeg_error_mgr       jerr;   gint                        q, i;    ijg_luminance = g_new (guint16 *, 101);   ijg_chrominance = g_new (guint16 *, 101);   for (q = 0; q<= 100; q++)     {       ijg_luminance[q] = g_new (guint16, DCTSIZE2);       ijg_chrominance[q] = g_new (guint16, DCTSIZE2);     }    cinfo.err = jpeg_std_error (&jerr);   jpeg_create_compress (&cinfo);    for (q = 0; q<= 100; q++)     {       jpeg_set_quality (&cinfo, q, TRUE);       for (i = 0; i< DCTSIZE2; i++)         ijg_luminance[q][i] = cinfo.quant_tbl_ptrs[0]->quantval[i];       for (i = 0; i< DCTSIZE2; i++)         ijg_chrominance[q][i] = cinfo.quant_tbl_ptrs[1]->quantval[i];     }   for (q = 0; q<= 100; q++)     {       jpeg_set_quality (&cinfo, q, FALSE);       for (i = 0; i< DCTSIZE2; i++)         ijg_luminance_nb[q][i] = cinfo.quant_tbl_ptrs[0]->quantval[i];       for (i = 0; i< DCTSIZE2; i++)         ijg_chrominance_nb[q][i] = cinfo.quant_tbl_ptrs[1]->quantval[i];     }   jpeg_destroy_compress (&cinfo); }
comment|/*  * Check if two quantization tables are identical.  */
end_comment

begin_endif
unit|static gboolean compare_tables (const guint16 *quant_table1,                 const guint16 *quant_table2) {   gint i;    g_return_val_if_fail (quant_table1 != NULL, FALSE);   g_return_val_if_fail (quant_table2 != NULL, FALSE);    for (i = 0; i< DCTSIZE2; i++)     if (quant_table1[i] != quant_table2[i])       return FALSE;   return TRUE; }
endif|#
directive|endif
end_endif

begin_comment
comment|/* FIXME */
end_comment

begin_function
specifier|static
name|GSList
modifier|*
DECL|function|detect_source (struct jpeg_decompress_struct * cinfo)
name|detect_source
parameter_list|(
name|struct
name|jpeg_decompress_struct
modifier|*
name|cinfo
parameter_list|)
block|{
name|guint
name|lum_sum
decl_stmt|;
name|guint
name|chrom_sum
decl_stmt|;
name|gint
name|i
decl_stmt|;
name|GSList
modifier|*
name|source_list
decl_stmt|;
comment|/* compute sum of luminance and chrominance quantization tables */
name|lum_sum
operator|=
literal|0
expr_stmt|;
name|chrom_sum
operator|=
literal|0
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|DCTSIZE2
condition|;
name|i
operator|++
control|)
name|lum_sum
operator|+=
name|cinfo
operator|->
name|quant_tbl_ptrs
index|[
literal|0
index|]
operator|->
name|quantval
index|[
name|i
index|]
expr_stmt|;
if|if
condition|(
name|cinfo
operator|->
name|quant_tbl_ptrs
index|[
literal|1
index|]
condition|)
block|{
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|DCTSIZE2
condition|;
name|i
operator|++
control|)
name|chrom_sum
operator|+=
name|cinfo
operator|->
name|quant_tbl_ptrs
index|[
literal|1
index|]
operator|->
name|quantval
index|[
name|i
index|]
expr_stmt|;
block|}
comment|/* there can be more than one match (if sampling factors are compatible) */
name|source_list
operator|=
name|NULL
expr_stmt|;
if|if
condition|(
name|chrom_sum
operator|==
literal|0
condition|)
block|{
comment|/* grayscale */
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|G_N_ELEMENTS
argument_list|(
name|quant_info
argument_list|)
condition|;
name|i
operator|++
control|)
block|{
if|if
condition|(
name|quant_info
index|[
name|i
index|]
operator|.
name|lum_sum
operator|==
name|lum_sum
operator|&&
operator|(
name|quant_info
index|[
name|i
index|]
operator|.
name|subsmp_h
operator|==
literal|0
operator|||
name|quant_info
index|[
name|i
index|]
operator|.
name|subsmp_h
operator|==
name|cinfo
operator|->
name|comp_info
index|[
literal|0
index|]
operator|.
name|h_samp_factor
operator|)
operator|&&
operator|(
name|quant_info
index|[
name|i
index|]
operator|.
name|subsmp_v
operator|==
literal|0
operator|||
name|quant_info
index|[
name|i
index|]
operator|.
name|subsmp_v
operator|==
name|cinfo
operator|->
name|comp_info
index|[
literal|0
index|]
operator|.
name|v_samp_factor
operator|)
condition|)
block|{
name|source_list
operator|=
name|g_slist_append
argument_list|(
name|source_list
argument_list|,
call|(
name|gpointer
call|)
argument_list|(
name|quant_info
operator|+
name|i
argument_list|)
argument_list|)
expr_stmt|;
block|}
block|}
block|}
else|else
block|{
comment|/* RGB and other color spaces */
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|G_N_ELEMENTS
argument_list|(
name|quant_info
argument_list|)
condition|;
name|i
operator|++
control|)
block|{
if|if
condition|(
name|quant_info
index|[
name|i
index|]
operator|.
name|lum_sum
operator|==
name|lum_sum
operator|&&
name|quant_info
index|[
name|i
index|]
operator|.
name|chrom_sum
operator|==
name|chrom_sum
operator|&&
operator|(
name|quant_info
index|[
name|i
index|]
operator|.
name|subsmp_h
operator|==
literal|0
operator|||
name|quant_info
index|[
name|i
index|]
operator|.
name|subsmp_h
operator|==
name|cinfo
operator|->
name|comp_info
index|[
literal|0
index|]
operator|.
name|h_samp_factor
operator|)
operator|&&
operator|(
name|quant_info
index|[
name|i
index|]
operator|.
name|subsmp_v
operator|==
literal|0
operator|||
name|quant_info
index|[
name|i
index|]
operator|.
name|subsmp_v
operator|==
name|cinfo
operator|->
name|comp_info
index|[
literal|0
index|]
operator|.
name|v_samp_factor
operator|)
condition|)
block|{
name|source_list
operator|=
name|g_slist_append
argument_list|(
name|source_list
argument_list|,
call|(
name|gpointer
call|)
argument_list|(
name|quant_info
operator|+
name|i
argument_list|)
argument_list|)
expr_stmt|;
block|}
block|}
block|}
return|return
name|source_list
return|;
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|print_summary (struct jpeg_decompress_struct * cinfo)
name|print_summary
parameter_list|(
name|struct
name|jpeg_decompress_struct
modifier|*
name|cinfo
parameter_list|)
block|{
name|gint
name|quality
decl_stmt|;
name|gint
name|i
decl_stmt|;
name|GSList
modifier|*
name|source_list
decl_stmt|;
name|QuantInfo
modifier|*
name|source_info
decl_stmt|;
comment|/* detect JPEG quality - test the formula used in the jpeg plug-in */
name|quality
operator|=
name|jpeg_detect_quality
argument_list|(
name|cinfo
argument_list|)
expr_stmt|;
if|if
condition|(
name|quality
operator|>
literal|0
condition|)
name|g_print
argument_list|(
literal|"\tQuality:  %02d (exact)\n"
argument_list|,
name|quality
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|quality
operator|<
literal|0
condition|)
name|g_print
argument_list|(
literal|"\tQuality:  %02d (approx)\n"
argument_list|,
operator|-
name|quality
argument_list|)
expr_stmt|;
else|else
name|g_print
argument_list|(
literal|"\tQuality:  unknown\n"
argument_list|)
expr_stmt|;
comment|/* JPEG sampling factors */
name|g_print
argument_list|(
literal|"\tSampling: %dx%d"
argument_list|,
name|cinfo
operator|->
name|comp_info
index|[
literal|0
index|]
operator|.
name|h_samp_factor
argument_list|,
name|cinfo
operator|->
name|comp_info
index|[
literal|0
index|]
operator|.
name|v_samp_factor
argument_list|)
expr_stmt|;
if|if
condition|(
operator|(
name|cinfo
operator|->
name|num_components
operator|>
literal|1
operator|&&
name|cinfo
operator|->
name|num_components
operator|!=
literal|3
operator|)
operator|||
name|cinfo
operator|->
name|comp_info
index|[
literal|1
index|]
operator|.
name|h_samp_factor
operator|!=
literal|1
operator|||
name|cinfo
operator|->
name|comp_info
index|[
literal|1
index|]
operator|.
name|v_samp_factor
operator|!=
literal|1
operator|||
name|cinfo
operator|->
name|comp_info
index|[
literal|2
index|]
operator|.
name|h_samp_factor
operator|!=
literal|1
operator|||
name|cinfo
operator|->
name|comp_info
index|[
literal|2
index|]
operator|.
name|v_samp_factor
operator|!=
literal|1
condition|)
block|{
for|for
control|(
name|i
operator|=
literal|1
init|;
name|i
operator|<
name|cinfo
operator|->
name|num_components
condition|;
name|i
operator|++
control|)
name|g_print
argument_list|(
literal|",%dx%d"
argument_list|,
name|cinfo
operator|->
name|comp_info
index|[
name|i
index|]
operator|.
name|h_samp_factor
argument_list|,
name|cinfo
operator|->
name|comp_info
index|[
name|i
index|]
operator|.
name|v_samp_factor
argument_list|)
expr_stmt|;
block|}
name|g_print
argument_list|(
literal|"\n"
argument_list|)
expr_stmt|;
name|source_list
operator|=
name|detect_source
argument_list|(
name|cinfo
argument_list|)
expr_stmt|;
if|if
condition|(
name|source_list
condition|)
block|{
name|GSList
modifier|*
name|l
decl_stmt|;
for|for
control|(
name|l
operator|=
name|source_list
init|;
name|l
condition|;
name|l
operator|=
name|l
operator|->
name|next
control|)
block|{
name|source_info
operator|=
name|l
operator|->
name|data
expr_stmt|;
name|g_print
argument_list|(
literal|"\tSource:   %s - %s\n"
argument_list|,
name|source_info
operator|->
name|source_name
argument_list|,
name|source_info
operator|->
name|setting_name
argument_list|)
expr_stmt|;
block|}
name|g_slist_free
argument_list|(
name|source_list
argument_list|)
expr_stmt|;
block|}
else|else
name|g_print
argument_list|(
literal|"\tSource:   unknown\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/*  * Print a quantization table as a C array.  */
end_comment

begin_function
specifier|static
name|void
DECL|function|print_ctable (gint table_id,const guint16 * quant_table,gboolean more)
name|print_ctable
parameter_list|(
name|gint
name|table_id
parameter_list|,
specifier|const
name|guint16
modifier|*
name|quant_table
parameter_list|,
name|gboolean
name|more
parameter_list|)
block|{
name|gint
name|i
decl_stmt|;
name|g_return_if_fail
argument_list|(
name|quant_table
operator|!=
name|NULL
argument_list|)
expr_stmt|;
name|g_print
argument_list|(
literal|"    {  /* table %d */\n      "
argument_list|,
name|table_id
argument_list|)
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|DCTSIZE2
condition|;
name|i
operator|++
control|)
block|{
if|if
condition|(
name|i
operator|==
name|DCTSIZE2
operator|-
literal|1
condition|)
name|g_print
argument_list|(
literal|"%3d\n"
argument_list|,
name|quant_table
index|[
name|i
index|]
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
operator|(
name|i
operator|+
literal|1
operator|)
operator|%
name|DCTSIZE
operator|==
literal|0
condition|)
name|g_print
argument_list|(
literal|"%3d,\n      "
argument_list|,
name|quant_table
index|[
name|i
index|]
argument_list|)
expr_stmt|;
else|else
name|g_print
argument_list|(
literal|"%3d, "
argument_list|,
name|quant_table
index|[
name|i
index|]
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|more
condition|)
name|g_print
argument_list|(
literal|"    },\n"
argument_list|)
expr_stmt|;
else|else
name|g_print
argument_list|(
literal|"    }\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/*  * Print one or two quantization tables, two columns.  */
end_comment

begin_function
specifier|static
name|void
DECL|function|print_table_2cols (gint table1_id,const guint16 * quant_table1,gint table2_id,const guint16 * quant_table2)
name|print_table_2cols
parameter_list|(
name|gint
name|table1_id
parameter_list|,
specifier|const
name|guint16
modifier|*
name|quant_table1
parameter_list|,
name|gint
name|table2_id
parameter_list|,
specifier|const
name|guint16
modifier|*
name|quant_table2
parameter_list|)
block|{
name|gint
name|i
decl_stmt|;
name|gint
name|j
decl_stmt|;
if|if
condition|(
name|quant_table2
condition|)
name|g_print
argument_list|(
literal|"\tQuantization table %d:              Quantization table %d:\n\t"
argument_list|,
name|table1_id
argument_list|,
name|table2_id
argument_list|)
expr_stmt|;
else|else
name|g_print
argument_list|(
literal|"\tQuantization table %d:\n\t"
argument_list|,
name|table1_id
argument_list|)
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|DCTSIZE
condition|;
name|i
operator|++
control|)
block|{
if|if
condition|(
name|quant_table1
condition|)
block|{
for|for
control|(
name|j
operator|=
literal|0
init|;
name|j
operator|<
name|DCTSIZE
condition|;
name|j
operator|++
control|)
block|{
if|if
condition|(
name|j
operator|!=
name|DCTSIZE
operator|-
literal|1
condition|)
name|g_print
argument_list|(
literal|"%3d "
argument_list|,
name|quant_table1
index|[
name|i
operator|*
name|DCTSIZE
operator|+
name|j
index|]
argument_list|)
expr_stmt|;
else|else
block|{
if|if
condition|(
name|quant_table2
condition|)
name|g_print
argument_list|(
literal|"%3d  | "
argument_list|,
name|quant_table1
index|[
name|i
operator|*
name|DCTSIZE
operator|+
name|j
index|]
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|i
operator|!=
name|DCTSIZE
operator|-
literal|1
condition|)
name|g_print
argument_list|(
literal|"%3d\n\t"
argument_list|,
name|quant_table1
index|[
name|i
operator|*
name|DCTSIZE
operator|+
name|j
index|]
argument_list|)
expr_stmt|;
else|else
name|g_print
argument_list|(
literal|"%3d\n"
argument_list|,
name|quant_table1
index|[
name|i
operator|*
name|DCTSIZE
operator|+
name|j
index|]
argument_list|)
expr_stmt|;
block|}
block|}
block|}
else|else
block|{
name|g_print
argument_list|(
literal|"                                 | "
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|quant_table2
condition|)
block|{
for|for
control|(
name|j
operator|=
literal|0
init|;
name|j
operator|<
name|DCTSIZE
condition|;
name|j
operator|++
control|)
block|{
if|if
condition|(
name|j
operator|!=
name|DCTSIZE
operator|-
literal|1
condition|)
name|g_print
argument_list|(
literal|"%3d "
argument_list|,
name|quant_table2
index|[
name|i
operator|*
name|DCTSIZE
operator|+
name|j
index|]
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|i
operator|!=
name|DCTSIZE
operator|-
literal|1
condition|)
name|g_print
argument_list|(
literal|"%3d\n\t"
argument_list|,
name|quant_table2
index|[
name|i
operator|*
name|DCTSIZE
operator|+
name|j
index|]
argument_list|)
expr_stmt|;
else|else
name|g_print
argument_list|(
literal|"%3d\n"
argument_list|,
name|quant_table2
index|[
name|i
operator|*
name|DCTSIZE
operator|+
name|j
index|]
argument_list|)
expr_stmt|;
block|}
block|}
block|}
block|}
end_function

begin_comment
comment|/*  * Analyze a JPEG file according to the command-line options.  */
end_comment

begin_function
specifier|static
name|gboolean
DECL|function|analyze_file (const gchar * filename)
name|analyze_file
parameter_list|(
specifier|const
name|gchar
modifier|*
name|filename
parameter_list|)
block|{
name|struct
name|jpeg_decompress_struct
name|cinfo
decl_stmt|;
name|struct
name|jpeg_error_mgr
name|jerr
decl_stmt|;
name|FILE
modifier|*
name|f
decl_stmt|;
name|gint
name|i
decl_stmt|;
name|GSList
modifier|*
name|source_list
decl_stmt|;
if|if
condition|(
operator|(
name|f
operator|=
name|fopen
argument_list|(
name|filename
argument_list|,
literal|"rb"
argument_list|)
operator|)
operator|==
name|NULL
condition|)
block|{
name|g_print
argument_list|(
literal|"Cannot open '%s'\n"
argument_list|,
name|filename
argument_list|)
expr_stmt|;
return|return
name|FALSE
return|;
block|}
if|if
condition|(
name|option_summary
condition|)
name|g_print
argument_list|(
literal|"%s:\n"
argument_list|,
name|filename
argument_list|)
expr_stmt|;
name|cinfo
operator|.
name|err
operator|=
name|jpeg_std_error
argument_list|(
operator|&
name|jerr
argument_list|)
expr_stmt|;
name|jpeg_create_decompress
argument_list|(
operator|&
name|cinfo
argument_list|)
expr_stmt|;
name|jpeg_stdio_src
argument_list|(
operator|&
name|cinfo
argument_list|,
name|f
argument_list|)
expr_stmt|;
name|jpeg_read_header
argument_list|(
operator|&
name|cinfo
argument_list|,
name|TRUE
argument_list|)
expr_stmt|;
name|source_list
operator|=
name|detect_source
argument_list|(
operator|&
name|cinfo
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|source_list
operator|||
operator|!
name|option_unknown
condition|)
block|{
if|if
condition|(
name|option_summary
condition|)
name|print_summary
argument_list|(
operator|&
name|cinfo
argument_list|)
expr_stmt|;
if|if
condition|(
name|option_ctable
condition|)
block|{
name|g_print
argument_list|(
literal|"  {\n    /* %s */\n    \"%s\", \"?\",\n    %hd, %hd,\n"
argument_list|,
name|filename
argument_list|,
operator|(
name|option_name
condition|?
name|option_name
else|:
name|filename
operator|)
argument_list|,
name|cinfo
operator|.
name|comp_info
index|[
literal|0
index|]
operator|.
name|h_samp_factor
argument_list|,
name|cinfo
operator|.
name|comp_info
index|[
literal|0
index|]
operator|.
name|v_samp_factor
argument_list|)
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
literal|4
condition|;
name|i
operator|++
control|)
if|if
condition|(
name|cinfo
operator|.
name|quant_tbl_ptrs
index|[
name|i
index|]
condition|)
name|print_ctable
argument_list|(
name|i
argument_list|,
name|cinfo
operator|.
name|quant_tbl_ptrs
index|[
name|i
index|]
operator|->
name|quantval
argument_list|,
operator|(
name|i
operator|<
literal|3
operator|)
operator|&&
name|cinfo
operator|.
name|quant_tbl_ptrs
index|[
name|i
operator|+
literal|1
index|]
argument_list|)
expr_stmt|;
name|g_print
argument_list|(
literal|"  },\n"
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|option_table_2cols
condition|)
block|{
name|print_table_2cols
argument_list|(
literal|0
argument_list|,
name|cinfo
operator|.
name|quant_tbl_ptrs
index|[
literal|0
index|]
operator|->
name|quantval
argument_list|,
literal|1
argument_list|,
name|cinfo
operator|.
name|quant_tbl_ptrs
index|[
literal|1
index|]
operator|->
name|quantval
argument_list|)
expr_stmt|;
if|if
condition|(
name|cinfo
operator|.
name|quant_tbl_ptrs
index|[
literal|2
index|]
operator|||
name|cinfo
operator|.
name|quant_tbl_ptrs
index|[
literal|3
index|]
condition|)
name|print_table_2cols
argument_list|(
literal|2
argument_list|,
name|cinfo
operator|.
name|quant_tbl_ptrs
index|[
literal|2
index|]
operator|->
name|quantval
argument_list|,
literal|3
argument_list|,
name|cinfo
operator|.
name|quant_tbl_ptrs
index|[
literal|3
index|]
operator|->
name|quantval
argument_list|)
expr_stmt|;
block|}
block|}
if|if
condition|(
name|source_list
condition|)
name|g_slist_free
argument_list|(
name|source_list
argument_list|)
expr_stmt|;
name|jpeg_destroy_decompress
argument_list|(
operator|&
name|cinfo
argument_list|)
expr_stmt|;
name|fclose
argument_list|(
name|f
argument_list|)
expr_stmt|;
return|return
name|TRUE
return|;
block|}
end_function

begin_comment
comment|/*  * Help?  */
end_comment

begin_function
specifier|static
name|void
DECL|function|usage (void)
name|usage
parameter_list|(
name|void
parameter_list|)
block|{
specifier|const
name|OptionDesc
modifier|*
name|opt
decl_stmt|;
name|g_print
argument_list|(
literal|"This program analyzes the quantization tables of the JPEG files given on the\n"
literal|"command line and displays their quality settings.\n"
literal|"\n"
argument_list|)
expr_stmt|;
name|g_print
argument_list|(
literal|"Usage:\n"
literal|"  jpegqual [options] file [[options] file [...]]\n"
literal|"\n"
argument_list|)
expr_stmt|;
name|g_print
argument_list|(
literal|"Options:\n"
argument_list|)
expr_stmt|;
for|for
control|(
name|opt
operator|=
name|options_desc
init|;
name|opt
operator|->
name|option
condition|;
name|opt
operator|++
control|)
name|g_print
argument_list|(
literal|"  %-20s %s.\n"
argument_list|,
name|opt
operator|->
name|option
argument_list|,
name|opt
operator|->
name|description
argument_list|)
expr_stmt|;
name|g_print
argument_list|(
literal|"\n"
argument_list|)
expr_stmt|;
name|g_print
argument_list|(
literal|"Options may be given before any file.  Long boolean options can be negated\n"
literal|"by prefixing them with --no.  For example: --no-summary.\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/*  * Some compiler told me that it needed a function called main()...  */
end_comment

begin_function
name|int
DECL|function|main (int argc,char * argv[])
name|main
parameter_list|(
name|int
name|argc
parameter_list|,
name|char
modifier|*
name|argv
index|[]
parameter_list|)
block|{
name|gboolean
name|parse_options
init|=
name|TRUE
decl_stmt|;
name|g_set_prgname
argument_list|(
literal|"jpegqual"
argument_list|)
expr_stmt|;
if|if
condition|(
name|argc
operator|>
literal|1
condition|)
block|{
for|for
control|(
name|argv
operator|++
operator|,
name|argc
operator|--
init|;
name|argc
condition|;
name|argv
operator|++
operator|,
name|argc
operator|--
control|)
block|{
if|if
condition|(
name|parse_options
operator|&&
operator|*
operator|*
name|argv
operator|==
literal|'-'
condition|)
block|{
if|if
condition|(
operator|!
name|strcmp
argument_list|(
operator|*
name|argv
argument_list|,
literal|"--"
argument_list|)
condition|)
name|parse_options
operator|=
name|FALSE
expr_stmt|;
elseif|else
if|if
condition|(
operator|!
name|strcmp
argument_list|(
operator|*
name|argv
argument_list|,
literal|"-s"
argument_list|)
operator|||
operator|!
name|strcmp
argument_list|(
operator|*
name|argv
argument_list|,
literal|"--summary"
argument_list|)
condition|)
name|option_summary
operator|=
name|TRUE
expr_stmt|;
elseif|else
if|if
condition|(
operator|!
name|strcmp
argument_list|(
operator|*
name|argv
argument_list|,
literal|"--no-summary"
argument_list|)
condition|)
name|option_summary
operator|=
name|FALSE
expr_stmt|;
elseif|else
if|if
condition|(
operator|!
name|strcmp
argument_list|(
operator|*
name|argv
argument_list|,
literal|"-c"
argument_list|)
operator|||
operator|!
name|strcmp
argument_list|(
operator|*
name|argv
argument_list|,
literal|"--c-tables"
argument_list|)
condition|)
name|option_ctable
operator|=
name|TRUE
expr_stmt|;
elseif|else
if|if
condition|(
operator|!
name|strcmp
argument_list|(
operator|*
name|argv
argument_list|,
literal|"--no-c-tables"
argument_list|)
condition|)
name|option_ctable
operator|=
name|FALSE
expr_stmt|;
elseif|else
if|if
condition|(
operator|!
name|strcmp
argument_list|(
operator|*
name|argv
argument_list|,
literal|"-t"
argument_list|)
operator|||
operator|!
name|strcmp
argument_list|(
operator|*
name|argv
argument_list|,
literal|"--tables"
argument_list|)
condition|)
name|option_table_2cols
operator|=
name|TRUE
expr_stmt|;
elseif|else
if|if
condition|(
operator|!
name|strcmp
argument_list|(
operator|*
name|argv
argument_list|,
literal|"--no-tables"
argument_list|)
condition|)
name|option_table_2cols
operator|=
name|FALSE
expr_stmt|;
elseif|else
if|if
condition|(
operator|(
operator|!
name|strcmp
argument_list|(
operator|*
name|argv
argument_list|,
literal|"-n"
argument_list|)
operator|||
operator|!
name|strcmp
argument_list|(
operator|*
name|argv
argument_list|,
literal|"--name"
argument_list|)
operator|)
operator|&&
name|argc
operator|>
literal|1
condition|)
block|{
name|argv
operator|++
expr_stmt|;
name|argc
operator|--
expr_stmt|;
name|option_name
operator|=
operator|*
name|argv
expr_stmt|;
block|}
elseif|else
if|if
condition|(
operator|!
name|strcmp
argument_list|(
operator|*
name|argv
argument_list|,
literal|"-u"
argument_list|)
operator|||
operator|!
name|strcmp
argument_list|(
operator|*
name|argv
argument_list|,
literal|"--unknown"
argument_list|)
condition|)
name|option_unknown
operator|=
name|TRUE
expr_stmt|;
elseif|else
if|if
condition|(
operator|!
name|strcmp
argument_list|(
operator|*
name|argv
argument_list|,
literal|"--no-unkown"
argument_list|)
condition|)
name|option_unknown
operator|=
name|FALSE
expr_stmt|;
elseif|else
if|if
condition|(
operator|!
name|strcmp
argument_list|(
operator|*
name|argv
argument_list|,
literal|"-h"
argument_list|)
operator|||
operator|!
name|strcmp
argument_list|(
operator|*
name|argv
argument_list|,
literal|"--help"
argument_list|)
operator|||
operator|!
name|strcmp
argument_list|(
operator|*
name|argv
argument_list|,
literal|"-?"
argument_list|)
condition|)
block|{
name|usage
argument_list|()
expr_stmt|;
return|return
literal|0
return|;
block|}
else|else
block|{
name|g_print
argument_list|(
literal|"Unknown option or missing argument: '%s'.  "
literal|"Try '--help' for help.\n"
argument_list|,
operator|*
name|argv
argument_list|)
expr_stmt|;
return|return
literal|1
return|;
block|}
block|}
else|else
block|{
if|if
condition|(
operator|!
name|analyze_file
argument_list|(
operator|*
name|argv
argument_list|)
condition|)
return|return
literal|1
return|;
block|}
block|}
return|return
literal|0
return|;
block|}
else|else
block|{
name|usage
argument_list|()
expr_stmt|;
return|return
literal|1
return|;
block|}
block|}
end_function

end_unit


begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*  * Copyright (C) 1995 Spencer Kimball and Peter Mattis  *  * This is a plug-in for the GIMP.  *  * Plugin to convert a selection to a path.  *  * Copyright (C) 1999 Andy Thomas  alt@gimp.org  *  * This program is free software; you can redistribute it and/or modify  * it under the terms of the GNU General Public License as published by  * the Free Software Foundation; either version 2 of the License, or  * (at your option) any later version.  *  * This program is distributed in the hope that it will be useful,  * but WITHOUT ANY WARRANTY; without even the implied warranty of  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the  * GNU General Public License for more details.  *  * You should have received a copy of the GNU General Public License  * along with this program; if not, write to the Free Software  * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  *   */
end_comment

begin_comment
comment|/* Change log:-  * 0.1 First version.  */
end_comment

begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_include
include|#
directive|include
file|<stdlib.h>
end_include

begin_include
include|#
directive|include
file|"gtk/gtk.h"
end_include

begin_include
include|#
directive|include
file|"libgimp/gimp.h"
end_include

begin_include
include|#
directive|include
file|"types.h"
end_include

begin_decl_stmt
DECL|variable|adjust_widgets
specifier|static
name|GSList
modifier|*
name|adjust_widgets
init|=
name|NULL
decl_stmt|;
end_decl_stmt

begin_typedef
DECL|struct|dVal
typedef|typedef
struct|struct
name|dVal
block|{
DECL|member|value
name|gdouble
name|value
decl_stmt|;
DECL|typedef|dVal
block|}
name|dVal
typedef|;
end_typedef

begin_comment
comment|/* Reset to recommended defaults */
end_comment

begin_function
name|void
DECL|function|reset_adv_dialog ()
name|reset_adv_dialog
parameter_list|()
block|{
name|GSList
modifier|*
name|list
init|=
name|adjust_widgets
decl_stmt|;
while|while
condition|(
name|list
condition|)
block|{
name|GtkObject
modifier|*
name|w
init|=
name|GTK_OBJECT
argument_list|(
name|list
operator|->
name|data
argument_list|)
decl_stmt|;
name|dVal
modifier|*
name|valptr
init|=
operator|(
name|dVal
operator|*
operator|)
name|gtk_object_get_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|w
argument_list|)
argument_list|,
literal|"default_value"
argument_list|)
decl_stmt|;
if|if
condition|(
name|GTK_IS_ADJUSTMENT
argument_list|(
name|w
argument_list|)
condition|)
block|{
operator|(
name|GTK_ADJUSTMENT
argument_list|(
name|w
argument_list|)
operator|)
operator|->
name|value
operator|=
name|valptr
operator|->
name|value
expr_stmt|;
name|gtk_signal_emit_by_name
argument_list|(
name|GTK_OBJECT
argument_list|(
name|w
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|GTK_IS_TOGGLE_BUTTON
argument_list|(
name|w
argument_list|)
condition|)
block|{
name|gtk_toggle_button_set_state
argument_list|(
name|GTK_TOGGLE_BUTTON
argument_list|(
name|w
argument_list|)
argument_list|,
name|valptr
operator|->
name|value
argument_list|)
expr_stmt|;
block|}
else|else
name|g_warning
argument_list|(
literal|"Internal widget list error"
argument_list|)
expr_stmt|;
name|list
operator|=
name|g_slist_next
argument_list|(
name|list
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
name|gpointer
DECL|function|def_val (gdouble default_value)
name|def_val
parameter_list|(
name|gdouble
name|default_value
parameter_list|)
block|{
name|dVal
modifier|*
name|valptr
init|=
name|g_new0
argument_list|(
name|dVal
argument_list|,
literal|1
argument_list|)
decl_stmt|;
name|valptr
operator|->
name|value
operator|=
name|default_value
expr_stmt|;
return|return
operator|(
name|valptr
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|dialog_scale_update (GtkAdjustment * adjustment,gdouble * value)
name|dialog_scale_update
parameter_list|(
name|GtkAdjustment
modifier|*
name|adjustment
parameter_list|,
name|gdouble
modifier|*
name|value
parameter_list|)
block|{
if|if
condition|(
operator|*
name|value
operator|!=
name|adjustment
operator|->
name|value
condition|)
block|{
operator|*
name|value
operator|=
name|adjustment
operator|->
name|value
expr_stmt|;
block|}
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|on_keep_knees_checkbutton_toggled (GtkToggleButton * togglebutton,gpointer user_data)
name|on_keep_knees_checkbutton_toggled
parameter_list|(
name|GtkToggleButton
modifier|*
name|togglebutton
parameter_list|,
name|gpointer
name|user_data
parameter_list|)
block|{
name|int
modifier|*
name|toggle_val
decl_stmt|;
name|toggle_val
operator|=
operator|(
name|int
operator|*
operator|)
name|user_data
expr_stmt|;
if|if
condition|(
name|GTK_TOGGLE_BUTTON
argument_list|(
name|togglebutton
argument_list|)
operator|->
name|active
condition|)
block|{
comment|/* Only do for event that sets a toggle button to true */
comment|/* This will break if any more toggles are added? */
operator|*
name|toggle_val
operator|=
name|TRUE
expr_stmt|;
block|}
else|else
operator|*
name|toggle_val
operator|=
name|FALSE
expr_stmt|;
block|}
end_function

begin_function
name|GtkWidget
modifier|*
DECL|function|dialog_create_selection_area (SELVALS * sels)
name|dialog_create_selection_area
parameter_list|(
name|SELVALS
modifier|*
name|sels
parameter_list|)
block|{
name|GtkWidget
modifier|*
name|table1
decl_stmt|;
name|GtkWidget
modifier|*
name|align_threshold_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|align_threshold
decl_stmt|;
name|GtkWidget
modifier|*
name|line_reversion_threshold_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|subdivide_threshold_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|tangent_surround_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|subdivide_surround_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|reparameterize_threshold_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|corner_surround_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|corner_threshold_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|filter_percent_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|filter_secondary_surround_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|filter_surround_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|keep_knees_checkbutton
decl_stmt|;
name|GtkWidget
modifier|*
name|subdivide_search_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|reparameterize_improvement_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|line_threshold_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|filter_iteration_count_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|filter_epsilon_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|subdivide_threshold
decl_stmt|;
name|GtkWidget
modifier|*
name|tangent_surround
decl_stmt|;
name|GtkWidget
modifier|*
name|subdivide_surround
decl_stmt|;
name|GtkWidget
modifier|*
name|subdivide_search
decl_stmt|;
name|GtkWidget
modifier|*
name|reparameterize_threshold
decl_stmt|;
name|GtkWidget
modifier|*
name|reparameterize_improvement
decl_stmt|;
name|GtkWidget
modifier|*
name|line_threshold
decl_stmt|;
name|GtkWidget
modifier|*
name|line_reversion_threshold
decl_stmt|;
name|GtkWidget
modifier|*
name|keep_knees
decl_stmt|;
name|GtkWidget
modifier|*
name|filter_surround
decl_stmt|;
name|GtkWidget
modifier|*
name|filter_secondary_surround
decl_stmt|;
name|GtkWidget
modifier|*
name|filter_percent
decl_stmt|;
name|GtkWidget
modifier|*
name|filter_iteration_count
decl_stmt|;
name|GtkWidget
modifier|*
name|filter_epsilon
decl_stmt|;
name|GtkWidget
modifier|*
name|corner_always_threshold_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|error_threshold_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|filter_alternative_surround_scale
decl_stmt|;
name|GtkWidget
modifier|*
name|filter_alternative_surround
decl_stmt|;
name|GtkWidget
modifier|*
name|error_threshold
decl_stmt|;
name|GtkWidget
modifier|*
name|corner_threshold
decl_stmt|;
name|GtkWidget
modifier|*
name|corner_surround
decl_stmt|;
name|GtkWidget
modifier|*
name|corner_always_threshold
decl_stmt|;
name|GtkTooltips
modifier|*
name|tooltips
decl_stmt|;
name|GtkObject
modifier|*
name|size_data
decl_stmt|;
name|tooltips
operator|=
name|gtk_tooltips_new
argument_list|()
expr_stmt|;
name|table1
operator|=
name|gtk_table_new
argument_list|(
literal|20
argument_list|,
literal|2
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|table1
argument_list|)
expr_stmt|;
name|gtk_table_set_row_spacings
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|align_threshold_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_data
operator|=
name|gtk_adjustment_new
argument_list|(
name|sels
operator|->
name|align_threshold
argument_list|,
literal|0.2
argument_list|,
literal|2
argument_list|,
literal|0.1
argument_list|,
literal|0.1
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|align_threshold_scale
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|align_threshold_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|align_threshold_scale
argument_list|,
literal|"If two endpoints are closer than this, they are made to be equal."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|align_threshold_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|dialog_scale_update
argument_list|,
operator|&
name|sels
operator|->
name|align_threshold
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|size_data
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
literal|0.5
argument_list|)
argument_list|)
expr_stmt|;
name|align_threshold
operator|=
name|gtk_label_new
argument_list|(
literal|"align_threshold: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|align_threshold
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|align_threshold
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|GTK_WIDGET_SET_FLAGS
argument_list|(
name|align_threshold
argument_list|,
name|GTK_CAN_FOCUS
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|align_threshold
argument_list|,
literal|"If two endpoints are closer than this, they are made to be equal.\n   (-align-threshold)"
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|align_threshold
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|line_reversion_threshold_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_data
operator|=
name|gtk_adjustment_new
argument_list|(
name|sels
operator|->
name|line_reversion_threshold
argument_list|,
literal|0.01
argument_list|,
literal|0.2
argument_list|,
literal|0.01
argument_list|,
literal|0.01
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|line_reversion_threshold_scale
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|line_reversion_threshold_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|12
argument_list|,
literal|13
argument_list|,
name|GTK_EXPAND
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|line_reversion_threshold_scale
argument_list|,
literal|"If a spline is closer to a straight line than this, it remains a straight line, even if it would otherwise be changed back to a curve. This is weighted by the square of the curve length, to make shorter curves more likely to be reverted."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|line_reversion_threshold_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_scale_set_digits
argument_list|(
name|GTK_SCALE
argument_list|(
name|line_reversion_threshold_scale
argument_list|)
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|dialog_scale_update
argument_list|,
operator|&
name|sels
operator|->
name|line_reversion_threshold
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|size_data
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
literal|0.01
argument_list|)
argument_list|)
expr_stmt|;
name|subdivide_threshold_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_data
operator|=
name|gtk_adjustment_new
argument_list|(
name|sels
operator|->
name|subdivide_threshold
argument_list|,
literal|0.01
argument_list|,
literal|1
argument_list|,
literal|0.01
argument_list|,
literal|0.01
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|subdivide_threshold_scale
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|subdivide_threshold_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|19
argument_list|,
literal|20
argument_list|,
literal|0
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|subdivide_threshold_scale
argument_list|,
literal|"How many pixels a point can diverge from a straight line and still be considered a better place to subdivide."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|subdivide_threshold_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_scale_set_digits
argument_list|(
name|GTK_SCALE
argument_list|(
name|subdivide_threshold_scale
argument_list|)
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|dialog_scale_update
argument_list|,
operator|&
name|sels
operator|->
name|subdivide_threshold
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|size_data
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
literal|0.03
argument_list|)
argument_list|)
expr_stmt|;
name|tangent_surround_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_data
operator|=
name|gtk_adjustment_new
argument_list|(
name|sels
operator|->
name|tangent_surround
argument_list|,
literal|2
argument_list|,
literal|10
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|tangent_surround_scale
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|tangent_surround_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|18
argument_list|,
literal|19
argument_list|,
literal|0
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|tangent_surround_scale
argument_list|,
literal|"Number of points to look at on either side of a point when computing the approximation to the tangent at that point."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|tangent_surround_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_scale_set_digits
argument_list|(
name|GTK_SCALE
argument_list|(
name|tangent_surround_scale
argument_list|)
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|dialog_scale_update
argument_list|,
operator|&
name|sels
operator|->
name|tangent_surround
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|size_data
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
literal|3.0
argument_list|)
argument_list|)
expr_stmt|;
name|subdivide_surround_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_data
operator|=
name|gtk_adjustment_new
argument_list|(
name|sels
operator|->
name|subdivide_surround
argument_list|,
literal|2
argument_list|,
literal|10
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|subdivide_surround_scale
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|subdivide_surround_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|17
argument_list|,
literal|18
argument_list|,
literal|0
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|subdivide_surround_scale
argument_list|,
literal|"Number of points to consider when deciding whether a given point is a better place to subdivide."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|subdivide_surround_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_scale_set_digits
argument_list|(
name|GTK_SCALE
argument_list|(
name|subdivide_surround_scale
argument_list|)
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|dialog_scale_update
argument_list|,
operator|&
name|sels
operator|->
name|subdivide_surround
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|size_data
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
literal|4.0
argument_list|)
argument_list|)
expr_stmt|;
name|reparameterize_threshold_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_data
operator|=
name|gtk_adjustment_new
argument_list|(
name|sels
operator|->
name|reparameterize_threshold
argument_list|,
literal|1
argument_list|,
literal|50
argument_list|,
literal|0.5
argument_list|,
literal|0.5
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|reparameterize_threshold_scale
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|reparameterize_threshold_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|15
argument_list|,
literal|16
argument_list|,
literal|0
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|reparameterize_threshold_scale
argument_list|,
literal|"Amount of error at which it is pointless to reparameterize.  This happens, for example, when we are trying to fit the outline of the outside of an `O' with a single spline.  The initial fit is not good enough for the Newton-Raphson iteration to improve it.  It may be that it would be better to detect the cases where we didn't find any corners."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|reparameterize_threshold_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_scale_set_digits
argument_list|(
name|GTK_SCALE
argument_list|(
name|reparameterize_threshold_scale
argument_list|)
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|dialog_scale_update
argument_list|,
operator|&
name|sels
operator|->
name|reparameterize_threshold
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|size_data
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
literal|1.0
argument_list|)
argument_list|)
expr_stmt|;
name|corner_surround_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_data
operator|=
name|gtk_adjustment_new
argument_list|(
name|sels
operator|->
name|corner_surround
argument_list|,
literal|3
argument_list|,
literal|8
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|corner_surround_scale
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|corner_surround_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|2
argument_list|,
literal|3
argument_list|,
name|GTK_EXPAND
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|corner_surround_scale
argument_list|,
literal|"Number of points to consider when determining if a point is a corner or not."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|corner_surround_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|dialog_scale_update
argument_list|,
operator|&
name|sels
operator|->
name|corner_surround
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|size_data
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
literal|4.0
argument_list|)
argument_list|)
expr_stmt|;
name|corner_threshold_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_data
operator|=
name|gtk_adjustment_new
argument_list|(
name|sels
operator|->
name|corner_threshold
argument_list|,
literal|0
argument_list|,
literal|180
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|corner_threshold_scale
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|corner_threshold_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|3
argument_list|,
literal|4
argument_list|,
literal|0
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|corner_threshold_scale
argument_list|,
literal|"If a point, its predecessors, and its successors define an angle smaller than this, it's a corner. Should be in range 0..180."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|corner_threshold_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|dialog_scale_update
argument_list|,
operator|&
name|sels
operator|->
name|corner_threshold
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|size_data
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
literal|100.0
argument_list|)
argument_list|)
expr_stmt|;
name|filter_percent_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_data
operator|=
name|gtk_adjustment_new
argument_list|(
name|sels
operator|->
name|filter_percent
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|0.05
argument_list|,
literal|0.01
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|filter_percent_scale
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|filter_percent_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|8
argument_list|,
literal|9
argument_list|,
name|GTK_EXPAND
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|filter_percent_scale
argument_list|,
literal|"To produce the new point, use the old point plus this times the neighbors."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|filter_percent_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_scale_set_digits
argument_list|(
name|GTK_SCALE
argument_list|(
name|filter_percent_scale
argument_list|)
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|dialog_scale_update
argument_list|,
operator|&
name|sels
operator|->
name|filter_percent
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|size_data
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
literal|0.33
argument_list|)
argument_list|)
expr_stmt|;
name|filter_secondary_surround_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_data
operator|=
name|gtk_adjustment_new
argument_list|(
name|sels
operator|->
name|filter_secondary_surround
argument_list|,
literal|3
argument_list|,
literal|10
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|filter_secondary_surround_scale
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|filter_secondary_surround_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|9
argument_list|,
literal|10
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|filter_secondary_surround_scale
argument_list|,
literal|"Number of adjacent points to consider if `filter_surround' points defines a straight line."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|filter_secondary_surround_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_scale_set_digits
argument_list|(
name|GTK_SCALE
argument_list|(
name|filter_secondary_surround_scale
argument_list|)
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|dialog_scale_update
argument_list|,
operator|&
name|sels
operator|->
name|filter_secondary_surround
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|size_data
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
literal|3.0
argument_list|)
argument_list|)
expr_stmt|;
name|filter_surround_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_data
operator|=
name|gtk_adjustment_new
argument_list|(
name|sels
operator|->
name|filter_surround
argument_list|,
literal|2
argument_list|,
literal|10
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|filter_surround_scale
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|filter_surround_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|10
argument_list|,
literal|11
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|filter_surround_scale
argument_list|,
literal|"Number of adjacent points to consider when filtering."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|filter_surround_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_scale_set_digits
argument_list|(
name|GTK_SCALE
argument_list|(
name|filter_surround_scale
argument_list|)
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|dialog_scale_update
argument_list|,
operator|&
name|sels
operator|->
name|filter_surround
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|size_data
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
literal|2.0
argument_list|)
argument_list|)
expr_stmt|;
name|keep_knees_checkbutton
operator|=
name|gtk_check_button_new_with_label
argument_list|(
literal|""
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|keep_knees_checkbutton
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|keep_knees_checkbutton
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|11
argument_list|,
literal|12
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|keep_knees_checkbutton
argument_list|,
literal|"Says whether or not to remove ``knee'' points after finding the outline."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_toggle_button_set_state
argument_list|(
name|GTK_TOGGLE_BUTTON
argument_list|(
name|keep_knees_checkbutton
argument_list|)
argument_list|,
name|sels
operator|->
name|keep_knees
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|keep_knees_checkbutton
argument_list|)
argument_list|,
literal|"toggled"
argument_list|,
name|GTK_SIGNAL_FUNC
argument_list|(
name|on_keep_knees_checkbutton_toggled
argument_list|)
argument_list|,
operator|&
name|sels
operator|->
name|keep_knees
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|keep_knees_checkbutton
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|keep_knees_checkbutton
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
name|FALSE
argument_list|)
argument_list|)
expr_stmt|;
name|subdivide_search_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_data
operator|=
name|gtk_adjustment_new
argument_list|(
name|sels
operator|->
name|subdivide_search
argument_list|,
literal|0.05
argument_list|,
literal|1
argument_list|,
literal|0.05
argument_list|,
literal|0.01
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|subdivide_search_scale
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|subdivide_search_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|16
argument_list|,
literal|17
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|subdivide_search_scale
argument_list|,
literal|"Percentage of the curve away from the worst point to look for a better place to subdivide."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|subdivide_search_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_scale_set_digits
argument_list|(
name|GTK_SCALE
argument_list|(
name|subdivide_search_scale
argument_list|)
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|dialog_scale_update
argument_list|,
operator|&
name|sels
operator|->
name|subdivide_search
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|size_data
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
literal|0.10
argument_list|)
argument_list|)
expr_stmt|;
name|reparameterize_improvement_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_data
operator|=
name|gtk_adjustment_new
argument_list|(
name|sels
operator|->
name|reparameterize_improvement
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|0.05
argument_list|,
literal|0.01
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|reparameterize_improvement_scale
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|reparameterize_improvement_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|14
argument_list|,
literal|15
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|reparameterize_improvement_scale
argument_list|,
literal|"If reparameterization doesn't improve the fit by this much percent, stop doing it. "
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|reparameterize_improvement_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_scale_set_digits
argument_list|(
name|GTK_SCALE
argument_list|(
name|reparameterize_improvement_scale
argument_list|)
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|dialog_scale_update
argument_list|,
operator|&
name|sels
operator|->
name|reparameterize_improvement
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|size_data
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
literal|0.01
argument_list|)
argument_list|)
expr_stmt|;
name|line_threshold_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_data
operator|=
name|gtk_adjustment_new
argument_list|(
name|sels
operator|->
name|line_threshold
argument_list|,
literal|0.2
argument_list|,
literal|4
argument_list|,
literal|0.1
argument_list|,
literal|0.01
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|line_threshold_scale
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|line_threshold_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|13
argument_list|,
literal|14
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|line_threshold_scale
argument_list|,
literal|"How many pixels (on the average) a spline can diverge from the line determined by its endpoints before it is changed to a straight line."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|line_threshold_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_scale_set_digits
argument_list|(
name|GTK_SCALE
argument_list|(
name|line_threshold_scale
argument_list|)
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|dialog_scale_update
argument_list|,
operator|&
name|sels
operator|->
name|line_threshold
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|size_data
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
literal|0.5
argument_list|)
argument_list|)
expr_stmt|;
name|filter_iteration_count_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_data
operator|=
name|gtk_adjustment_new
argument_list|(
name|sels
operator|->
name|filter_iteration_count
argument_list|,
literal|4
argument_list|,
literal|70
argument_list|,
literal|1
argument_list|,
literal|0.01
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|filter_iteration_count_scale
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|filter_iteration_count_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|7
argument_list|,
literal|8
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|filter_iteration_count_scale
argument_list|,
literal|"Number of times to smooth original data points.  Increasing this number dramatically---to 50 or so---can produce vastly better results.  But if any points that ``should'' be corners aren't found, the curve goes to hell around that point."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|filter_iteration_count_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_scale_set_digits
argument_list|(
name|GTK_SCALE
argument_list|(
name|filter_iteration_count_scale
argument_list|)
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|dialog_scale_update
argument_list|,
operator|&
name|sels
operator|->
name|filter_iteration_count
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|size_data
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
literal|4.0
argument_list|)
argument_list|)
expr_stmt|;
name|filter_epsilon_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_data
operator|=
name|gtk_adjustment_new
argument_list|(
name|sels
operator|->
name|filter_epsilon
argument_list|,
literal|5
argument_list|,
literal|40
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|filter_epsilon_scale
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|filter_epsilon_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|6
argument_list|,
literal|7
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|filter_epsilon_scale
argument_list|,
literal|"If the angles between the vectors produced by filter_surround and filter_alternative_surround points differ by more than this, use the one from filter_alternative_surround."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|filter_epsilon_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_scale_set_digits
argument_list|(
name|GTK_SCALE
argument_list|(
name|filter_epsilon_scale
argument_list|)
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|dialog_scale_update
argument_list|,
operator|&
name|sels
operator|->
name|filter_epsilon
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|size_data
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
literal|10.0
argument_list|)
argument_list|)
expr_stmt|;
name|subdivide_threshold
operator|=
name|gtk_label_new
argument_list|(
literal|"subdivide_threshold: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|subdivide_threshold
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|subdivide_threshold
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|19
argument_list|,
literal|20
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|subdivide_threshold
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|gtk_misc_set_padding
argument_list|(
name|GTK_MISC
argument_list|(
name|subdivide_threshold
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|tangent_surround
operator|=
name|gtk_label_new
argument_list|(
literal|"tangent_surround: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|tangent_surround
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|tangent_surround
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|18
argument_list|,
literal|19
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|tangent_surround
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|gtk_misc_set_padding
argument_list|(
name|GTK_MISC
argument_list|(
name|tangent_surround
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|subdivide_surround
operator|=
name|gtk_label_new
argument_list|(
literal|"subdivide_surround: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|subdivide_surround
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|subdivide_surround
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|17
argument_list|,
literal|18
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|subdivide_surround
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|gtk_misc_set_padding
argument_list|(
name|GTK_MISC
argument_list|(
name|subdivide_surround
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|subdivide_search
operator|=
name|gtk_label_new
argument_list|(
literal|"subdivide_search: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|subdivide_search
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|subdivide_search
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|16
argument_list|,
literal|17
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|subdivide_search
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|gtk_misc_set_padding
argument_list|(
name|GTK_MISC
argument_list|(
name|subdivide_search
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|reparameterize_threshold
operator|=
name|gtk_label_new
argument_list|(
literal|"reparameterize_threshold: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|reparameterize_threshold
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|reparameterize_threshold
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|15
argument_list|,
literal|16
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|reparameterize_threshold
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|gtk_misc_set_padding
argument_list|(
name|GTK_MISC
argument_list|(
name|reparameterize_threshold
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|reparameterize_improvement
operator|=
name|gtk_label_new
argument_list|(
literal|"reparameterize_improvement: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|reparameterize_improvement
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|reparameterize_improvement
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|14
argument_list|,
literal|15
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|reparameterize_improvement
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|gtk_misc_set_padding
argument_list|(
name|GTK_MISC
argument_list|(
name|reparameterize_improvement
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|line_threshold
operator|=
name|gtk_label_new
argument_list|(
literal|"line_threshold: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|line_threshold
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|line_threshold
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|13
argument_list|,
literal|14
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|line_threshold
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|gtk_misc_set_padding
argument_list|(
name|GTK_MISC
argument_list|(
name|line_threshold
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|line_reversion_threshold
operator|=
name|gtk_label_new
argument_list|(
literal|"line_reversion_threshold: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|line_reversion_threshold
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|line_reversion_threshold
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|12
argument_list|,
literal|13
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|line_reversion_threshold
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|gtk_misc_set_padding
argument_list|(
name|GTK_MISC
argument_list|(
name|line_reversion_threshold
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|keep_knees
operator|=
name|gtk_label_new
argument_list|(
literal|"keep_knees: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|keep_knees
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|keep_knees
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|11
argument_list|,
literal|12
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|keep_knees
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|filter_surround
operator|=
name|gtk_label_new
argument_list|(
literal|"filter_surround: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|filter_surround
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|filter_surround
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|10
argument_list|,
literal|11
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|filter_surround
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|gtk_misc_set_padding
argument_list|(
name|GTK_MISC
argument_list|(
name|filter_surround
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|filter_secondary_surround
operator|=
name|gtk_label_new
argument_list|(
literal|"filter_secondary_surround: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|filter_secondary_surround
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|filter_secondary_surround
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|9
argument_list|,
literal|10
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|filter_secondary_surround
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|gtk_misc_set_padding
argument_list|(
name|GTK_MISC
argument_list|(
name|filter_secondary_surround
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|filter_percent
operator|=
name|gtk_label_new
argument_list|(
literal|"filter_percent: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|filter_percent
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|filter_percent
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|8
argument_list|,
literal|9
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|filter_percent
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|gtk_misc_set_padding
argument_list|(
name|GTK_MISC
argument_list|(
name|filter_percent
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|filter_iteration_count
operator|=
name|gtk_label_new
argument_list|(
literal|"filter_iteration_count: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|filter_iteration_count
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|filter_iteration_count
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|7
argument_list|,
literal|8
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|filter_iteration_count
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|gtk_misc_set_padding
argument_list|(
name|GTK_MISC
argument_list|(
name|filter_iteration_count
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|filter_epsilon
operator|=
name|gtk_label_new
argument_list|(
literal|"filter_epsilon: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|filter_epsilon
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|filter_epsilon
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|6
argument_list|,
literal|7
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|filter_epsilon
argument_list|,
literal|"If the angles between the vectors produced by filter_surround and\nfilter_alternative_surround points differ by more than this, use\nthe one from filter_alternative_surround."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_label_set_justify
argument_list|(
name|GTK_LABEL
argument_list|(
name|filter_epsilon
argument_list|)
argument_list|,
name|GTK_JUSTIFY_LEFT
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|filter_epsilon
argument_list|)
argument_list|,
literal|0.999999
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|gtk_misc_set_padding
argument_list|(
name|GTK_MISC
argument_list|(
name|filter_epsilon
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|corner_always_threshold_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_data
operator|=
name|gtk_adjustment_new
argument_list|(
name|sels
operator|->
name|corner_always_threshold
argument_list|,
literal|30
argument_list|,
literal|180
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|corner_always_threshold_scale
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|corner_always_threshold_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|corner_always_threshold_scale
argument_list|,
literal|"If the angle defined by a point and its predecessors and successors is smaller than this, it's a corner, even if it's within `corner_surround' pixels of a point with a smaller angle."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|corner_always_threshold_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|dialog_scale_update
argument_list|,
operator|&
name|sels
operator|->
name|corner_always_threshold
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|size_data
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
literal|60.0
argument_list|)
argument_list|)
expr_stmt|;
name|error_threshold_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_data
operator|=
name|gtk_adjustment_new
argument_list|(
name|sels
operator|->
name|error_threshold
argument_list|,
literal|0.2
argument_list|,
literal|10
argument_list|,
literal|0.1
argument_list|,
literal|0.1
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|error_threshold_scale
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|error_threshold_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|4
argument_list|,
literal|5
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|error_threshold_scale
argument_list|,
literal|"Amount of error at which a fitted spline is unacceptable.  If any pixel is further away than this from the fitted curve, we try again."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|error_threshold_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_scale_set_digits
argument_list|(
name|GTK_SCALE
argument_list|(
name|error_threshold_scale
argument_list|)
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|dialog_scale_update
argument_list|,
operator|&
name|sels
operator|->
name|error_threshold
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|size_data
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
literal|0.40
argument_list|)
argument_list|)
expr_stmt|;
name|filter_alternative_surround_scale
operator|=
name|gtk_hscale_new
argument_list|(
name|GTK_ADJUSTMENT
argument_list|(
name|size_data
operator|=
name|gtk_adjustment_new
argument_list|(
name|sels
operator|->
name|filter_alternative_surround
argument_list|,
literal|1
argument_list|,
literal|10
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|filter_alternative_surround_scale
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|filter_alternative_surround_scale
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|5
argument_list|,
literal|6
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_tooltips_set_tip
argument_list|(
name|tooltips
argument_list|,
name|filter_alternative_surround_scale
argument_list|,
literal|"A second number of adjacent points to consider when filtering."
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_scale_set_value_pos
argument_list|(
name|GTK_SCALE
argument_list|(
name|filter_alternative_surround_scale
argument_list|)
argument_list|,
name|GTK_POS_LEFT
argument_list|)
expr_stmt|;
name|gtk_scale_set_digits
argument_list|(
name|GTK_SCALE
argument_list|(
name|filter_alternative_surround_scale
argument_list|)
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"value_changed"
argument_list|,
operator|(
name|GtkSignalFunc
operator|)
name|dialog_scale_update
argument_list|,
operator|&
name|sels
operator|->
name|filter_alternative_surround
argument_list|)
expr_stmt|;
name|adjust_widgets
operator|=
name|g_slist_append
argument_list|(
name|adjust_widgets
argument_list|,
name|size_data
argument_list|)
expr_stmt|;
name|gtk_object_set_data
argument_list|(
name|GTK_OBJECT
argument_list|(
name|size_data
argument_list|)
argument_list|,
literal|"default_value"
argument_list|,
name|def_val
argument_list|(
literal|1.0
argument_list|)
argument_list|)
expr_stmt|;
name|filter_alternative_surround
operator|=
name|gtk_label_new
argument_list|(
literal|"filter_alternative_surround: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|filter_alternative_surround
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|filter_alternative_surround
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|5
argument_list|,
literal|6
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_label_set_justify
argument_list|(
name|GTK_LABEL
argument_list|(
name|filter_alternative_surround
argument_list|)
argument_list|,
name|GTK_JUSTIFY_LEFT
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|filter_alternative_surround
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|gtk_misc_set_padding
argument_list|(
name|GTK_MISC
argument_list|(
name|filter_alternative_surround
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|error_threshold
operator|=
name|gtk_label_new
argument_list|(
literal|"error_threshold: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|error_threshold
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|error_threshold
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|4
argument_list|,
literal|5
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|error_threshold
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|gtk_misc_set_padding
argument_list|(
name|GTK_MISC
argument_list|(
name|error_threshold
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|corner_threshold
operator|=
name|gtk_label_new
argument_list|(
literal|"corner_threshold: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|corner_threshold
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|corner_threshold
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|3
argument_list|,
literal|4
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|corner_threshold
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|gtk_misc_set_padding
argument_list|(
name|GTK_MISC
argument_list|(
name|corner_threshold
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|corner_surround
operator|=
name|gtk_label_new
argument_list|(
literal|"corner_surround: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|corner_surround
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|corner_surround
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|3
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|corner_surround
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|gtk_misc_set_padding
argument_list|(
name|GTK_MISC
argument_list|(
name|corner_surround
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|corner_always_threshold
operator|=
name|gtk_label_new
argument_list|(
literal|"corner_always_threshold: "
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|corner_always_threshold
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table1
argument_list|)
argument_list|,
name|corner_always_threshold
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_misc_set_alignment
argument_list|(
name|GTK_MISC
argument_list|(
name|corner_always_threshold
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|gtk_misc_set_padding
argument_list|(
name|GTK_MISC
argument_list|(
name|corner_always_threshold
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
return|return
name|GTK_WIDGET
argument_list|(
name|table1
argument_list|)
return|;
block|}
end_function

end_unit


begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_define
DECL|macro|PLUG_IN_NAME
define|#
directive|define
name|PLUG_IN_NAME
value|"plug_in_gimpressionist"
end_define

begin_define
DECL|macro|PLUG_IN_VERSION
define|#
directive|define
name|PLUG_IN_VERSION
value|"v1.0, November 2003"
end_define

begin_define
DECL|macro|HELP_ID
define|#
directive|define
name|HELP_ID
value|"plug-in-gimppressionist"
end_define

begin_define
DECL|macro|PREVIEWSIZE
define|#
directive|define
name|PREVIEWSIZE
value|150
end_define

begin_define
DECL|macro|MAXORIENTVECT
define|#
directive|define
name|MAXORIENTVECT
value|50
end_define

begin_define
DECL|macro|MAXSIZEVECT
define|#
directive|define
name|MAXSIZEVECT
value|50
end_define

begin_comment
comment|/* Type declaration and definitions */
end_comment

begin_typedef
DECL|struct|vector
typedef|typedef
struct|struct
name|vector
block|{
DECL|member|x
DECL|member|y
name|double
name|x
decl_stmt|,
name|y
decl_stmt|;
DECL|member|dir
name|double
name|dir
decl_stmt|;
DECL|member|dx
DECL|member|dy
name|double
name|dx
decl_stmt|,
name|dy
decl_stmt|;
DECL|member|str
name|double
name|str
decl_stmt|;
DECL|member|type
name|int
name|type
decl_stmt|;
DECL|typedef|vector_t
block|}
name|vector_t
typedef|;
end_typedef

begin_typedef
DECL|struct|smvector
typedef|typedef
struct|struct
name|smvector
block|{
DECL|member|x
DECL|member|y
name|double
name|x
decl_stmt|,
name|y
decl_stmt|;
DECL|member|siz
name|double
name|siz
decl_stmt|;
DECL|member|str
name|double
name|str
decl_stmt|;
DECL|typedef|smvector_t
block|}
name|smvector_t
typedef|;
end_typedef

begin_typedef
typedef|typedef
struct|struct
DECL|struct|__anon27deb4780108
block|{
DECL|member|orientnum
name|int
name|orientnum
decl_stmt|;
DECL|member|orientfirst
name|double
name|orientfirst
decl_stmt|;
DECL|member|orientlast
name|double
name|orientlast
decl_stmt|;
DECL|member|orienttype
name|int
name|orienttype
decl_stmt|;
DECL|member|brushrelief
name|double
name|brushrelief
decl_stmt|;
DECL|member|brushscale
name|double
name|brushscale
decl_stmt|;
DECL|member|brushdensity
name|double
name|brushdensity
decl_stmt|;
DECL|member|brushgamma
name|double
name|brushgamma
decl_stmt|;
DECL|member|generalbgtype
name|int
name|generalbgtype
decl_stmt|;
DECL|member|generaldarkedge
name|double
name|generaldarkedge
decl_stmt|;
DECL|member|paperrelief
name|double
name|paperrelief
decl_stmt|;
DECL|member|paperscale
name|double
name|paperscale
decl_stmt|;
DECL|member|paperinvert
name|int
name|paperinvert
decl_stmt|;
DECL|member|run
name|int
name|run
decl_stmt|;
DECL|member|selectedbrush
name|char
name|selectedbrush
index|[
literal|200
index|]
decl_stmt|;
DECL|member|selectedpaper
name|char
name|selectedpaper
index|[
literal|200
index|]
decl_stmt|;
DECL|member|color
name|GimpRGB
name|color
decl_stmt|;
DECL|member|generalpaintedges
name|int
name|generalpaintedges
decl_stmt|;
DECL|member|placetype
name|int
name|placetype
decl_stmt|;
DECL|member|orientvector
name|vector_t
name|orientvector
index|[
name|MAXORIENTVECT
index|]
decl_stmt|;
DECL|member|numorientvector
name|int
name|numorientvector
decl_stmt|;
DECL|member|placecenter
name|int
name|placecenter
decl_stmt|;
DECL|member|brushaspect
name|double
name|brushaspect
decl_stmt|;
DECL|member|orientangoff
name|double
name|orientangoff
decl_stmt|;
DECL|member|orientstrexp
name|double
name|orientstrexp
decl_stmt|;
DECL|member|generaltileable
name|int
name|generaltileable
decl_stmt|;
DECL|member|paperoverlay
name|int
name|paperoverlay
decl_stmt|;
DECL|member|orientvoronoi
name|int
name|orientvoronoi
decl_stmt|;
DECL|member|colorbrushes
name|int
name|colorbrushes
decl_stmt|;
DECL|member|generaldropshadow
name|int
name|generaldropshadow
decl_stmt|;
DECL|member|generalshadowdarkness
name|double
name|generalshadowdarkness
decl_stmt|;
DECL|member|sizenum
name|int
name|sizenum
decl_stmt|;
DECL|member|sizefirst
name|double
name|sizefirst
decl_stmt|;
DECL|member|sizelast
name|double
name|sizelast
decl_stmt|;
DECL|member|sizetype
name|int
name|sizetype
decl_stmt|;
DECL|member|devthresh
name|double
name|devthresh
decl_stmt|;
DECL|member|sizevector
name|smvector_t
name|sizevector
index|[
name|MAXSIZEVECT
index|]
decl_stmt|;
DECL|member|numsizevector
name|int
name|numsizevector
decl_stmt|;
DECL|member|sizestrexp
name|double
name|sizestrexp
decl_stmt|;
DECL|member|sizevoronoi
name|int
name|sizevoronoi
decl_stmt|;
DECL|member|generalshadowdepth
name|int
name|generalshadowdepth
decl_stmt|;
DECL|member|generalshadowblur
name|int
name|generalshadowblur
decl_stmt|;
DECL|member|colortype
name|int
name|colortype
decl_stmt|;
DECL|member|colornoise
name|double
name|colornoise
decl_stmt|;
DECL|typedef|gimpressionist_vals_t
block|}
name|gimpressionist_vals_t
typedef|;
end_typedef

begin_comment
comment|/* Globals */
end_comment

begin_decl_stmt
specifier|extern
name|char
modifier|*
name|standalone
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|gimpressionist_vals_t
name|pcvals
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|gimpressionist_vals_t
name|defaultpcvals
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|char
modifier|*
name|path
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|struct
name|ppm
name|infile
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|struct
name|ppm
name|inalpha
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkWidget
modifier|*
name|window
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|int
name|brushfile
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|struct
name|ppm
name|brushppm
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkWidget
modifier|*
name|brushlist
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkObject
modifier|*
name|brushscaleadjust
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkObject
modifier|*
name|brushaspectadjust
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkObject
modifier|*
name|brushreliefadjust
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkObject
modifier|*
name|brushdensityadjust
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkObject
modifier|*
name|brushgammaadjust
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkWidget
modifier|*
name|paperlist
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkObject
modifier|*
name|paperscaleadjust
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkObject
modifier|*
name|paperreliefadjust
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkWidget
modifier|*
name|paperinvert
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkWidget
modifier|*
name|paperoverlay
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkObject
modifier|*
name|orientnumadjust
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkObject
modifier|*
name|orientfirstadjust
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkObject
modifier|*
name|orientlastadjust
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|int
name|orientationtype
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkWidget
modifier|*
name|orientradio
index|[]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkWidget
modifier|*
name|sizeradio
index|[]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkObject
modifier|*
name|sizenumadjust
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkObject
modifier|*
name|sizefirstadjust
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkObject
modifier|*
name|sizelastadjust
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkObject
modifier|*
name|generaldarkedgeadjust
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|int
name|generalbgtype
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkWidget
modifier|*
name|generalpaintedges
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkWidget
modifier|*
name|generaltileable
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkWidget
modifier|*
name|generaldropshadow
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkWidget
modifier|*
name|generalcolbutton
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkObject
modifier|*
name|generalshadowadjust
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkObject
modifier|*
name|generalshadowdepth
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkObject
modifier|*
name|generalshadowblur
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkObject
modifier|*
name|devthreshadjust
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkWidget
modifier|*
name|colortype
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkObject
modifier|*
name|colornoiseadjust
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkWidget
modifier|*
name|placecenter
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkWidget
modifier|*
name|previewbutton
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GtkWidget
modifier|*
name|presetsavebutton
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|gboolean
name|img_has_alpha
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|GRand
modifier|*
name|gr
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* Prototypes */
end_comment

begin_function_decl
name|GList
modifier|*
name|parsepath
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|create_paperpage
parameter_list|(
name|GtkNotebook
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|create_brushpage
parameter_list|(
name|GtkNotebook
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|create_orientationpage
parameter_list|(
name|GtkNotebook
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|create_sizepage
parameter_list|(
name|GtkNotebook
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|create_generalpage
parameter_list|(
name|GtkNotebook
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|create_presetpage
parameter_list|(
name|GtkNotebook
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|create_placementpage
parameter_list|(
name|GtkNotebook
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|create_colorpage
parameter_list|(
name|GtkNotebook
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|GtkWidget
modifier|*
name|create_preview
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|void
name|updatepreviewprev
parameter_list|(
name|GtkWidget
modifier|*
name|wg
parameter_list|,
name|gpointer
name|d
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|grabarea
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|storevals
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|restorevals
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|gchar
modifier|*
name|findfile
parameter_list|(
specifier|const
name|gchar
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|unselectall
parameter_list|(
name|GtkWidget
modifier|*
name|list
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|reselect
parameter_list|(
name|GtkWidget
modifier|*
name|list
parameter_list|,
name|char
modifier|*
name|fname
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|readdirintolist
parameter_list|(
name|char
modifier|*
name|subdir
parameter_list|,
name|GtkWidget
modifier|*
name|view
parameter_list|,
name|char
modifier|*
name|selected
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|orientchange
parameter_list|(
name|GtkWidget
modifier|*
name|wg
parameter_list|,
name|void
modifier|*
name|d
parameter_list|,
name|int
name|num
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|sizechange
parameter_list|(
name|GtkWidget
modifier|*
name|wg
parameter_list|,
name|void
modifier|*
name|d
parameter_list|,
name|int
name|num
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|placechange
parameter_list|(
name|int
name|num
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|colorchange
parameter_list|(
name|int
name|num
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|generalbgchange
parameter_list|(
name|GtkWidget
modifier|*
name|wg
parameter_list|,
name|void
modifier|*
name|d
parameter_list|,
name|int
name|num
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|GtkWidget
modifier|*
name|createonecolumnlist
parameter_list|(
name|GtkWidget
modifier|*
name|parent
parameter_list|,
name|void
function_decl|(
modifier|*
name|changed_cb
function_decl|)
parameter_list|(
name|GtkTreeSelection
modifier|*
name|selection
parameter_list|,
name|gpointer
name|data
parameter_list|)
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|reloadbrush
parameter_list|(
name|char
modifier|*
name|fn
parameter_list|,
name|struct
name|ppm
modifier|*
name|p
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|create_orientmap_dialog
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|update_orientmap_dialog
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|pixval
parameter_list|(
name|double
name|dir
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|double
name|getdir
parameter_list|(
name|double
name|x
parameter_list|,
name|double
name|y
parameter_list|,
name|int
name|from
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|create_sizemap_dialog
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|double
name|getsiz
parameter_list|(
name|double
name|x
parameter_list|,
name|double
name|y
parameter_list|,
name|int
name|from
parameter_list|)
function_decl|;
end_function_decl

end_unit


begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_include
include|#
directive|include
file|"config.h"
end_include

begin_include
include|#
directive|include
file|<glib-object.h>
end_include

begin_include
include|#
directive|include
file|"libgimpbase/gimpbase.h"
end_include

begin_include
include|#
directive|include
file|"libgimpbase/gimpbase-private.h"
end_include

begin_include
include|#
directive|include
file|"units.h"
end_include

begin_typedef
typedef|typedef
struct|struct
DECL|struct|__anon299ad90a0108
block|{
DECL|member|factor
name|gdouble
name|factor
decl_stmt|;
DECL|member|digits
name|gint
name|digits
decl_stmt|;
DECL|member|identifier
specifier|const
name|gchar
modifier|*
name|identifier
decl_stmt|;
DECL|member|symbol
specifier|const
name|gchar
modifier|*
name|symbol
decl_stmt|;
DECL|member|abbreviation
specifier|const
name|gchar
modifier|*
name|abbreviation
decl_stmt|;
DECL|member|singular
specifier|const
name|gchar
modifier|*
name|singular
decl_stmt|;
DECL|member|plural
specifier|const
name|gchar
modifier|*
name|plural
decl_stmt|;
DECL|typedef|GimpUnitDef
block|}
name|GimpUnitDef
typedef|;
end_typedef

begin_decl_stmt
DECL|variable|unit_defs
specifier|static
specifier|const
name|GimpUnitDef
name|unit_defs
index|[]
init|=
block|{
block|{
literal|0.0
block|,
literal|0
block|,
literal|"pixels"
block|,
literal|"px"
block|,
literal|"px"
block|,
literal|"pixel"
block|,
literal|"pixels"
block|}
block|,
block|{
literal|1.0
block|,
literal|2
block|,
literal|"inches"
block|,
literal|"''"
block|,
literal|"in"
block|,
literal|"inch"
block|,
literal|"inches"
block|}
block|,
block|{
literal|25.4
block|,
literal|1
block|,
literal|"millimeters"
block|,
literal|"mm"
block|,
literal|"mm"
block|,
literal|"millimeter"
block|,
literal|"millimeters"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|gint
DECL|function|units_get_number_of_units (void)
name|units_get_number_of_units
parameter_list|(
name|void
parameter_list|)
block|{
return|return
name|G_N_ELEMENTS
argument_list|(
name|unit_defs
argument_list|)
return|;
block|}
end_function

begin_function
specifier|static
name|gint
DECL|function|units_get_number_of_built_in_units (void)
name|units_get_number_of_built_in_units
parameter_list|(
name|void
parameter_list|)
block|{
return|return
name|G_N_ELEMENTS
argument_list|(
name|unit_defs
argument_list|)
return|;
block|}
end_function

begin_function
specifier|static
name|gdouble
DECL|function|units_unit_get_factor (GimpUnit unit)
name|units_unit_get_factor
parameter_list|(
name|GimpUnit
name|unit
parameter_list|)
block|{
return|return
name|unit_defs
index|[
name|unit
index|]
operator|.
name|factor
return|;
block|}
end_function

begin_function
specifier|static
name|gint
DECL|function|units_unit_get_digits (GimpUnit unit)
name|units_unit_get_digits
parameter_list|(
name|GimpUnit
name|unit
parameter_list|)
block|{
return|return
name|unit_defs
index|[
name|unit
index|]
operator|.
name|digits
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|gchar
modifier|*
DECL|function|units_unit_get_identifier (GimpUnit unit)
name|units_unit_get_identifier
parameter_list|(
name|GimpUnit
name|unit
parameter_list|)
block|{
return|return
name|unit_defs
index|[
name|unit
index|]
operator|.
name|identifier
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|gchar
modifier|*
DECL|function|units_unit_get_symbol (GimpUnit unit)
name|units_unit_get_symbol
parameter_list|(
name|GimpUnit
name|unit
parameter_list|)
block|{
return|return
name|unit_defs
index|[
name|unit
index|]
operator|.
name|symbol
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|gchar
modifier|*
DECL|function|units_unit_get_abbreviation (GimpUnit unit)
name|units_unit_get_abbreviation
parameter_list|(
name|GimpUnit
name|unit
parameter_list|)
block|{
return|return
name|unit_defs
index|[
name|unit
index|]
operator|.
name|abbreviation
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|gchar
modifier|*
DECL|function|units_unit_get_singular (GimpUnit unit)
name|units_unit_get_singular
parameter_list|(
name|GimpUnit
name|unit
parameter_list|)
block|{
return|return
name|unit_defs
index|[
name|unit
index|]
operator|.
name|singular
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|gchar
modifier|*
DECL|function|units_unit_get_plural (GimpUnit unit)
name|units_unit_get_plural
parameter_list|(
name|GimpUnit
name|unit
parameter_list|)
block|{
return|return
name|unit_defs
index|[
name|unit
index|]
operator|.
name|plural
return|;
block|}
end_function

begin_function
name|void
DECL|function|units_init (void)
name|units_init
parameter_list|(
name|void
parameter_list|)
block|{
name|GimpUnitVtable
name|vtable
decl_stmt|;
name|vtable
operator|.
name|unit_get_number_of_units
operator|=
name|units_get_number_of_units
expr_stmt|;
name|vtable
operator|.
name|unit_get_number_of_built_in_units
operator|=
name|units_get_number_of_built_in_units
expr_stmt|;
name|vtable
operator|.
name|unit_new
operator|=
name|NULL
expr_stmt|;
name|vtable
operator|.
name|unit_get_factor
operator|=
name|units_unit_get_factor
expr_stmt|;
name|vtable
operator|.
name|unit_get_digits
operator|=
name|units_unit_get_digits
expr_stmt|;
name|vtable
operator|.
name|unit_get_identifier
operator|=
name|units_unit_get_identifier
expr_stmt|;
name|vtable
operator|.
name|unit_get_symbol
operator|=
name|units_unit_get_symbol
expr_stmt|;
name|vtable
operator|.
name|unit_get_abbreviation
operator|=
name|units_unit_get_abbreviation
expr_stmt|;
name|vtable
operator|.
name|unit_get_singular
operator|=
name|units_unit_get_singular
expr_stmt|;
name|vtable
operator|.
name|unit_get_plural
operator|=
name|units_unit_get_plural
expr_stmt|;
name|gimp_base_init
argument_list|(
operator|&
name|vtable
argument_list|)
expr_stmt|;
block|}
end_function

end_unit


Sun Oct  4 22:18:11 BST 1998 Adam D. Moss <adam@gimp.org>

	* app/palette.c: Had a look at making the window resizable,
	got scared.  Made the palette dialog a bit smaller.

	* app/indexed_palette.c: The window is now resizable without
	falling foul to previously existing bugs.  It won't win you
	anything though.

Sun Oct  4 21:07:07 BST 1998 Adam D. Moss <adam@gimp.org>

	* app/ink.c app/paint_core.c: The paint and ink tools
	are synchronous.

Sat Oct  3 21:01:34 BST 1998 Adam D. Moss <adam@gimp.org>

	* app/channel.c app/channel_ops.c app/disp_callbacks.c
	app/floating_sel.c app/gdisplay.c app/gdisplay.h
	app/gdisplay_ops.c app/gimpimage.c app/image_map.c
	app/interface.c app/layers_dialog.c app/plug_in.c app/undo.c
	app/xcf.c:

	Resizing image canvases should be less horrible to look at.
	I've removed the implicit clear of the whole area when a
	window is resized by the user, and clear the exposed area around
	the image manually when appropriate.

	Dialogs which want synchronous updates for previews and
	such use displays_update_now().

	Removed some old debugging nonsense which I don't want any more.

Thu Oct  1 22:39:14 BST 1998 Andy Thomas <alt@picnic.demon.co.uk>

	* app/patterns.c app/pattern_select.c app/internal_procs.c
	* app/patterns.h app/pattern_select.h app/plug_in.c
	* libgimp/gimpmenu.h libgimp/gimpmenu.c libgimp/Makefile.am
	* plug-ins/gfig/gfig.c plug-ins/script-fu/scripts/test-sphere.scm
	* plug-ins/script-fu/script-fu.c plug-ins/script-fu/script-fu-enums.h
	* plug-ins/script-fu/script-fu-scripts.c

	* New libgimp/gimppatternmenu.c

	Pattern dialog can now be controlled via the PDB. New widget (not true
	widget) type added to libgimpui (gimp_pattern_select_widget()). Plugins
	should easily be able to control & select patterns. Script-fu
	updated to use new widget. See the test script for example.


Thu Oct  1 17:10:32 BST 1998 Adam D. Moss <adam@gimp.org>

	* app/gdisplay.c app/gdisplay.h: Okay, that didn't
	take quite as long as expected.  This is the first cut at
	a gimp-wide IdleRender in place of the previously synchronous
	displays_update().  A synchronous displays_update_now() is
	implemented for stuff like brushes, but it isn't used right
	now.  (Seems to go pretty well without.)

	I need feedback and (previously nonexistant!) bug reports...
	please. =)

Thu Oct  1 12:44:19 BST 1998 Adam D. Moss <adam@gimp.org>

	* app/floating_sel.c app/gdisplay.c app/gdisplay.h
	app/gimpimage.c app/layers_dialog.c app/undo.c:
	Temporarily disabled IdleRender code whilst working
	on a more centralised approach.

Wed Sep 30 10:48:00 CST 1998 Seth Burgess <sjburges@ou.edu>
	* gimp_tips.txt: Ran it through ispell

1998-09-29  Sung-Hyun Nam  <namsh@lgic.co.kr>

	* po/ko.po: New file with Korean translations (some).
	* configure.in (ALL_LINGUAS): Added 'ko'

Mon Sep 28 18:08:14 BST 1998  Adam D. Moss <adam@gimp.org>

	* plug-ins/gif.c: Fixed an uninitialized variable bug
	which was making TigerT's gifs blow up.  Sigh!

Sun Sep 27 13:53:03 BST 1998  Adam D. Moss <adam@gimp.org>

	* app/paint_funcs.c: Fixed a bug in color_only_pixels(),
	fixed a possible bug in border_region().

Sat Sep 26 20:46:18 BST 1998  Adam D. Moss <adam@gimp.org>

	* app/channel.c app/channel_ops.c app/drawable.c
	app/floating_sel.c app/gdisplay.c app/gdisplay.h
	app/gimpimage.c app/layers_dialog.c app/undo.c:

	Moved the idlerender stuff into gdisplay.c.  Implemented
	idlerender when doing floating_sel->layer, and undoing/redoing
	layer deletion.

	idlerender would be useful in many other places for improving
	interactivity, if it weren't for the following problems:

		* By definition, idlerender doesn't wait for a
		gdisplays_update() call	before starting work - it just
		runs in idle time, which due to CPU contention with
		plugins may not	be genuinely available idle time when
		things are 'noninteractive'.

		* Most GIMP functions don't know whether they're
		being run interactively or not.  idlerender only
		makes sense for interactive work.  This is why
		it is currently only applied to those functions which
		would normally only be activated manually.

		* Mixing idlerender and drawable_update() /
		gdisplays_update_area() calls can lead to a region
		being rerendered twice.		

	Hence, some slogwork is needed before idlerender can be
	applied in the more general case.

Sat Sep 26 00:54:14 EDT 1998   Adrian Likins <adrian@gimp.org>

	*gimptool.1: minor update to add info about -strip 
        build options.

Fri Sep 25 18:05:39 BST 1998  Adam D. Moss <adam@gimp.org>

	* app/layers_dialog.c: Tied up some loose ends.

Thu Sep 24 12:39:27 BST 1998  Adam D. Moss <adam@gimp.org>

	* app/brush_edit.c: #include <string.h> for memset

	* app/layers_dialog.c:

	Display re-rendering is now handled in an interruptible
	asynchronous idle-threaded, uh, paradigm shift.

	The upshot of this is that fiddling about with layers
	in the layers dialog is now a shipload faster for some
	common operations.

	Still needs to be ratified w.r.t. multiple gimages, but
	it's there.

Wed Sep 23 18:07:54 1998  Jay Cox  (jaycox@earthlink.net)

	* app/channel.[ch]
	* app/channel_cmds.c
	* app/drawable.h
	* app/channels_dialog.c
	* app/gimage_cmds.c
	* app/gimpdrawable.[ch]
	* app/gimpimage.c
	* app/layer.[ch]
	* app/layer_cmds.c
	* app/layer_select.c
	* app/layers_dialog.c: enforce unique names for layers and
	channels.  New functions {channel,gimp_drawable,layer}_{get,set}_name

Mon Sep 21 02:05:50 PDT 1998 Manish Singh <yosh@gimp.org>

	* app/text_tool.c: correct test for restoring old foundry in
	callback (from Trent Piepho)

	* plug-ins/gauss_iir/gauss_iir.c
	* plug-ins/gauss_rle/gauss_rle.c: better test for bad values,
	put fix in gauss_rle too

Sun Sep 20 15:52:21 PDT 1998 Manish Singh <yosh@gimp.org>

	* Upgraded to libtool 1.2b

	* Reversioned libgimp to use gtk-style without a funky soname
 
	* configure.in: craft GLIB_CFLAGS and GLIB_LIBS

	* Makefile.am (pretty much all of em): changed to use new library
	naming scheme. Only link libgimpui and libgtk et al to the plugins
	that actually need them.

	* app/gimage_cmds.c: corrected typo that resulted in corrupt PDB
	record

	* libgimp/gimp.h
	* libgimp/gimpwire.h
	* libgimp/gimpmenu.[ch]: clean up the callback code

	* Removed unecessary inclusion of gtk headers for plugins that
	don't use em

	* plug-ins/zealouscrop/zealouscrop.c: use gint8 instead of gboolean,
	save some mem

	* plugged some warnings in animationplay, flame, fp, gee, gfig

	* gimptool.in: changes for library reversioning, added --nogimpui
	option for not linking in libgimpui

	* configure.in: added finnish translation

Sun Sep 20 12:57:00 CST 1998 Seth Burgess <sjburges@gimp.org>

	* plug-ins/gauss_iir/gauss_iir.c: Fixed segfault if neither 
	horizontal nor vertical was selected (as reported by Marc Lehman).

Sat Sep 19 01:19:18 BST 1998 Andy Thomas <alt@picnic.demon.co.uk>

	* app/blend.c app/brush_select.c app/brush_select.h app/bucket_fill.c 
	app/gimpbrushlist.c app/internal_procs.c app/plug_in.c libgimp/gimp.c 
	libgimp/gimp.h libgimp/gimpmenu.c libgimp/gimptile.c
	plug-ins/gfig/gfig.c

	Infrastructure to allow gimp dialogs to be controlled from plugins.
	Brush dialog can now be invoked multiple times. Dialogs invoked 
	via plugins do not control the active brush (dialog only used for 
	selections).
	New gimp_interactive_selection_brush() function to popup dialog 
	Example of usage in the gfig plugin. 
	Other dialogs should be able to use this method of invocation.
 
Tue Sep 15 21:27:10 BST 1998  Adam D. Moss <adam@gimp.org>

	* plug-ins/gif.c:
	The facility to specify the background colour of
	a transparent/animated GIF for non-transparent
	viewers now works very much more consistantly.
	The only situations in which it will fail to work
	as expected now are those where file size can be reduced
	(abeit not by much, as the plugin is sometimes more pessimistic
	than it need be) by re-using an existing unused colour
	index rather than using another bit per pixel in the
	encoded file.  That will never be an issue with an image
	which was freshly converted from RGB to INDEXED with the
	Quantize option, as that option removes any unused colours
	from the image.

	Let me know if you find the consistancy/size tradeoff more
	annoying than helpful and I can adjust it.  IMHO it is too
	arcane a feature to present to any user as a runtime option.

	* app/ink.c: #include <string.h> for a memset

Mon Sep 14 18:51:54 1998  Jay Cox  (jaycox@earthlink.net)

	* app/gimpbrushgenerated.c app/gimpbrushgenerated.h
	* app/paint_funcs.c app/paint_funcs.h:
	Made function parameters const where appropriate

Fri Sep 11 11:15:17 EDT 1998 Adrian Likins <adrian@gimp.org>

	* app/file_new_dialog.c: fixed a typo that wouldnt let
	you create images smaller than 1 unit

1998-09-11  Tristan Tarrant  <ttarrant@etnoteam.it>

	* po/it.po: New file with Italian translations (some).

	* configure.in (ALL_LINGUAS): Added "it"

Thu Sep 10 13:26:51 PDT 1998 Manish Singh <yosh@gimp.org>

	* configure.in
	* po/ja.po: added a preliminary Japanese translation from
	Yasuhiro SHIRASAKI <joke@awa.tohoku.ac.jp>

Thu Sep 10 12:00:55 PDT 1998 Manish Singh <yosh@gimp.org>

	* plug-ins/script-fu/script-fu.c
	* plug-ins/script-fu/script-fu-console.[ch]: added an eval
	PDB interface for running arbitrary scheme code
	
	* app/batch.c: redid batch mode to use script-fu-eval

	* app/main.c: fixed command line parsing for batch mode and
	image loading
	
Wed Sep  9 03:02:17 PDT 1998 Manish Singh <yosh@gimp.org>

	* configure.in: added -std1 check for DU4

	* gimptool.in: added strip options

	* plug-ins/hrz/hrz.c: #ifndef'd NeXT out munmap call

	* plug-ins/maze/maze.c: commented out some debug code differently
	so NeXT compiler won't barf.

	* configure.in
	* po/sv.po: added a preliminary Swedish translation from
	Tomas Ogren <stric@ing.umu.se>

Tue Sep  8 18:28:44 1998  Jay Cox  (jaycox@earthlink.net)

	* app/brush_generated.c: more carefull when the active brush
	  changes
	* app/docindexif.c: white_space() was ungetch'ing the eof
	  marker which can clear the eof flag on some systems.
	* app/docindex.c: check for ferror()s
	* app/brush_select[ch]: sensitize the edit button iff the 
	  active brush is a generated brush.

Mon Sep  7 22:30:53 PDT 1998 Manish Singh <yosh@gimp.org>

	* app/main.c: s/ATEXIT/g_atexit/ to sync with gtk changes

Sun Sep  6 12:55:45 PDT 1998 Manish Singh <yosh@gimp.org>

	* configure.in: see if CC needs -posix (for NeXTStep)

	* app/channels_dialog.c: added clarifying {}'s around if block

	* app/gimpbrushlist.c: #if 0'd out some dead code

	* plug-ins/script-fu/script-fu-server.c: removed unused variable
	declaration

Fri Sep  4 17:48:42 BST 1998 Adam D. Moss <adam@gimp.org>

	* plug-ins/psd/psd.c: Added the ability to load
	Guides info from PSD files.

	* app/gimage_cmds.c: Don't allow careless callers
	to add Guides outside of the image boundaries.

Tue Sep  1 18:32:39 EDT 1998 Adrian Likins <adrian@gimp.org>

	* gimptool.1: minor updates to the gimptool
	man page to cover more of the kitchen sink.

Tue Sep  1 23:00:42 BST 1998  Adam D. Moss <adam@gimp.org>

	* plug-ins/guillotine/Makefile.am configure.in
	plug-ins/guillotine/guillotine.c plug-ins/Makefile.am:
	New plugin to slice an image up along its Guides.

	* app/gimage_cmds.c: Fixes.

Tue Sep  1 19:19:57 BST 1998  Adam D. Moss <adam@gimp.org>

	* app/gimage_cmds.c app/gimage_cmds.h app/gimpimage.c
	app/gimpimage.h libgimp/gimp.h libgimp/gimpenums.h
	libgimp/gimpimage.c: Moved the guide PDB functions into
	a more sensible place, made them accessible to plugins
	through libgimp.

Tue Sep  1 01:15:06 CDT 1998  Larry Ewing  <lewing@gimp.org>

	* app/layers_dialog.c (paint_mode_menu_get_position): added this
	function to translate layer modes to correct menu positions, this
	is ugly but important until someone rewrites the layers_dialog. 

Mon Aug 31 23:32:40 CDT 1998  Larry Ewing  <lewing@gimp.org>

	* app/gimpimage.c (gimp_image_remove_layer_mask): add back a call to
	gdisplays_flush that seems to have been lost in the
	objectification.

Mon Aug 31 15:15:01 1998  Raph Levien  <raph@gimp.org>

	* app/color_select.c (color_select_update_colors): made it use the
	color_area rectangle draw so it dithers.

	* app/color_area.[ch] (color_area_draw_rect): made it draw the color
	rectangle with gdkrgb (so it gets dithered) rather than the
	rectangle drawing primitive.

	* app/gximage.[ch] (gximage_put): made it align dithers

	* app/gdisplay.c (gdisplay_display_area): made it so that the
	gximage_put routine gets dither alignment values

Mon Aug 31 16:51:35 CDT 1998  Larry Ewing  <lewing@gimp.org>

	* app/internal_procs.c: included in merge down changes

Mon Aug 31 16:33:11 CDT 1998  Larry Ewing  <lewing@gimp.org>

 	* app/gimpimage.[ch]
	* app/gimage_cmds.[ch]
	* app/layers_dialog.c: Added merge down procedure, I'm not really
	sure if this behaves the way people expect it to, so please send
	me any comments on what it actually should do.  It also needs a
	little testing, especially the pdb call.

	* app/gimpimage.c: cleaned up Seth's merge commit a little. Also 
	changed the mode of a merged layer to normal, as this seems to be
	the proper thing.  Discussion is welcome here as well.
	
Mon Aug 31 19:16:36 BST 1998 Adam D. Moss <adam@gimp.org>

	* app/gimpimage.c: I'm pleased to say that lewing doesn't
	want to kill me any more.  Hooray!

Mon Aug 31 18:15:16 BST 1998 Adam D. Moss <adam@gimp.org>

	* app/gimage.h app/gimpimage.c app/gimpimage.h
	app/internal_procs.c app/layer.c app/xcf.c:
	Guide creation/deletion/query is now available as
	PDB procedures.  Not yet directly exported to libgimp,
	and needs to be moved into gimage_cmds.c, but it
	works.

Mon Aug 31 11:35:00 CST 1998 Seth Burgess <sjburges@gimp.org>
	* app/gimage.c
	* app/gimpimage.c: Applied Zach's fix for layer merge opacity.  I
	still don't really like setting opacity to 100% regardless, but at
	least it looks like it behaves correctly.  

Sun Aug 30 19:02:56 PDT 1998 Manish Singh <yosh@gimp.org>

	* app/Makefile.am
	* plug-ins/*/Makefile.am: removed -lc from all Makefiles, since it
	causes weird problems on DU4

Sun Aug 30 16:45:05 1998  Owen Taylor  <otaylor@gtk.org>

	* app/app_procs.c (app_init_update_status): Instead
	of calling gtk_widget_draw() (which was happening before
	the labels got re-size-allocated), just update the
	event loop so the idle resize/redraw gets run.

Sat Aug 29 15:32:32 PDT 1998 Manish Singh <yosh@gimp.org>

	* libgimp/gimp.c
	* app/main.c: quell warning to g_set_message_handler

	* app/about_dialog.c: fix off-by-one error for space for the about
	text

Fri Aug 28 15:56:41 PDT 1998 Manish Singh <yosh@gimp.org>

	* acconfig.h
	* configure.in
	* app/main.c: added check for putenv and #ifdefed it's usage since
	NeXTStep is lame

	* libgimp/gimp.c
	* app/main.c
	* app/plug_in.c: conditionally compile shared mem stuff so platforms
	without it can still work

	* plug-ins/CEL/CEL.c
	* plug-ins/palette/palette.c
	* plug-ins/print/print-escp2.c
	* plug-ins/print/print-pcl.c
	* plug-ins/print/print-ps.c: s/strdup/g_strdup/ for portability

Wed Aug 26 16:30:36 1998  Raph Levien  <raph@gimp.org>

	* app/gradient.c (grad_create_gradient_editor,
	cpopup_create_color_item): Turned on dithering in the previews.

Tue Aug 25 14:55:25 PDT 1998 Manish Singh <yosh@gimp.org>

	* gimptool.in: use LDFLAGS and LIBS for building too

Mon Aug 24 13:41:49 CDT 1998  Larry Ewing  <lewing@gimp.org>

	* app/fileops.c (file_save): move the mru and docindex calls to
	before the call to gimp_image_set_filename so that they are still
	accessing valid memory.  Fixes the filename corruption seen in
	these interfaces.
	* app/gimpimage.c: added a warning about the side effect that
	caused the above bug.
	
Mon Aug 24 09:34:37 PDT 1998 Manish Singh <yosh@gimp.org>

	* plug-ins/depthmerge.c
	* plug-ins/fli.[ch]
	* plug-ins/gfli.c: updates from the registry

	* plug-ins/pnm/pnm.c: fix for non-interactive mode

	* plug-ins/fractaltrace/fractaltrace.c: minor code cleanups

Mon Aug 24 09:20:38 PDT 1998 Manish Singh <yosh@gimp.org>

	* configure.in: make xdelta not built by default, so poor users
	aren't confused

	* libgimp/gimp.c
	* app/blob.c
	* app/errors.c
	* plug-ins/script-fu/script-fu-server.c: fixes for glib changes with
	s/g_debug/g_on_error_debug/ and s/g_vsprintf/g_strdup_vprintf/

Fri Aug 21 17:25:34 CDT 1998  Larry Ewing  <lewing@gimp.org>

	* app/fileops.c: fixed a lingering bug that occured from the
	removal of the id system.  This should fix tigert's save problems.

1998-08-21  Chris Lahey  <clahey@umich.edu>

	* app/docindexif.c (create_idea_menu): 
	* app/docindex.c (make_idea_window): 
		Got rid of the menu bar in the document index.

1998-08-19  Raph Levien  <raph@gimp.org>

	This is the GdkRgb integration.

	* app/gximage.c (gximage_put): Uses gdk_draw_rgb_image rather
	than gdk_draw_image.

	* app/image_render.c: gutted most of this, as it is now subsumed
	by GdkRgb. In the process, gamma != 1.0 doesn't work anymore.
	Also, speedups are almost certainly possible in a bunch of cases.

	* app/info_window.c (get_shades): compiles and runs, but is
	not functional.

	* app/colormaps.c: gutted

	* app/color_select.c: changed dither to max

	A few things remain: the dithering is _not_ correctly aligned for
	scrolling - looks like I'll need to add some more API to GdkRgb
	for that. The gradient editor needs to be set to maximum
	dithering. I'd like to draw the foreground and background colors
	dithered so they don't quantize so much in 8bpp modes.

Wed Aug 19 21:00:00 PDT 1998 Ray Lehtiniemi <rayl@netrover.com>

	* app/airbrush.c gdisplay.c gimage.h gimpimage.c gimpimage.h
        gimpimageP.h image_render.c indexed_palette.c info_window.c
        layers_dialog.c:

        Remove the distinction between flat and layered gimages.  now
        gimages always allocate a projection, even if there is only a
        single layer.

        Fix some gcc-isms.

Tue Aug 18 15:42:44 PDT 1998 Manish Singh <yosh@gimp.org>

	* plug-ins/gfig/gfig.c: kludged around the use of the disappearing
	gtk private functions (through the magic of cut and paste ;)

Sun Aug 16 18:48:17 CDT 1998  Larry Ewing  <lewing@gimp.org>

	* app/ink.c (ink_paste): Make sure we check that
	ink_set_paint_area found a valid canvas_buf.

1998-08-16  Chris Lahey  <clahey@umich.edu>

	* app/docindexif.c: Fixed up the UI to make the document index
	look a bit more like a dialog.

	* app/docindex.h: 
	* app/docindex.c: Just fixed a few small nits.  Might have made
	the document index a bit more robust during gimp crashes.

Sat Aug 15 22:53:36 CDT 1998  Larry Ewing  <lewing@gimp.org>

	* app/gdisplay.c (gdisplay_update_cursor): Make sure we check the
	return value from gimp_image_active_drawable.

Sat Aug 15 19:30:42 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* Makefile.am boundary.h boundaryF.h by_color_select.h 
	  file_new_dialog.c fileops.h floating_sel.h gdisplay.h
	  gdisplayF.h ink.c interface.h layer.h layerF.h paint_core.h
	  tools.h toolsF.h: header file tweaks.  Now changing tile.h
	  doesn't force about_dialog to recompile! :)

Sat Aug 15 16:53:45 CDT 1998  Larry Ewing  <lewing@gimp.org>

	* app/airbrush.c: added a debug warning to a case that previously
	caused a segfault.  This appears to be an xinput related problem
	where more than one button press can occur before a button release,
	so if you see a warning that tells you to contact me, please do.

Sat Aug 15 14:09:12 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/transform_core.c (transform_core_do): Fixed a merge error
	that I missed on the last commit.

	* blend.c boundary.c by_color_select.c channel.c color_picker.c
 	  convert.c drawable_cmds.c file_new_dialog.c flip_tool.c
 	  floating_sel.c fuzzy_select.c gimage_mask.c gimpimage.c
 	  gimpimage.h global_edit.c image_map.c image_render.c ink.c
 	  layer.c paint_core.c paint_funcs.c perspective_tool.c
 	  pixel_region.c pixel_region.h plug_in.c rotate_tool.c
 	  scale_tool.c shear_tool.c text_tool.c tile_manager.c
 	  tile_manager.h tile_manager_pvt.h transform_core.c undo.c xcf.c:

	  Another tile tweak.  This one eliminates tile levels (which add
 	  bookkeeping without being used).  Made copy_region more
 	  intelligent on when to use tile sharing; some changes made to
 	  pixel_regions to facilitate this.  Fixed a refcount problem with
 	  xcf load and probably a few other bugs that I've forgotten
 	  about.  Added a sanity check in set_undo_tiles to help with a
 	  problem larry is reporting with airbrush and xinput.

Sat Aug 15 16:11:07 MEST 1998 Sven Neumann <sven@gimp.org>

	* TODO: updated the TODO file
	Well, this is going to be my last commitment to the gimp for a
	few months. Have fun coding, folks! I'm looking forward to see
	a nice 1.2 version out there, when I'm back.

Sat Aug 15 15:27:39 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/color_picker.c
	* app/crop.c
	* app/info_dialog.[ch]
	* app/info_window.c
	* app/rotate_tool.c
	* app/scale_tool.c
	* app/shear_tool.c: We have entries in the info dialog now that
	allow to enter exact values for the transformations and crop.

	* app/transform_core.c
	* app/transform_tool.c: Changed "Clip perspective" to "Clip result"
	and made it available for all transformations.

	* app/rect_select.c
	* app/ink.c: minor cosmetic changes

Fri Aug 14 19:58:13 EDT 1998 Adrian Likins <adrian@gimp.org>

	* plugins/script-fu/scripts/select_to_brush.scm,
	selection-round.scm,slide.scm,sota-chrome-logo.scm,
	spinning_globe.scm,starburst-logo.scm,starscape-logo.scm,
	swirltile.scm, swirly-pattern.scm, t-o-p-logo.scm,
	textured-logo.scm: wave two of the changes

Fri Aug 14 16:40:30 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/transform_tool.c
	* app/transform_core.[ch]: Added a "Show grid" toggle. Fixed a
	problem that occured when changing the grid size before the tool
	is created. Don't draw the grid if the perspective trafo is too
	weird.

Thu Aug 13 23:00:39 EDT 1998 Adrian Likins <adrian@gimp.org>

	* plug-ins/script-fu/scripts: tileblur.scm, title-header.scm,
	trochoid.scm,truchet.scm, unsharp-mask.scm, waves-anim.scm,
	weave.scm,xach-effect.scm: first wave of scripts to
	use some of the new script-fu options

Thu Aug 13 22:20:06 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/transform_tool.[ch]: minor cosmetic changes

Thu Aug 13 22:16:42 MEST 1998 Sven Neumann <sven@gimp.org>

	Applied the patch from Tor Lillqvist <tml@iki.fi>:
	
	* app/transform_core.c app/transform_core.h: Further changes in
	the look-and-feel. Now we have a info_dialog window for each
	transformation tool, with an action and cancel button. The use of
	shift-clicking to approve the transform introduced in
	gimp-tml-980724-1 is still there. The old immediate transformation
	on button release is gone.

	For use by the rotate tool we have a center-of-rotation point
	which is draggable. Its coordinates are kept in the TransformCore
	struct.

	As there no longer are several related transformations done after
	each other as in the old look-and-feel, we don't need the _first_
	field in TransformUndo.

	Added the function _transform_core_grid_density_changed_ called
	from transform_tool.c when the grid density spinbutton has been
	changed. The grid is instantaneously redrawn in the new
	density. Neat, huh?
	
	* transform_tool.c transform_tool.h: More options: a toggle to
	clip the result of a perspective transform, and a spinbutton for
	the rubber-band grid density. The toggle for "new" vs. "old" UI is
	now for "corrective" vs. "traditional" paradigm.
	
	* rotate_tool.c: Show also the center point coordinates in the
	info dialog. If dragging the center point, update TransformCore
	accordingly. Use the center point coordinates from TransformCore
	where appropriate.
		
	* perspective_tool.c: Show the transformation matrix in the info
	dialog.

	* undo.c: TransformUndo no longed has the _first_ field, code
	simplified thusly.

Thu Aug 13 20:48:48 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/color_area.c: Add event-masks so the tooltip is shown.
	
	* app/gdisplay.c
	* app/plug_in.c: Check range of progress-percentage to avoid 
	warnings.

	* app/gimplist.c: Include stdio.h to fix compiler warning.  

Thu Aug 13 11:32:04 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/app_procs.c
	* app/color_area.c
	* app/devices.[ch]
	* app/gimprc.[ch]
	* app/preferences_dialog.c: applied gimp-alt-980812-0.patch:
	Device status is now restored on startup. 
	Tooltips added to items in device status dialog box.
	Fixed problem with multiple input devices & new dialog.
	Added option to preferences (under session) that allows user to 
	always store device status on exit from gimp (default off). 
	Fixed problem in color area of toolbar to do the possibility of GC not 
	existing when the dialog is refreshed.

	* app/commands.c: include errorconsole.h 

Tue Aug 11 23:17:20 CST 1998 Seth Burgess <sjburges@gimp.org>
	
	* app/transform_core.c: Fixed the flip tool so it would operate
	properly even if "New Interface" is selected for the transform 
 	tools.

Tue Aug 11 22:41:20 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/app_procs.c
	* app/layers_dialog.c: Fixed the progressbar warnings and the 
	image id in the layers-n-channels dialog. 

Tue Aug 11 21:14:40 MEST 1998 Sven Neumann <sven@gimp.org>

	* plug-ins/script-fu/script-fu-scripts.c: Added an about-dialog that
	gives access to the short help hidden in the scripts.

Tue Aug 11 12:24:14 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* tile.c tile.h: exported some accessor functions, made Tile
	opaque.
	* tile_manager.c tile_manager.h: added a public call to invalidate
	a tile
	* blend.c boundary.c by_color_select.c channel.c color_picker.c
	drawable_cmds.c fuzzy_select.c gimpimage.c image_render.c ink.c
	layer.c paint_core.c paint_funcs.c pixel_region.c plug_in.c undo.c
	xcf.c: eliminated references to tile private data
	* ink.c (ink_set_undo_tiles), paint_core.c (set_undo_tiles): used
	tile sharing to replace tile copies for undo tiles
	* undo.c (undo_pop_image): swap tiles instead of pixels when
	possible

Mon Aug 10 14:48:20 PDT 1998 Manish Singh <yosh@gimp.org>

	* app/gdisplay.c: corrected 2 annoyances: that stupid hash table
	== NULL warning and the pointer in the title bar instead of the
	ID

	* app/internal_procs.c: we're registering more procs, so make update
	the total proc count

Mon Aug 10 16:20:33 MEST 1998 Sven Neumann <sven@gimp.org>
	
	* app/internal_procs.c
	* app/text_tool.[ch]: Wrappers for gimp-text and
	gimp-text-get-extents.
	
	* plug-ins/script-fu/script-fu-enums.h
	* plug-ins/script-fu/script-fu-scripts.c
	* plug-ins/script-fu/script-fu.c
	* plug-ins/script-fu/scripts/test-sphere.scm: A font-selector
	for the script-fu dialog. See documentation in test-sphere.scm.	

Sun Aug  9 14:15:42 MEST 1998 Sven Neumann <sven@gimp.org>

	* plug-ins/script-fu/script-fu-scripts.c: The scripf-fu dialog
	now remembers your last settings and has a "Reset to Defaults"
	button.

1998-08-07  Raja R Harinath  <harinath@cs.umn.edu>

	* plug-ins/script-fu/Makefile.am (INCLUDES): 
	List $(top_srcdir) before $(GTK_CFLAGS).

Thu Aug  6 15:12:16 PDT 1998 Manish Singh <yosh@gimp.org>

	* acinclude.m4: for people without the gettext macros

	* configure.in: don't explicitly link files

	* app/Makefile.am: ad INTLLIBS to the link line

Thu Aug  6 16:55:45 MEST 1998 Sven Neumann <sven@gimp.org>

	* plug-ins/script-fu/script-fu-enums.h
        * plug-ins/script-fu/script-fu.c
        * plug-ins/script-fu/script-fu-scripts.c: New ScriptFu argument type
        SF-ADJUSTMENT: You can have sliders and spin-buttons in the dialog.

	* plug-ins/script-fu/scripts/test-sphere.scm: Simple script to show
	and test the new interface.

Wed Aug  5 16:29:05 PDT 1998 Manish Singh <yosh@gimp.org>

	* initial merge of the internationalization stuff. It's still
	broken in a couple places, so you're probably better off running
	configure with --disable-nls (gimp-mgomulin-980727-0)

Wed Aug  5 23:31:54 MEST 1998 Sven Neumann <sven@gimp.org>

	* plug-ins/script-fu/scripts/*.scm (well, almost): Changed all
	scripts to make use of the new SF-STRING argument type where
	appropriate.

Wed Aug  5 21:39:59 MEST 1998 Sven Neumann <sven@gimp.org>

	* plug-ins/script-fu/script-fu-enums.h
	* plug-ins/script-fu/script-fu.c
	* plug-ins/script-fu/script-fu-scripts.c: New ScriptFu argument type
	SF-STRING: Never have to add those damned quotes again... More types
	to follow soon.	 

Wed Aug  5 14:32:51 MEST 1998 Sven Neumann <sven@gimp.org>

	* gimprc.in
	* app/commands.[ch]
	* app/gdisplay.[ch]
	* app/gimprc.[ch]
	* app/interface.c
	* app/menus.c
	* app/plug_in.c
	* app/preferences_dialog.c: The statusbar can now be switched off
	like the rulers. Screen estate purists can make this the default 
	behaviour in their gimprc ;-)
 
1998-08-03  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* app/gradient.c: Fixed typo (sinuosidal -> sinusoidal).

Sun Aug  2 22:34:43 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/gdisplay.c: Tweaked and applied a patch from Daniel Egger 
	(gimp-egger-980704). Update the statusbar when converting the
	image to another basetype.

Sun Aug  2 21:00:04 MEST 1998 Sven Neumann <sven@gimp.org>

	* plug-ins/script-fu/script-fu-scripts.c: Applied a patch from 
	Simon.Budig@unix-ag.org (gimp-simon-220598-0).
	Cosmetic changes to the script-fu dialog.

	* app/app_procs.c
	* app/commands.[ch]
	* app/errorconsole.[ch]
	* app/gimprc.c
	* app/session.[ch]: Added session-managment to the error-console.

Sun Aug  2 06:02:01 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/tile_manager.c (tile_manager_map): I am an idiot.

Sat Aug  1 20:50:47 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/tile_manager.c: Added an assertion check in tile_manager_map

Fri Jul 31 15:41:30 PDT 1998 Manish Singh <yosh@gimp.org>

	* applied gimp-alt-980729-0 and gimp-alt-980730-0, adds brush
	popup and pattern popup to the devices dialog

Fri Jul 31 19:17:15 BST 1998  Adam D. Moss  <adam@gimp.org>

	* app/[lots of files].c: On all gimp-core fopen()s
	changed "[rw]"->"[rw]b" to appease OS/2 folk.

Fri Jul 31 18:29:44 BST 1998  Adam D. Moss  <adam@gimp.org>

	* app/layers_dialog.c: Removed an ancient kludge that was
	seriously confusing the layer-mode menu.
	
	* plug-ins/psd/psd.c: Support OVERLAY_MODE where available

Fri Jul 31 13:42:29 BST 1998  Adam D. Moss  <adam@gimp.org>

	* plug-ins/psd/psd.c: Worked around some buggy PSD savers
	(suspect PS4 on Mac) - ugh.  + Fixed a bug when loading layer
	masks of certain dimensions.

Tue Jul 28 18:10:33 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* tile_manager.c, tile_manager.h: provided some encapsulations
	functions for tile managers
	* gimpimage.c: rewrote to use encaps, got rid of
	tile_manager_pvt.h include (yay)

Tue Jul 28 17:07:41 EDT 1998 Adrian Likins <adrian@gimp.org>

	* plug-ins/mail/mail.c: added a text entry to GUMP,
	so you can now compose real messages. Newsreader
	and 3D flight simulator to follow tomorow.

Tue Jul 28 15:42:39 CDT 1998  Larry Ewing  <lewing@gimp.org>

	* app/drawable_cmds.c (drawable_fill_invoker): 
	* libgimp/gimpenums.h: Changed the libgimp GFillType
	enums to match the core enums in value, the names still
	differ. 
	
	* plug-ins/script-fu/script-fu.c: changed the fill setvars to use
	the GFillType enums. 
	
Tue Jul 28 14:03:57 PDT 1998 Manish Singh <yosh@gimp.org>

	* app/Makefile.am
	* app/errors.c
	* app/errorconsole.[ch]
	* app/app_procs.c
	* app/appenv.h
	* app/menus.c: error console implementation from Nuke
	<nuke@bayside.net> Hooks to g_message

	* app/fileops.c: honor message_handler while still setting
	filesel widget sensitivity properly

Tue Jul 28 15:04:39 CDT 1998  Larry Ewing  <lewing@gimp.org>

	* app/gimpdrawable.h: reordered the GimpFillType enum,
	unfortunately this will cause a lot of recompilation for the
	rest of you.

Tue Jul 28 14:14:43 CDT 1998  Larry Ewing  <lewing@gimp.org>

	* app/drawable.c (drawable_fill): added a case for
	FOREGROUND_FILL.  Fixes the layer new dialog so that it actually
	works with foreground fill selected. 

1998-07-28  Tuomas Kuosmanen  <tigert@gimp.org>

	* app/file_new_dialog.c
	* app/layers_dialog.c: change the order of the different 
	fill-types (Foreground and Background are nicer to sit besides
	each other)

Tue Jul 28 19:46:53 BST 1998  Adam D. Moss <adam@gimp.org>

	* plug-ins/gee/gee.c
	* plug-ins/animationplay/animationplay.c: Fixes for
	gdkrgb output on pseudocolour displays.

Mon Jul 27 12:27:47 PDT 1998 Manish Singh <yosh@gimp.org>

	* plug-ins/fp/fp.c: make PDB entry for filter pack saner

Mon Jul 27 14:29:39 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/xcf.c (xcf_load_level): Made xcf loader a little less
	zealous in trying to copy-on-write duplicated tiles.

Sun Jul 26 23:47:33 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/blend.c
	* app/crop.c
	* app/edit_selection.c
	* app/rect_select.c: More statusbar stuff (should be finished now,
	but who knows...)
	
Sat Jul 25 04:11:31 PDT 1998  Jay Cox <jaycox@earthlink.net>

	* app/pixel_region.c: optimized pixel_region_[gs]et_row,
	minor optimization to pixel_region_[gs]et_col

Sat Jul 25 11:09:58 BST 1998  Adam D. Moss <adam@gimp.org>

	* app/convert.c: Convert-to-indexed now remembers the last
	invocation's settings.  Also, GRAY->INDEXED more flexible.

Sat Jul 25 03:09:02 PDT 1998  Jay Cox <jaycox@earthlink.net>

	* app/gimpbrushgenerated.c: swap out the mask if
	stingy_memory_use is set.

	* app/gimpbrushlist.c: fixed bug related to
	stingy_memory_use

Fri Jul 24 14:03:13 PDT 1998 Manish Singh <yosh@gimp.org>

	* app/transform*.[ch]: applied gimp-tml-980724-1 for new
	transform tool ui. It's still a little rough, needs fixes

Fri Jul 24 14:40:55 CDT 1998  Larry Ewing  <lewing@gimp.org>

	* app/layers_dialog.c (lc_dialog_create): moved 
	gtk_widget_show (lc_shell) so that the layers show up in the
	dialog again.  I've told Owen about this problem, we'll see what
	comes up.

Fri Jul 24 19:36:33 BST 1998  Adam D. Moss <adam@gimp.org>

	* app/appenv.h app/brightness_contrast.c app/color_balance.c
	app/curves.c app/gdisplay.h app/gdisplay_ops.c
	app/hue_saturation.c app/paint_core.c app/paint_funcs.c
	app/undo.c: Attempt to speed-up and/or sanitize
	MAX/MIN/CLAMP macro usage throughout gimp-core.

Fri Jul 24 12:01:31 CDT 1998  Larry Ewing  <lewing@gimp.org>

	* app/gdisplay.c (gdisplay_update_cursor): Fixed a string
	allocation problem that failed to account for the trailing \0
	(removed time sensitve calculation/malloc in the process).

Fri Jul 24 01:33:13 PDT 1998  Jay Cox <jaycox@earthlink.net>

	* app/vector2d.[ch] Makefile.am: new files for vector math.
        Very minimal.

	* gimpbrush.[ch]: added support for brush axis.

	* gimpbrushgenerated.c: added support for brush axis.
	Changed the mask intensity function from gamma to gauss(gamma)

	* paint_core.[ch]: replaced the mask field with a brush field.
	modified paint_core_interpolate to use brush axis.

	* gimpbrushlist.c: modified gimp_list_destroy.

	* gimpbrushlist.c: fixed some broken brush removal stuff.

Thu Jul 23 21:57:25 CDT 1998 Shawn T. Amundson <amundson@gimp.org>

	* app/interface.c: usize statusbar to 1 width

Thu Jul 23 22:34:27 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/tile_cache.c (tile_cache_zorch_next): Fixed a problem with
	losing tile data.

Thu Jul 23 20:29:40 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/edit_selection.c: Display the move offset in the statusbar.
	* app/rect_select.c: Some code cleanup.

Thu Jul 23 10:30:12 PDT 1998 Manish Singh <yosh@gimp.org>

	* app/fileops.c: tell the PDB that gimp_register_magic_load_handler
	takes 4 args

Thu Jul 23 01:53:09 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/rect_select.c: Display the selection-mode in the statusbar.
	* app/session.c: Restoring saved sessions works again.

Wed Jul 22 23:32:50 MEST 1998 Sven Neumann <sven@gimp.org>

        * docs/quick_reference.ps
        * docs/quick_reference.tar.gz: 
        Updated the Quick Reference Sheet to the much improved version made 
        by Sven Anders <anderss@fmi.uni-passau.de>.

Tue Jul 21 18:32:19 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/tile.c app/tile_swap.c: Squashed a deadlock.  I hope.

Tue Jul 21 02:11:47 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/app_procs.c
	* app/devices.[ch]
	* app/session.[ch]: added session-managment support to the
	device-status-dialog. The restore-function is still not working, 
	will have a look at it tomorrow...

Mon Jul 20 21:35:33 BST 1998 Adam D. Moss <adam@gimp.org>

	*  plug-ins/animationplay/animationplay.c: UI tweaks.

Mon Jul 20 20:13:58 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/rect_selectP.h
	* app/rect_select.h
	* app/rect_select.c: The new "Fixed Size" option now works with
	ellipse_select too. Made the entries use spinbuttons. Minor change
	to the selection_size indicator in the status-bar.

	* plug-ins/png/png.c: made fopen() use "rb" and "wb" instead if "r"
	and "w" since the OS/2 port needs it

Mon Jul 20 11:07:32 EDT 1998  Matthew Wilson  <msw@gimp.org>

	* app/app_procs.c
	* app/interface.c: Changed progressbar updaters to work with
	new API.  THIS WILL NOT WORK WITH OLDER GTK+.  SOMEONE NEEDS
	TO MAKE AN ENTRY IN gtkfeatures.h SO WE CAN #ifdef THIS.
	(I suppose I should... but what can I say - I'm lazy)

Mon Jul 20 06:27:18 PDT 1998  Jay Cox <jaycox@earthlink.net>

	* app/brush_select.c app/gimpbrush.c app/gimpbrush.h
	* app/gimpbrushgenerated.c app/gimpbrushlist.c
	* app/gimpbrushlist.h
	Removed the index field from GimpBrush.  Tweaked the
	brush renameing code.

	* app/edit_selection.c
	Look ahead in the event queue and process as many arrow
	keys as we can at once.

Sun Jul 19 15:26:11 PDT 1998  Jay Cox <jaycox@earthlink.net>

	* app/brush_select.c
	recalc the scrollbar when a brush is added/removed.

	* app/gimpbrush.c app/gimpbrush.h app/gimpbrushlist.c
	Make sure brush names are unique when they are added to a
	brush list.

Sun Jul 19 20:55:36 BST 1998 Adam D. Moss <adam@gimp.org>

	* plug-ins/animationplay/animationplay.c: Another
	speedup for some types of shaped animation.

Sun Jul 19 10:23:58 PDT 1998  Jay Cox <jaycox@earthlink.net>

	* app/paint_funcs.c
	new and improved color_pixels now 4-7 times as fast and 8-12
	times as convoluted as original color_pixels.

Sun Jul 19 12:48:00 BST 1998 Adam D. Moss <adam@gimp.org>

	* plug-ins/animationplay/animationplay.c: Adapted
	to use GDKRGB when available - results in improved
	speed and stability.

	* app/session.c
	* app/session.h: GIMP compiles again with the latest
	GTK.  Sven will have to look at this fix, but it seems
	to work.

Sat Jul 18 20:15:59 BST 1998 Adam D. Moss <adam@gimp.org>

	* plug-ins/gee/gee.c: About eight times faster with
	new GTKs, a little faster without.  Less bugs.  PH34R.

Sat Jul 18 21:22:37 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/rect_select.c
	* app/rect_selectP.h: Show the selection size in the
	statusbar.

Sat Jul 18 18:23:28 BST 1998 Adam D. Moss <adam@gimp.org>

	* app/gimprc.c
	* app/gimprc.h
	* app/ink.c
	* app/paint_core.c
	* app/preferences_dialog.c: Now the perfect-mouse-tracking
	normally enabled by pressing MOD1 is a preferences option,
	and MOD1 inverts the affect.

	* app/ink.c: Mildly tweaked the default brush size/range for
	my own twisted sense of esthetics.  Forgive me.

Sat Jul 18 19:28:53 MEST 1998 Sven Neumann <sven@gimp.org>

	* plug-ins/script-fu/script-fu-scripts.c: cosmetic change
	to the Script-Fu dialog

Sat Jul 18 16:32:51 BST 1998 Adam D. Moss <adam@gimp.org>

	* app/fileops.c: Fixed my idiotic comment syntax
	* app/airbrush.c: Less wussy default/max rate

Sat Jul 18 16:08:23 BST 1998 Adam D. Moss <adam@gimp.org>

	* app/fileops.c: Added the ability to make multiple
	selections from GIMP's load-file-selector.  It's
	adequate but not perfect without the ability to get
	the filesel's idea of its cwd via clean GTK coding.

	* app/convert.c: Minor textual changes.

Fri Jul 17 01:28:30 PDT 1998 Manish Singh <yosh@gimp.org>

	* gimptool.in: Made usage printout more verbose, added
	--quiet and -n options

	* gimp.m4: set NOUI stuff if available

Thu Jul 16 16:20:47 PDT 1998 Manish Singh <yosh@gimp.org>

	* gimptool.in: Added --cflags-noui and --libs-noui flags and
	appropriate sed junk to craft it. Don't call gtk-config unless
	GTK_CONFIG is set; hard code the info. Strip out redundant
	stuff from the output

	* libgimp/gimp.h
	* libgimp/gimpimage.c: make gimp_image_flatten return a value
	to be consistent with the PDB

Thu Jul 16 13:13:23 PDT 1998 Manish Singh <yosh@gimp.org>

	* updated MapObject again

Thu Jul 16 04:38:19 PDT 1998 Jay Cox  <jaycox@earthlink.net>

	* brush_edit.[ch]: added a zoom indicator on the preview

        * gimpbrushgenerated.[ch] gimpbrushlist.c: added support
	for loading generated brushes.

	* data/brushes/round01.vbr: a sample generated brush

Wed Jul 15 22:06:32 CDT 1998 Shawn T. Amundson <amundson@gimp.org>

	* Cursor location in statusbar
	* Fixed resize of window
	* progressbar is smaller now

Thu Jul 16 02:43:51 MEST 1998 Sven Neumann <sven@gimp.org>

	updated MapObject plug-in

Wed Jul 15 04:55:30 PDT 1998 Jay Cox <jaycox@earthlink.net>

	* app/gimpbrushgenerated.c
	* app/gimpbrushgenerated.h
	Added freeze/thaw methods

	* app/brush_edit.c
	display a preview in the brush_edit window

Tue Jul 14 19:22:46 PDT 1998 Manish Singh <yosh@gimp.org>

	* acconfig.h
	* configure.in
	* app/about_dialog.c
	* app/app_procs.c
	* app/main.c
	* libgimp/gimp.[ch]
	* libgimp/gimpfeatures.h.in: added features header

Mon Jul 13 22:49:15 PDT 1998 Manish Singh <yosh@gimp.org>

	* configure.in: check for inline by ourselves if it's not
	defined in glibconfig.h. So inline works if glib is compiled
	with a different compiler than gimp. The plug-ins that use
	inline #include "config.h" now (blur, destripe, emboss,
	gfli, nlfilt, ps, randomize, sinus, and zealouscrop)

	* app/main.c: applied gimp-kc-980707-0; fixes command line
	parsing

	* plug-ins/dbbrowser/dbbrowser_utils.c: searching by name does
	- <-> _ translation

	* Added filter pack plugin

Mon Jul 13 22:00:31 EDT 1998 Adrian Likins <adrian@gimp.org>

	* app/rect_select.c : argh, s/snprintf/g_snprintf

Mon Jul 13 19:07:43 EDT 1998  Adrian Likins <adrian@gimp.org>

	* app/drawable.c app/commands.c app/gimpimage.h
          app/layers_dialog.c: applied gimp-kc-980707-1 from
	  Kevin Cozens <kcozens@interlog.com>

	* Dialog boxes for creating a new image or a new layer now include
          as a fill type option.

Mon Jul 13 18:08:35 EDT 1998 Adrian Likins <adrian@gimp.org>

	* plug-ins/script-fu/scripts/3dTruchet.scm
	 plug-ins/script-fu/scripts/flatland.scm
	 plug-ins/script-fu/scripts/truchet.scm:
	updated these scripts to return the display they open,
	mainly so i can use them in another script

Mon Jul 13 17:48:21 EDT 1998 Adrian Likins <adrian@gimp.org>

	* app/rect_select.[ch]: applied gimp-chap-980709-0
	from  Chap Lovejoy  (chap@cc.gatech.edu)

	From the README:

	Adds fixed size and fixed ratio rectangular selections to the
	gimp.

        Fixed size is enabled by filling in the height and width boxes in
        the rectangular selection tool options box and checking the
        "fixed size" checkbox.

        Fixed ratio is enabled by enabling fixed size (set the height and
        width to the desired ratio values) and holding shift after
	starting the selection (holding shift while starting the selection
	will change the selection operation to add).

Tue Jul 14 00:26:49 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/fileops.c
	* app/menus.c
	* app/preferences_dialog.c: fixed a few bugs in the new MRU list

Mon Jul 13 03:00:46 PDT 1998 Jay Cox  <jaycox@earthlink.net>

	* brush_select.c gimpbrushlist.c: fixed brush ref counting

Mon Jul 13 07:42:36 BST 1998 Adam D. Moss <adam@gimp.org>

	* app/convert.c: July 6th's patch from Yasuhiro SHIRASAKI for
	constraining custom-palette choices to <=256 colours broke
	the automatic defaulting of 'Web' palette.  Fixed.

Sun Jul 12 23:56:35 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/tile_swap.c: #if 0'd some of mkj's last commit because it's
	busted.

Sun Jul 12 19:00:15 EDT 1998 Michael K. Johnson <johnsonm@redhat.com>

	* app/tile_swap.c
	* app/tile_swap.h
	* app/tile_manager.c
	* app/tile_manager.h
	* app/pixel_region.c
	* app/pixel_region.h: asynchronous swapin on systems with
	pthreads.  This version is not at all tuned, and the only
	interface which makes use of it now is
	pixel_region_{g,s}et_{row,col}.  Other functions which
	know ahead of time the area that they will be needing can
	request that it be asynchronously swapped in via the
	pixel_region_get_async() function.

Sun Jul 12 17:32:24 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/tile_cache.c: Some optimizations and bugfixes relative to
 	the preswapper.

Sun Jul 12 15:56:01 BST 1998 Adam D. Moss <adam@gimp.org>

	* app/gdisplay.h
	* app/interface.c
	* app/plug_in.c: Added the ability to cancel a running
	plugin when the progress-bar has been sucked into the image
	window.

	* plug-ins/psd/psd.c: Turned debugging on again, since we
	are in a development cycle...

Sun Jul 12 04:16:17 PDT 1998 Jay Cox <jaycox@earthlink.net>
	* gimplist{.c,.h,F.h,P.h}
        New class for lists

	* gimpbrushlist.h gimpbrushlistF.h gimpbrushlistP.h brush_select.c
        split gimpbrushlist.h into 3 files.  Made gimplist
        the parent class of GimpBrushList.

	* gimpbrushlist.c: brushes in the list are once again sorted by name.

	* paint_funcs.c: minor speed tweak to a minor speed tweak in
	border_region

Sat Jul 11 22:15:31 PDT 1998 Manish Singh <yosh@gimp.org>

	* fileops.c
	* gimprc.[ch]
	* menus.[ch]
	* preferences_dialog.c: added MRU file list (patch from
	nuke@bayside.net) Moved document index menu item into the
	dialogs submenu

Sat Jul 11 23:57:09 1998  Owen Taylor  <otaylor@gtk.org>

	* app/ink.c (tools_free_ink): Free last_blob when destroying
	  tool.

	* app/blob.c: Fix off-by-one error when searhing for gaps.

Sat Jul 11 19:57:28 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/tile.c: Added some more debugging code.
	* app/tile_cache.c (tile_idle_thread): Modified tile preswapper to
	be a bit less aggressive.

Sun Jul 12 00:44:57 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/session.c: disabled setting the size of the dialogs since
	lewing pointed out that you can't make them smaller any more :-(

Sun Jul 12 00:13:02 MEST 1998 Sven Neumann <sven@gimp.org>

	* gimprc.in
	* app/app_procs.c
	* app/appenv.h
	* app/brush_select.c
	* app/gimprc.c
	* app/gimprc.h
	* app/gradient.c
	* app/info_dialog.c
	* app/interface.c
	* app/layers_dialog.c
	* app/main.c
	* app/palette.c
	* app/pattern_select.c
	* app/preferences_dialog.c
	* app/session.c
	* app/session.h
	* app/tools.c: More session-managment functionality. Opened dialogs
	are saved and eventually reopened. Try to use the --restore-session
	command-line option. The format of gimprc and sessionrc have
        slightly changed. You should remove your sessionrc and delete the
	line (save-window-positions-on-exit) from your gimprc to avoid
	warnings.

Sat Jul 11 12:20:50 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/paint_funcs.c (copy_region): Added missing tile_release
	call.
	* app/tile.c app/tile_cache.c: Added some sanity checks and
	debugging stuff.

Sat Jul 11 16:59:22 BST 1998 Adam D. Moss <adam@gimp.org>

	* app/paint_funcs.c: Shaved about 25% off the time spent in
	combine_inten_[a_]and_inten_a_pixels() - yay.

	* app/xcf.c: Removed 'M' and '.' debugging spew
	* app/tile_manager.c: Removed #include <stdio.h>

Sat Jul 11 08:58:49 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/paint_core.c (paint_core_get_orig_image): Fixed a really
	dumb bug.  (This may solve some of the undo-related crashes.)

1998-07-11  Seth Burgess <sjburges@gimp.org>

	* app/main.c:
 	* app/gimprc.c:
	Added commandline for alternate systemwide gimprc.  Fixed alternate
	gimprc (guess I should have tested a little more).

1998-07-10  Seth Burgess <sjburges@gimp.org>

	* app/main.c:
	* app/gimprc.c:
	Added commandline support for an alternate gimprc.

1998-07-10  Chris Lahey  <clahey@umich.edu>

	* app/docindexif.c:
	* app/docindexif.h: Screwed up a file name change.

Fri Jul 10 23:06:09 BST 1998 Adam D. Moss <adam@gimp.org>

	* app/paint_funcs.c:
	Fixed copy-on-write path of copy_region which was sometimes
	crashing with Scott's new tile scheme.

	* app/tile_manager.c:
	Added some sanity warnings.

	* app/xcf.c:
	Fixed copy-on-write tile loading which was causing crashes
	with Scott's new tile scheme.  Ref balance count seems funny
	still.

1998-07-10  Chris Lahey  <clahey@umich.edu>

	* app/docindexif.c: New file.
	* app/docindexif.h: New file.
	* app/docindex.h:
	* app/docindex.c: Lots of changes.  Added docindexif.c and
	docindexif.h as an interface between the document index and the
	application.  This way the document index can be used in two
	applications and updated in both at the same time.  Also, made the
	document index save files even if it's not shown on the screen.

	* app/Makefile.am (gimp_SOURCES): Added docindexif.c and docindexif.h.

Fri Jul 10 01:44:29 PDT 1998 Jay Cox <jaycox@earthlink.net>

	* paint_core.c paint_core.h gimpbrushlist.h gimpbrushlist.c
	  gimpbrushgenerated.c brush_select.h brush_select.c
        Signalified brushes.  got rid of some warnings.
        Fixed a bug that showed up when run --no-data

        * paint_funcs.c
        Minor speed tweak to border_region

Thu Jul 9 21:23:46 1998 Scott Goehring <scott@poverty.bloomington.in.us>

	* paint_core.c tile.c undo.c: tile tweaks.

	* tile.c tile_manager.c tile_cache.c tile.h tile_manager.h
	  tile_manager_pvt.h tile_pvt.h:
	  completely redid tile management.

	* blend.c boundary.c by_color_select.c channel.c color_picker.c
 	  drawable_cmds.c frac.c fuzzy_select.c gimpimage.c image_render.c
 	  ink.c layer.c paint_core.c paint_funcs.c pixel_region.c
 	  plug_in.c preferences_dialog.c procedural_db.c transform_core.c
 	  undo.c xcf.c:
	  changed to reflect new tile management protocols.  (Also killed
	  a few compilation warnings.)

Thu Jul  9 22:04:04 EDT 1998  Michael K. Johnson <johnsonm@redhat.com>

	* app/clone.c: clone_motion: silently ignore cloning if the
	  clone source hasn't been selected or no longer exists.

Wed Jul  8 21:34:31 PDT 1998  Jay Cox <jaycox@earthlink.net>

        * app/brushes.c app/brushes.h:  removed files

        * app/gimpbrush.c app/gimpbrush.h
        * app/gimpbrushlist.c app/gimpbrushlist.h
          the New files replace the functionality of brushes.[ch]
          and objectify the brushes.  The basic structure is in
          but signals are not used as much as they should be.

        * app/gimpbrushgenerated.c app/gimpbrushgenerated.h
          New type of brush that is can be modified on the fly

        * brush_edit.c brush_edit.h
          new files that implement a gui for the GimpBrushGenerated class.
          very basic.

	* brush_select.c devices.c ink.c gimpobject.h paint_core.c
          brush_select.h brush_edit.h preferences_dialog.c pencil.c
          paintbrush.c internal_procs.c gimage_mask.c eraser.c convolve.c
          commands.c colormaps.c airbrush.c clone.c app_procs.c
          paint_core.h
          Minor changes to support above new functionality.

Wed Jul  8 22:36:12 CDT 1998  Larry Ewing  <lewing@gimp.org>

	* app/color_area.c (color_area_edit): raise the color select when
	the color area is clicked.

Wed Jul  8 21:08:03 CDT 1998  Larry Ewing  <lewing@gimp.org>

	* app/gimpimage.c (gimp_image_raise_layer): fixed a small typo
	that prevented the composite image from being updated properly

Wed Jul  8 10:47:51 CDT 1998  Larry Ewing  <lewing@gimp.org>

	* app/preferences_dialog.c: replaced old invalidate calls
	with an iteration over gimages.

	* app/layer.c: added an assert to check for gimage != NULL.

1998-07-08  Chris Lahey  <clahey@umich.edu>

	* app/menus.c (toolbox_entries): Made it so that you won't get two
	document indexes open at the same time.  (docindex.c assumes that
	you only have one open.)

	* app/docindex.h: Added a function to close the document index
	from outside docindex.c.

	* app/docindex.c: Got rid of warnings about isspace().
	(create_idea_toolbar): Got rid of the warnings about pixmaps.
	(close_idea_window): Added a function to close the document index
	from outside docindex.c.
	(idea_hide_callback): Made this function work correctly if called
	when ideas is NULL.

	* app/app_procs.c (really_quit_callback):
	(app_exit): Made it so that the document index saves even if you
	quit without closing it.

	* app/fileops.c (file_save): Made Save As add to the document index.

1998-07-08  Chris Lahey  <clahey@umich.edu>

	* app/docindex.h:
	* app/docindex.c: New files containing the document index.

	* app/menus.c (toolbox_entries): Added a menu item to open the
	Document Index.

	* app/Makefile.am (gimp_SOURCES): Added docindex.c and
	docindex.h.

	* app/fileops.c (file_open): Made it so that opening a file adds
	to the document index.

Wed Jul  8 01:38:15 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* Makefile.am blend.c boundary.c by_color_select.c channel.c
 	* color_picker.c drawable_cmds.c fuzzy_select.c gimpimage.c
 	* image_render.c ink.c layer.c main.c paint_core.c paint_funcs.c
 	* pixel_region.c plug_in.c tile.c tile.h tile_cache.c tile_manager.c
 	* tile_swap.c transform_core.c undo.c xcf.c: split off tile_pvt.h
	from tile.h so changes in the tile implementation don't force a
	complete recompile.

Wed Jul  8 01:35:22 EEST 1998  Lauri Alanko <nether@gimp.org>

	* app/app_procs.c (app_exit_finish): Unregister pdb procs _before_
	destroying pdb.

Mon Jul  6 20:38:36 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/gimage_mask.c (gimage_mask_boundary): fixed crash when you
	delete the last layer of an image.

Mon Jul  6 5:12:00 CST	1998 Seth Burgess <sjburges@gimp.org>

	* plug-ins/gbr/gbr.c: added gbr version 1 support

Mon Jul  6 12:02:43 PDT 1998 Manish Singh <yosh@gimp.org>

	* app/convert.c: check for > 256 colors palettes when indexing,
	since the code doesn't handle it (from Yasuhiro SHIRASAKI)

Mon Jul  6 13:18:12 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* pixmaps.h pixmaps2.h tools.c: splits pixmaps up into two headers
	* tile.c: fixed a doublelock deadlock

Sun Jul  5 15:49:02 EDT 1998  Adrian Likins <adrian@gimp.org>

	* applied a patch from Adam D. Moss <adam@gimp.org>
	* app/convert.c:  Sucked the warning about
	quantizing to too many colours into a text
        widget embedded in the dialog, improved intelligence of
	dialog to default 'custom palette' selection to 'Web'
 	if available, and in this case not bother to present
	the native WWW-palette radio button. [Adam]

Sat Jul  4 22:58:23 PDT 1998 Manish Singh <yosh@gimp.org>

	* plug-ins/autostretch_hsv/autostretch_hsv.c: corrected progress
	display caption

Sat Jul  4 16:58:43 PDT 1998 Manish Singh <yosh@gimp.org>

	* app/tile_swap.c: made the g_message errors a little smarter instead
	of popping up a ton of dialogs

	* app/layer.c
	* app/channel.c
	* app/gdisplay.c
	* app/gimprc.c: some code cleanups

Thu Jul  2 18:10:43 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* blend.c boundary.c by_color_select.c channel.c color_picker.c
	drawable_cmds.c frac.c fuzzy_select.c image_render.c invert.c
	layer.c paint_core.c paint_funcs.c pixel_region.c plug_in.c tile.c
	tile.h tile_cache.c tile_manager.c transform_core.c undo.c xcf.c:
	incorporated Adam's copy-on-write patches.  Tested briefly:
	nothing seems to be broken, but I guarantee nothing.

Thu Jul  2 11:03:12 PDT 1998 Manish Singh <yosh@gimp.org>

	* updated blur, randomize, and exchange plugins (not sure if
	they should go into stable, they break PDB interfaces)

Thu Jul  2 01:45:24 EEST 1998  Lauri Alanko <nether@gimp.org>

	* app/Makefile.am:
	* app/gimpset(.c|[FP]?.h):

	Started gimpset, a generic class for handling collections of
	objects. (And to automatically manage their signals, not
	implemented yet)

	* app/drawable.[ch]
	* app/gimpdrawable.[ch]
	* app/gimpimage.c:

	Moved drawable_apply_image to drawable.c

	* app/app_procs.c
	* app/appenv.h
	* app/gimage.[ch]
	* app/layers_dialog.c
	* app/main.c
	* app/procedural_db.c:

	Created a global context object (image_context) to handle the
	collection of images that the app manages.

	* app/gimpobject.c:
	* app/layer.h: Nothing major.

	* app/move.c: Fixed an uninitialized var that made guides crash.
	* app/tools.h: Removed an unused and conflicting X define.

Wed Jul  1 14:55:21 PDT 1998 Manish Singh <yosh@gimp.org>

	* added waterselect plug-in

Wed Jul  1 14:13:45 PDT 1998 Manish Singh <yosh@gimp.org>

	* plug-ins/jpeg/jpeg.c: fix for non-interactive mode

Wed Jul  1 10:14:41 PDT 1998 Manish Singh <yosh@gimp.org>

	* ltconfig: fix for properly detecting shared lib support on
	SunPro cc (taken from libtool 1.2.a)

	* app/convert.c: PDB wrapper for convert_indexed_palette should
	return args associated with it's own proc

Tue Jun 30 12:19:58 CDT 1998 arturo@nuclecu.unam.mx

	* pupi-button.scm: (script-fu-round-button) A new beveled button
	script for rendering round, elliptical or squared buttons.

Tue Jun 30 12:13:36 PDT 1998 Manish Singh <yosh@gimp.org>

	* plug-ins/flame/flame.c: don't use app private includes

Tue Jun 30 18:08:01 EEST 1998  Lauri Alanko  <nether@gimp.org>

	* app/Makefile.am: start collecting some core stuff to libgimpim.a
	* app/gdisplay.c (gdisplays_update_area): remove an (apparently)
	redundant display area

	* app/drawable.c:
	* app/drawable.h:
	* app/gimpdrawable.c:
	* app/gimpdrawable.h:
	* app/gimpdrawableF.h:
	* app/gimpdrawableP.h:

	Started separating crud out of drawables.

	* app/blend.c:
	* app/bucket_fill.c:
	* app/channel.h:
	* app/clone.c:
	* app/commands.c:
	* app/disp_callbacks.c:
	* app/drawable_cmds.c:
	* app/drawable_pvt.h:
	* app/fileops.c:
	* app/floating_sel.c:
	* app/gimage.c:
	* app/gimage_cmds.c:
	* app/gimage_mask.c:
	* app/gimpimage.c:
	* app/gimpimage.h:
	* app/gimpimageP.h:
	* app/indexed_palette.c:
	* app/interface.c:
	* app/interface.h:
	* app/invert.c:
	* app/layer.c:
	* app/layer.h:
	* app/layers_dialog.c:
	* app/plug_in.c:
	* app/procedural_db.c:
	* app/procedural_db.h:
	* app/transform_core.c:
	* app/xcf.c:

	Isolated the id system of images entirely within pdb. Even the
	window titles and menus use pointers instead of ids. Should at
	least remind people that this is a developers' version. :)

Tue Jun 30 04:00:38 EEST 1998  Lauri Alanko  <nether@gimp.org>

	* app/commands.c:
	* app/edit_cmds.c:
	* app/gdisplay.c:
	* app/gimage.c:
	* app/gimage.h:
	* app/gimpimage.c:
	* app/gimpimage.h:
	* app/gimpimageP.h:
	* app/gimpobject.c:
	* app/gimpobject.h:
	* app/gimpobjectP.h:
	* app/global_edit.c:
	* app/global_edit.h:
	* app/indexed_palette.c:
	* app/layer.c:
	* app/layers_dialog.c:
	* app/move.c:
	* app/undo.c:
	* app/undo.h:

	Misc cleaning up here and there. Note that since the ids were used
 	to detect if an image still exists, some things may, for now,
 	access freed images and break. This will be fixed once proper
 	destroy handlers are added.

Sun Jun 28 19:32:06 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/tile_swap.c: Added a mutex on the swapfile to avoid a
	potential race condition.

Mon Jun 29 03:14:14 EEST 1998  Lauri Alanko  <nether@gimp.org>


	* app/airbrush.c app/bezier_select.c app/by_color_select.c:
 	* app/channel.c app/channel.h app/channel_cmds.c app/channel_ops.c:
 	* app/channel_ops.h app/channels_dialog.c app/commands.c:
 	* app/convert.c app/convert.h app/convolve.c app/crop.c:
 	* app/drawable.c app/drawable.h app/drawable_pvt.h:
 	* app/ellipse_select.c app/file_new_dialog.c app/fileops.c:
 	* app/fileops.h app/floating_sel.c app/free_select.c:
 	* app/fuzzy_select.c app/gdisplay.c app/gdisplay.h app/gimage.c:
 	* app/gimage_cmds.c app/gimage_mask.c app/gimpimage.c:
 	* app/gimpimage.h app/gimpimageF.h app/gimpobject.c app/gimpobject.h:
 	* app/indexed_palette.c app/indexed_palette.h app/ink.c:
 	* app/iscissors.c app/layer.c app/layer.h app/layer_cmds.c:
 	* app/layers_dialog.c app/layers_dialog.h app/layers_dialogP.h:
 	* app/move.c app/paint_core.c app/paint_funcs.c app/paint_funcs.h:
 	* app/preferences_dialog.c app/rect_select.c app/text_tool.c:
 	* app/transform_core.c app/undo.c app/xcf.c:

	Removed most of the image id system. They're still used with pdb.
	At quick glance, nothing seems to be broken, but if things weird
	out, blame me.

	Now just the same for layers, channels and displays...


Sun Jun 28 10:08:53 PDT 1998 Manish Singh <yosh@gimp.org>

	* plug-ins/ps/ps.c: don't use app private includes

Sun Jun 28 13:30:20 EEST 1998  Lauri Alanko  <nether@gimp.org>

	* app/gimage.c
	* app/gimage.h
	* app/gimpimage.c
	* app/gimpimage.h
	* app/gimpimageF.h
	* app/gimpimageP.h
	* app/gimpobject.c
	* app/gimpobject.h
	* app/gimpobjectF.h
	* app/gimpobjectP.h
	* app/gimpsignal.c
	* app/gimpsignal.h
	* docs/OO.txt

	Started doing a GtkObjectifying framework, and started cleaning
	images from all sorts of ugly dependencies.

Sun Jun 28 08:32:20 1998  Tim Janik  <timj@gtk.org>

	* app/layer.c (gimp_layer_mask_get_type):
	(gimp_layer_get_type):
	* app/drawable.c (gimp_drawable_get_type):
	* app/channel.c (gimp_channel_get_type):
	return a GtkType value and initialize the GtkTypeInfo structure
 	correctly.

	* app/layer.h:
	* app/drawable.h:
	* app/channel.h:
	provide GIMP_TYPE_* and GIMP_IS_*_CLASS() macros.

Sat Jun 27 23:28:26 PDT 1998 Manish Singh <yosh@gimp.org>

	* app/interface.c: minor unused variable warning cleanup

	* plug-ins/bumpmap/bumpmap.c: another warning cleanup

	* plug-ins/flame/flame.c: time(NULL) instead of time(0)

	* plug-ins/gpc/Makefile.am
	* plug-ins/megawidget/Makefile.am: install in $libdir instead
	of $gimpplugindir since they *are* libs. Some archs try to
	exec them, and it barfs

Sun Jun 28 00:23:52 EDT 1998 Adrian Likins <adrian@gimp.org>

	* app/tile.c : fix from Scott Goehring for a thread deadlock

Fri Jun 26 17:22:00 PDT 1998 Manish Singh <yosh@gimp.org>

	* libgimp/gimp.[ch]
	* app/procedural_db.c: add procedural_db_get_data_size and
	gimp_get_data_Size functions from Nick Lamb

Fri Jun 26 11:00:35 PDT 1998 Manish Singh <yosh@gimp.org>

	* plug-ins/script-fu/scripts.c: define DIVIDE here too (auf,
	script-fu sucks)

	* plug-ins/illusion/illusion.c: parse gtkrc

Fri Jun 26 00:59:16 PDT 1998 Manish Singh <yosh@gimp.org>

	* app/Makefile.am: corrected typo

	* app/bezier_select.c
	* app/rect_select.[ch]: merged in bezier extend patch
	by Raphael FRANCOIS (fraph@ibm.net)

	* app/menus.c: restored "lost" menu items and shortcuts
	These really aren't tools.. maybe they should go somewhere
	else?

	* plug-ins/Lighting/lighting_main.c: added gimp_displays_flush

Thu Jun 25 17:25:01 PDT 1998 Adrian Likins <adrian@gimp.org>

	* Makefile.am:
	* app/app_procs.c:
	* gimp1_1_splash.ppm: Some cosmetic changes to
	better reflect the development stage of gimp.

Tue Jun 23 22:26:09 PDT 1998 Manish Singh <yosh@gimp.org>

	* configure.in: compile everything with -D_REENTRANT

	* app/menus.c: fix for default accel (wrong X char)

	* libgimp/gimpenums.h: make DIVIDE_MODE visible

	* plug-ins/gif/gif.c: make it less verbose again

Wed Jun 24 00:45:01 MEST 1998 Sven Neumann <sven@gimp.org>

	* gimprc.in
	* app/gimprc.c
	* app/preferences_dialog.c
	* app/session.c
	* app/tips_dialog.c: Moved the (last-tip-shown xx) entry to
	sessionrc. You might want to delete that line from your gimprc,
	but it works fine without doing so.

Tue Jun 23 23:21:16 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/commands.c
	* app/layers_dialog.c
	* app/menus.c: The lc-dialog can now be opened from the
	toolbox-menu. Did that in preparation for auto-opening dialogs on
	start-up.

Mon Jun 22 22:57:00 EDT 1998 Manish Vachharajani <mvachhar@vger.rutgers.edu>

	* app/eraser.c:  Ack, try to get pressure sensitivity right this time.

Mon Jun 22 22:57:00 EDT 1998 Manish Vachharajani <mvachhar@vger.rutgers.edu>

	* app/eraser.c:  Added support for pressure sensitive eraser

Mon Jun 22 23:35:52 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/pixmaps.h: Made a new pixmap for the ink tool that fits
	better to the others.

Mon Jun 22 18:43:22 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/Makefile.am
	* app/app_procs.c
	* app/brush_select.c
	* app/gimprc.[ch]
	* app/gradient.c
	* app/info_dialog.c
	* app/interface.c
	* app/layers_dialog.c
	* app/palette.c
	* app/pattern_select.c
	* app/preferences_dialog.c
	* app/session.[ch]  (new files)
	* app/tools.c: Rough outline of session-managment. A new config
	file 'sessionrc' is written and the position of some windows is
	remembered. Still has some problems (offset by wm decorations).
	Can be switched off in the preferences.

Sun Jun 21 15:16:46 CDT 1998 Larry Ewing <lewing@gimp.org>

	* app/bezier_select.c
	* app/commands.[ch]
	* app/devices.c
	* app/disp_callbacks.c
	* app/interface.c
	* app/menus.c
	* app/pixmaps.h
	* app/tools.[ch]
	* app/undo.c: Lots of changes to the way tools are intialized and
	accessed.  All information about a tool type is now contained in a
	single ToolInfo array.  There are still some small issues to
	adress about tool groups and we need some way of getting menu
	ordering/grouping to work better (plug-ins need this too).  There
	is still much to be done, but this is the next in cleaning up the
	tools.

	* app/posterize.[ch]
	* app/threshold.[ch]
	* app/histogram_tool.[ch]
	* app/hue_saturation.[ch]
	* app/levels.[ch]
	* app/brightness_contrast.[ch]
	* app/by_color_select.[ch]
	* app/color_balance.[ch]
	* app/curves.[ch]: Changed the *_initalize function prototypes from
	gpointer to GDisplay, to allow better type chacking and provide a
	uniform interface for all the dialog tools.

Sun Jun 21 15:49:43 1998  Owen Taylor  <otaylor@gtk.org>

	* app/tools.c (tools_select): Set active_tool before
	updating device status dialog.

Sat Jun 20 22:09:16 PDT 1998 Manish Singh <yosh@gimp.org>

	* gimptool.in: fixes for new library versioning

Sat Jun 20 11:36:16 PDT 1998 Manish Singh <yosh@gimp.org>

	* configure.in
	* app/Makefile.am: really add thread support

Sat Jun 20 12:04:41 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/tile.h: #include config.h so we can tell if we're doing
	threads.  (GIMP's includes are f*ck*d.)

	* app/tile_cache.c app/tile.c app/tile.h app/tile_swap.c: modified
	tile swapping to preswap dirty tiles, using a thread if threads
	are enabled in configure or a gtk_timeout if they're not.  The
	code appears stable but could use improvement.  Be careful when
	working in here; there are four sets of semaphores and getting the
	locking wrong will cause deadlocks or tile corruption.  I'll try
	to write up a document describing what's going on in here sometime
	soon.

Fri Jun 19 16:37:40 PDT 1998 Manish Singh <yosh@gimp.org>

	* app/appenv.h
	* app/app_procs.c
	* app/errors.[ch]
	* app/main.c
	* app/plug_in.c: implemented PDB interface for changing
	the g_message handler

	* plug-ins/gif/gif.c: g_printized "no comment" warning

Fri Jun 19 16:12:51 EDT 1998 Adrian Likins <adrain@gimp.org>

	* TODO: more updates

Fri Jun 19 12:34:29 PDT 1998 Manish Singh <yosh@gimp.org>

	* changes libgimp versioning to gtk-style. Bunch o' Makefile.am
	changes for that

Thu Jun 18 23:11:36 1998  Owen Taylor  <otaylor@gtk.org>

	* app/ink.c: Shift the range to smaller brushes.
	(1/8 - 25 pixel radius, instead of 1-100 pixels)

Thu Jun 18 18:34:58 PDT 1998 Manish Singh <yosh@gimp.org>

	* acconfig.h
	* config.h.in
	* configure.in: added --with-threads (taken from gtk+ configure.in)

	* libgimp/Makefile.am: ugly hack to force libgimpi.a to get
	rebuilt since libgimp.la compilations screws up the deps. Fixes
	relinking on make install.

	* configure.in
	* plug-ins/Makefile.am: other cleanups

	* libgimp/gimp.c
	* app/plug_in.c: pass INT32 instead of INT8 for gdisp_id since
	that's the correct type

	* app/preferences_dialog.c
	* plug-ins/script-fu/script-fu-server.c
	* plug-ins/tileit/tileit.c: warning fixups

Thu Jun 18 21:20:12 1998  Owen Taylor  <otaylor@gtk.org>

	* app/interface.c app/tools.c: Removed calls to
	  gtk_container_[dis/en]able_resize()

Thu Jun 18 21:03:33 1998  Owen Taylor  <otaylor@gtk.org>

	* app/interface.c (create_display_shell): Set the resize
	mode on the statusbar to prevent the window from being
	unnecessarily auto-shrunk.

	* plug-ins/gfig/gfig.c (my_gtk_label_set): Removed unused
	function using deprecated gtk_container_need_resize()

Thu Jun 18 16:31:16 1998  Owen Taylor  <otaylor@gtk.org>

	* app/blob.c: Try to prevent overflows when drawing ellipses)
	(fixes the ink => line bug for big sizes)

Thu Jun 18 16:11:19 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/preferences_dialog.c: fiddled with the spinbuttons
	* app/file_new_dialog.c: removed two warnings

Wed Jun 17 23:52:13 EDT 1998 Adrian Likins <adrian@gimp.org>

	* app/file_new_dialog.c: updated the spinbuttons
	to use the new api

	* app/gimprc.[ch]: added some stuff in preparation for
	making a preference

Thu Jun 18 00:56:41 MEST 1998 Sven Neumann <sven@gimp.org>

	* channels_dialog.c
	* layers_dialog.c: the middle mouse button now pops up the menu
	as well as the third when clicking on the layer/channel. This should
	help users that use a tablet and don't have a right mouse button.

Wed Jun 17 17:47:30 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/preferences_dialog.c: fixed a bug I introduced with the
	new mem_size_unit for the tile_cache_size

Wed Jun 17 16:38:40 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/channel.c
	* app/paint_funcs.c
	* app/paint_funcs.h: applied a patch from Jay Cox.
	Reimplements selection_grow, selection_shrink, and selection_border
	using new algorithms.

Wed Jun 17 12:07:44 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/gimprc.c: default "save_window_positions_on_exit" to FALSE
	until I know why gdk_window_get_position() doesn't work properly
	when the window was never moved

Wed Jun 17 01:56:30 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/app_procs.c
	* app/gimprc.c
	* app/gimprc.h
	* app/layers_dialog.c
	* app/interface.c
	* app/preferences_dialog.c: started to implement some sort of
	session-managment; right now it only saves a few window-positions.
	I plan to move the saving out of gimprc into a seperate rcfile

Tue Jun 16 15:06:19 CDT 1998 Larry Ewing <lewing@gimp.org>

	* app/interface.c:
	* app/menus.c: added menu entry and changed loop bounds to get the
	new ink tool functioning properly

	* app/tools.[ch]: added new and free funcs to the ToolInfo struct,
	and began small cleanup of tools

Mon Jun 15 12:42:43 PDT 1998 Manish Singh <yosh@gimp.org>

	* app/plug_in.c: initialize progress_gdisp_ID field in
	plug_in_new so things don't crash

	* app/menus.c: use proper keycodes (?) for zoom accelerator
	defaults

	* plug-ins/apply_lens/apply_lens.c: fixed a warning

Mon Jun 15 14:39:43 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/preferences_dialog.c: Added units (B,KB,MB) to the
	tile_cache_size entry. Added spinbuttons where appropriate (used
	parts of the patch Nuke <nuke@bayside.net> sent to the list).

Sun Jun 15 00:41:05 CDT 1998 Shawn T. Amundson <amundson@gimp.org>

	* app/interface.c: Table spacings

Sun Jun 14 23:41:17 CDT 1998 Shawn T. Amundson <amundson@gimp.org>

	* app/plug_in.c: Fixed progress code to account for when
	a plugin gets two progress inits

	* app/interface.c: Fixed table allocation sickness.  Now use
	two tables, and a vbox instead of one table so things don't
	get expanded when they shouldn't.  This (table/table_inner)
	should be merged back to 1.0 tree.  The other resize bug is a
	gtkstatusbar bug.

Sun Jun 14 21:16:42 CDT 1998 Shawn T. Amundson <amundson@gimp.org>

	* app/gdisplay.c
	* app/gdisplay.h
	* app/interface.c
	* app/plug_in.c
	* app/plug_in.h
	* libgimp/gimp.c: added statusbar and progressbar, which
	the plugins now use if they have a gdisp.  Unfortunately
	this introduces a resize bug I wasn't able to fix
	immediately. ;-(

Sun Jun 14 18:37:06 1998  Owen Taylor  <otaylor@gtk.org>

	* app/blob.[ch] (blob_bounds): Added new files for
	handling scan-converted convex polygons. (From
	gsumi) (these will be moved out to a plug-in tool directory
	when such a thing exists)

	* app/ink.[ch]: New tool for drawing with a hard-edged
	pressure and tilt-sensitive brush.

Sun Jun 14 16:03:29 EDT 1998 Adrian Likins <adrian@gimp.org>

	* TODO: cleaned up and expanded the todo

Sun Jun 14 00:50:25 PDT 1998 Manish Singh <yosh@gimp.org>

	* plug-ins/gif/gif.c: don't pop up dialog for informational
	"Too many colors?" message

Sat Jun 13 21:11:17 PDT 1998 Manish Singh <yosh@gimp.org>

	* Makefile.am: install gimp.m4 too

	* libgimp/gimpprotocol.[ch]
	* libgimp/gimp.c
	* app/plug_in.[ch]
	* app/procedural_db.c: exported the gdisplay ID to the plugins,
	so they can be smart about hooking on to status bars in the
	appropriate display shell

	* libgimp/Makefile.am
	* libgimp/gimp.c: make the plugins aware of $gimpdir for gtkrc
	parsing

Sat Jun 13 16:52:34 EDT 1998 Adrian Likins <adrian@gimp.org>

	*app/file_new_dialog.c: removed unsightly warnings,
	replace a * with a / so it will work

Sat Jun 13 15:46:55 EDT 1998 Adrian Likins <adrian@gimp.org>

	*app/file_new_dialog.c: more file new tweaks,
	now uses spinbuttons. I'm still not sure this change is
	for the better, let me know. Pretty heavily based
	on a patch by Nuke Skyjumper <nuke@bayside.net>

Fri Jun 12 14:17:54 EDT 1998 Adrian Likins <adrian@gimp.org>

	*app/file_new_dialog.c
	app/file_new_dialog.h:
	app/gloal_edit.c:  added behaviour so that the
	new file size will default to the current cut buffer
	if its "fresh"

Thu Jun 11 23:37:06 PDT 1998 Manish Singh <yosh@gimp.org>

	* gimp.m4: .m4 file for autoconf gimptool stuff

Thu Jun 11 00:34:51 1998  Owen Taylor  <otaylor@gtk.org>

	* app/color_area.c (color_area_events): Create/resize
	the pixmap on every expose CONFIGURE event, not just
	on the first expose event.

Thu Jun 11 00:02:15 1998  Owen Taylor  <otaylor@gtk.org>

	* app/interface.c (create_toolbox): Create the color
	area before showing the window, so that the window gets
	created at the right size. [ This doesn't actually fix
	much, but it is better to do that way ]

Wed Jun 10 14:17:44 1998  Owen Taylor  <otaylor@gtk.org>

	* app/disp_callbacks.c (gdisplay_origin_button_press):
	Stop signal emission so that button doesn't grab the
	pointer away from the menu.

Tue Jun  9 19:47:19 1998  Owen Taylor  <otaylor@gtk.org>

	* app/brushes.c app/drawable.c app/patterns.c
	  app/procedural_db.c plug-ins/script-fu/script_fu_server.c

	Fixes for warnings generated by changing GCompareFunc
	and GHashFunc to take const arguments.

Tue Jun  9 16:08:20 EDT 1998 Adrian Likins <adrain@gimp.org>

	*app/file_new_dialog.c: more fiddling with file_new.
	the resoution unit optionmenu should work now. Just
	need to get the optionmenus remembering history.

Tue Jun  9 12:36:57 EDT 1998  Adrian Likins <adrian@gimp.org>

	*confiure.in: corrected small type concering jpeg test
	(warning printed out "checking for jpeg.h" instead of
	jpeglib.h)

Tue Jun  9 04:36:52 PDT 1998 Manish Singh <yosh@gimp.org>

	* Got rid of a bunch of warnings when compiling plugins

	* app/disp_callbacks.h: add declaration to get interface.c
	to compile

	* autogen.sh: make sure we know about ACLOCAL_FLAGS

Tue Jun  9 11:18:03 MEST 1998 Sven Neumann <sven@gimp.org>

	* app/disp_callbacks.c
	* app/interface.c: add a pop-up menu to the upper left corner of
	the image window

	* updated pagecurl plug-in

Mon Jun  8 21:55:55 PDT 1998 Manish Singh <yosh@gimp.org>

	* gimptool.in: use @gimpdir@ instead of hardcoding .gimp

	* app/palette.c: remove unnecessary gtk_widget_destroy for menus
	that have already been removed (from Shuji Narazaki)

Mon Jun  8 20:58:09 PDT 1998 Manish Singh <yosh@gimp.org>

	* app/blend.c
	* app/brushes.c
	* app/brush_select.c
	* app/bucket_fill.c
	* app/layer_cmds.c
	* app/layers_dialog.c
	* app/paint_funcs.[ch]: applied a variation on
	gimp-scier-980315-0 (implements divide (dodge) layer mode)

Mon Jun  8 22:09:07 1998  Owen Taylor  <otaylor@gtk.org>

	* app/airbrush.c: Simple pressure sensitivity.

Mon Jun  8 17:47:37 PDT 1998 Manish Singh <yosh@gimp.org>

	* app/menus.c: unref the itemfactories instead of destroying
	them (from timj)

Mon Jun  8 17:16:22 PDT 1998 Manish Singh <yosh@gimp.org>

	* app/color_select.[ch]: added a hex triplet to the color
	selector. It updates on focus_leave for now, so I bet there
	are some interface nits...

	* app/fileops.c: add an #include to quell a warning

Mon Jun  8 16:18:00 PDT 1998 Manish Singh <yosh@gimp.org>

	* app/menus.c: fix stupid <Separator> menu bug

Mon Jun  8 16:39:19 EDT 1998 Adrian Likins <adrian@gimp.org>

	*app/commands.c
	*app/file_new_dialog.[ch]
	*app/prefereces_dialog.[ch]: split up command.c
	into three files, commands.c, file_new_dialog.c,
	and preferences.c

	*app/Makefile.am: change to incorporate the new files

	*TODO: more feature ideas

Mon Jun  8 04:30:00 EDT 1998 Chris Lahey  <clahey@umich.edu>

	* app/devices.c: stdio.h
	* plug-ins/depthmerge/depthmerge.c: stdio.h
	* plug-ins/gtm/gtm.c: stdio.h
	* plug-ins/nlfilt/nlfilt.c: stdio.h, stdlib.h
	Added the listed includes to get it to compile.

Sun Jun  7 19:30:22 EDT 1998 Adrian Likins <adrian@gimp.org>

	*app/commands.c: more fiddling with the file_new dialog.
	More stuff hooked up and working, but still not finished.

	*TODO: filling in more wishlist stuff

Sun Jun  7 16:18:16 PDT 1998 Manish singh <yosh@gimp.org>

	* plug-ins/Lighting/lighting_main.c
	* plug-ins/Lighting/lighting_ui.c: ui fixes (taken from MapObject)

Sun Jun  7 18:44:17 EDT 1998  Matthew Wilson  <msw@gimp.org>

	* plug-ins/webbrowser/web-browser.scm: changed the URL for the
	Manual

Sun Jun  7 12:39:56 PDT 1998 Manish Singh <yosh@gimp.org>

	* plug-ins/libgck/gck/gcktypes.h
	* plug-ins/libgck/gck/gckui.h
	* plug-ins/libgck/gck/gckui.c
	* plug-ins/ifscompose/ifscompose.c: changes for the new accelerator
	stuff

Sun Jun  7 11:04:38 1998  Tim Janik  <timj@gtk.org>

	* app/gradient.c (cpopup_create_menu_item_with_label): use GtkAccelLabel
	when creating a menuitems label seperatedly.

	* app/commands.h:
 	* app/commands.c:
	(tips_dialog_cmd_callback):
	(filters_repeat_cmd_callback):
	(tools_select_cmd_callback): make use of the callback_action argument.

	* app/main.c (main): removed gtk_accelerator_table_set_mod_mask(),
	since gtk provides decent default values now.

	* app/layers_dialog.c:
	* app/interface.c:
	* app/indexed_palette.c:
	* app/channels_dialog.c:
	* app/buildmenu.c:
 	conversions for use of GtkAccelGroup.

	* app/buildmenu.c:
	* app/gradient.c:
	installed accelerators are locked, because these code portions don't
	support accelerator saving.

	* ChangeLog:
	* ChangeLog.pre-1-0: ChangeLog split up.

Sun Jun  7 01:21:43 PDT 1998 Manish Singh <yosh@gimp.org>

	* plug-ins/script-fu/script-fu.c: fixed param passing for
	INT8 and INT16 types. This used to fail on big endian machines

	* plug-ins/maze/maze.c: properly handle INT8 and INT16 types.
	With these two fixes, circuit.scm will no longer crash on
	big endian machines

Sun Jun  7 00:19:22 EDT 1998  Adrian Likins <adrian@gimp.org>

	* app/commands.c: Reworked the file_new dialog to
	be a little more useful. Added entries for a height
	and width in the unit of your choice, and a resolution.
	Not everythings hooked up yet, but its getting there.

Sun Jun  7 00:22:01 EDT 1998  Matthew Wilson  <msw@gimp.org>

	* app/interface.c: Register private tips for all the tools -
	for use with online help later

Sat Jun  6 16:12:20 PDT 1998 Manish Singh <yosh@gimp.org>

	* adding Lighting plugin

	* updated despeckle, png, sgi, and sharpen

Sat Jun  6 14:22:19 PDT 1998 Manish Singh <yosh@gimp.org>

	* app/interface.c: changed it back, things work now

	* plug-ins/gfli/gfli.c: fixed gccism

	* plug-ins/MapObject/mapobject_main.c: update display when
	we're done (from seth)

Sat Jun  6 04:00:04 PDT 1998 Manish Singh <yosh@gimp.org>

	* app/interface.c: changed GDK_IMAGE_NORMAL to GDK_IMAGE_SHARED
	to workaround gtk bug

Fri Jun  5 22:37:40 1998  Owen Taylor  <otaylor@gtk.org>

	* app/Makefile.am app/app_procs.c app/brushes.c app/commands.[ch]
	  app/disp_callbacks.c app/gdisplay.[ch] app/gimprc.c
	  app/interface.[ch] app/menus.c app/paint_core.[ch]
	  app/paintbrush.c app/palette.c app/scroll.c
	  app/tools.[ch] app/undo.c

	- Added two new dialogs - input devices; (GtkInputDialog)
	  and DeviceStatus - which shows the tool/color for
	  each device.

	- Added device_status_update() call that gets called
	  whenever the tool/color etc. are changed.

	- Added ~/.gimp/devicerc file to store settings

	- Code to draw cursor on canvas for non XFree86 XInput
	  where device can't control cursor and extended input
	  device simultaneously.

	- Changed input handling so that we always use the pointer
	  position from the device, not from gdk_input_window_get_cursor,
	  so that motion and cursor position sync.

	- Various changes so things work with non-integer coordinates

	- Pay attention to pressure and tilt in basic tool support.

        - New paint mode PRESSURE that changes the brush based on
	  the brush pressure

	- Left in a few XInput hacks that should be removed, but I no longer
	  remember what they are.

Fri Jun  5 18:08:32 PDT 1998 Manish Singh <yosh@gimp.org>

	* configure.in: bumped to 1.1

Thu Jun  4 18:12:14 MEST 1998 Sven Neumann <sven@gimp.org>

	* updated screenshot plug-in

Tue Jun  2 16:40:33 PDT 1998 Manish Singh <yosh@gimp.org>

	* Made 1.0.0 release

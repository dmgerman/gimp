begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_include
include|#
directive|include
file|"config.h"
end_include

begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_include
include|#
directive|include
file|<stdlib.h>
end_include

begin_include
include|#
directive|include
file|<string.h>
end_include

begin_include
include|#
directive|include
file|<sys/time.h>
end_include

begin_include
include|#
directive|include
file|<glib-object.h>
end_include

begin_include
include|#
directive|include
file|"base/base-types.h"
end_include

begin_include
include|#
directive|include
file|"gimp-composite.h"
end_include

begin_include
include|#
directive|include
file|"gimp-composite-dispatch.h"
end_include

begin_include
include|#
directive|include
file|"gimp-composite-regression.h"
end_include

begin_include
include|#
directive|include
file|"gimp-composite-util.h"
end_include

begin_include
include|#
directive|include
file|"gimp-composite-generic.h"
end_include

begin_function
name|int
DECL|function|main (int argc,char * argv[])
name|main
parameter_list|(
name|int
name|argc
parameter_list|,
name|char
modifier|*
name|argv
index|[]
parameter_list|)
block|{
name|GimpCompositeContext
name|ctx
decl_stmt|;
name|GimpCompositeContext
name|ctx_generic
decl_stmt|;
name|GimpCompositeContext
name|ctx_va8
decl_stmt|;
name|GimpCompositeContext
name|ctx_va8_generic
decl_stmt|;
name|int
name|iterations
decl_stmt|;
name|gimp_rgba8_t
modifier|*
name|d1
decl_stmt|;
name|gimp_rgba8_t
modifier|*
name|d2
decl_stmt|;
name|gimp_rgba8_t
modifier|*
name|rgba8A
decl_stmt|;
name|gimp_rgba8_t
modifier|*
name|rgba8B
decl_stmt|;
name|gimp_va8_t
modifier|*
name|va8A
decl_stmt|;
name|gimp_va8_t
modifier|*
name|va8B
decl_stmt|;
name|gimp_va8_t
modifier|*
name|va8_d1
decl_stmt|;
name|gimp_va8_t
modifier|*
name|va8_d2
decl_stmt|;
name|double
name|ft0
decl_stmt|,
name|ft1
decl_stmt|;
name|unsigned
name|long
name|i
decl_stmt|;
name|unsigned
name|long
name|n_pixels
decl_stmt|;
name|iterations
operator|=
literal|1
expr_stmt|;
name|n_pixels
operator|=
literal|256
operator|*
literal|256
operator|+
literal|1
expr_stmt|;
if|if
condition|(
name|argc
operator|>
literal|1
condition|)
block|{
name|iterations
operator|=
name|atoi
argument_list|(
name|argv
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|argc
operator|>
literal|2
condition|)
block|{
name|n_pixels
operator|=
name|atol
argument_list|(
name|argv
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
block|}
block|}
name|printf
argument_list|(
literal|"iterations %d, n_pixels %lu\n"
argument_list|,
name|iterations
argument_list|,
name|n_pixels
argument_list|)
expr_stmt|;
name|rgba8A
operator|=
operator|(
name|gimp_rgba8_t
operator|*
operator|)
name|calloc
argument_list|(
sizeof|sizeof
argument_list|(
name|gimp_rgba8_t
argument_list|)
argument_list|,
name|n_pixels
operator|+
literal|1
argument_list|)
expr_stmt|;
name|rgba8B
operator|=
operator|(
name|gimp_rgba8_t
operator|*
operator|)
name|calloc
argument_list|(
sizeof|sizeof
argument_list|(
name|gimp_rgba8_t
argument_list|)
argument_list|,
name|n_pixels
operator|+
literal|1
argument_list|)
expr_stmt|;
name|va8A
operator|=
operator|(
name|gimp_va8_t
operator|*
operator|)
name|calloc
argument_list|(
sizeof|sizeof
argument_list|(
name|gimp_va8_t
argument_list|)
argument_list|,
name|n_pixels
operator|+
literal|1
argument_list|)
expr_stmt|;
name|va8B
operator|=
operator|(
name|gimp_va8_t
operator|*
operator|)
name|calloc
argument_list|(
sizeof|sizeof
argument_list|(
name|gimp_va8_t
argument_list|)
argument_list|,
name|n_pixels
operator|+
literal|1
argument_list|)
expr_stmt|;
name|d1
operator|=
operator|(
name|gimp_rgba8_t
operator|*
operator|)
name|calloc
argument_list|(
sizeof|sizeof
argument_list|(
name|gimp_rgba8_t
argument_list|)
argument_list|,
name|n_pixels
operator|+
literal|1
argument_list|)
expr_stmt|;
name|d2
operator|=
operator|(
name|gimp_rgba8_t
operator|*
operator|)
name|calloc
argument_list|(
sizeof|sizeof
argument_list|(
name|gimp_rgba8_t
argument_list|)
argument_list|,
name|n_pixels
operator|+
literal|1
argument_list|)
expr_stmt|;
name|va8_d1
operator|=
operator|(
name|gimp_va8_t
operator|*
operator|)
name|calloc
argument_list|(
sizeof|sizeof
argument_list|(
name|gimp_va8_t
argument_list|)
argument_list|,
name|n_pixels
operator|+
literal|1
argument_list|)
expr_stmt|;
name|va8_d2
operator|=
operator|(
name|gimp_va8_t
operator|*
operator|)
name|calloc
argument_list|(
sizeof|sizeof
argument_list|(
name|gimp_va8_t
argument_list|)
argument_list|,
name|n_pixels
operator|+
literal|1
argument_list|)
expr_stmt|;
name|srand
argument_list|(
literal|314159
argument_list|)
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|n_pixels
condition|;
name|i
operator|++
control|)
block|{
if|#
directive|if
literal|0
block|rgba8A[i].r = rand() % 256;     rgba8A[i].g = rand() % 256;     rgba8A[i].b = rand() % 256;     rgba8A[i].a = rand() % 256;      rgba8B[i].r = rand() % 256;     rgba8B[i].g = rand() % 256;     rgba8B[i].b = rand() % 256;     rgba8B[i].a = rand() % 256;
else|#
directive|else
name|rgba8A
index|[
name|i
index|]
operator|.
name|r
operator|=
literal|255
operator|-
name|i
expr_stmt|;
name|rgba8A
index|[
name|i
index|]
operator|.
name|g
operator|=
literal|255
operator|-
name|i
expr_stmt|;
name|rgba8A
index|[
name|i
index|]
operator|.
name|b
operator|=
literal|255
operator|-
name|i
expr_stmt|;
name|rgba8A
index|[
name|i
index|]
operator|.
name|a
operator|=
literal|255
operator|-
name|i
expr_stmt|;
name|rgba8B
index|[
name|i
index|]
operator|.
name|r
operator|=
name|i
expr_stmt|;
name|rgba8B
index|[
name|i
index|]
operator|.
name|g
operator|=
name|i
expr_stmt|;
name|rgba8B
index|[
name|i
index|]
operator|.
name|b
operator|=
name|i
expr_stmt|;
name|rgba8B
index|[
name|i
index|]
operator|.
name|a
operator|=
name|i
expr_stmt|;
name|va8A
index|[
name|i
index|]
operator|.
name|v
operator|=
name|i
expr_stmt|;
name|va8A
index|[
name|i
index|]
operator|.
name|a
operator|=
literal|255
operator|-
name|i
expr_stmt|;
name|va8B
index|[
name|i
index|]
operator|.
name|v
operator|=
name|i
expr_stmt|;
name|va8B
index|[
name|i
index|]
operator|.
name|a
operator|=
name|i
expr_stmt|;
endif|#
directive|endif
block|}
name|gimp_composite_init
argument_list|()
expr_stmt|;
DECL|macro|do_add
define|#
directive|define
name|do_add
DECL|macro|do_darken
define|#
directive|define
name|do_darken
DECL|macro|do_difference
define|#
directive|define
name|do_difference
DECL|macro|do_lighten
define|#
directive|define
name|do_lighten
DECL|macro|do_multiply
define|#
directive|define
name|do_multiply
DECL|macro|do_subtract
define|#
directive|define
name|do_subtract
DECL|macro|do_screen
define|#
directive|define
name|do_screen
DECL|macro|do_grainextract
define|#
directive|define
name|do_grainextract
DECL|macro|do_grainmerge
define|#
directive|define
name|do_grainmerge
DECL|macro|do_divide
define|#
directive|define
name|do_divide
DECL|macro|do_dodge
define|#
directive|define
name|do_dodge
DECL|macro|do_swap
define|#
directive|define
name|do_swap
DECL|macro|do_scale
define|#
directive|define
name|do_scale
DECL|macro|do_burn
define|#
directive|define
name|do_burn
name|ctx
operator|.
name|A
operator|=
operator|(
name|unsigned
name|char
operator|*
operator|)
name|rgba8A
expr_stmt|;
name|ctx
operator|.
name|pixelformat_A
operator|=
name|GIMP_PIXELFORMAT_RGBA8
expr_stmt|;
name|ctx
operator|.
name|B
operator|=
operator|(
name|unsigned
name|char
operator|*
operator|)
name|rgba8B
expr_stmt|;
name|ctx
operator|.
name|pixelformat_B
operator|=
name|GIMP_PIXELFORMAT_RGBA8
expr_stmt|;
name|ctx
operator|.
name|D
operator|=
operator|(
name|unsigned
name|char
operator|*
operator|)
name|d2
expr_stmt|;
name|ctx
operator|.
name|pixelformat_D
operator|=
name|GIMP_PIXELFORMAT_RGBA8
expr_stmt|;
name|ctx
operator|.
name|M
operator|=
name|NULL
expr_stmt|;
name|ctx
operator|.
name|pixelformat_M
operator|=
name|GIMP_PIXELFORMAT_ANY
expr_stmt|;
name|ctx
operator|.
name|n_pixels
operator|=
name|n_pixels
expr_stmt|;
name|ctx
operator|.
name|scale
operator|.
name|scale
operator|=
literal|2
expr_stmt|;
name|ctx_generic
operator|.
name|A
operator|=
operator|(
name|unsigned
name|char
operator|*
operator|)
name|rgba8A
expr_stmt|;
name|ctx_generic
operator|.
name|pixelformat_A
operator|=
name|GIMP_PIXELFORMAT_RGBA8
expr_stmt|;
name|ctx_generic
operator|.
name|B
operator|=
operator|(
name|unsigned
name|char
operator|*
operator|)
name|rgba8B
expr_stmt|;
name|ctx_generic
operator|.
name|pixelformat_B
operator|=
name|GIMP_PIXELFORMAT_RGBA8
expr_stmt|;
name|ctx_generic
operator|.
name|D
operator|=
operator|(
name|unsigned
name|char
operator|*
operator|)
name|d1
expr_stmt|;
name|ctx_generic
operator|.
name|pixelformat_D
operator|=
name|GIMP_PIXELFORMAT_RGBA8
expr_stmt|;
name|ctx_generic
operator|.
name|M
operator|=
name|NULL
expr_stmt|;
name|ctx_generic
operator|.
name|pixelformat_M
operator|=
name|GIMP_PIXELFORMAT_ANY
expr_stmt|;
name|ctx_generic
operator|.
name|n_pixels
operator|=
name|n_pixels
expr_stmt|;
name|ctx_generic
operator|.
name|scale
operator|.
name|scale
operator|=
literal|2
expr_stmt|;
name|ctx_va8
operator|.
name|A
operator|=
operator|(
name|unsigned
name|char
operator|*
operator|)
name|va8A
expr_stmt|;
name|ctx_va8
operator|.
name|pixelformat_A
operator|=
name|GIMP_PIXELFORMAT_VA8
expr_stmt|;
name|ctx_va8
operator|.
name|B
operator|=
operator|(
name|unsigned
name|char
operator|*
operator|)
name|va8B
expr_stmt|;
name|ctx_va8
operator|.
name|pixelformat_B
operator|=
name|GIMP_PIXELFORMAT_VA8
expr_stmt|;
name|ctx_va8
operator|.
name|D
operator|=
operator|(
name|unsigned
name|char
operator|*
operator|)
name|va8_d2
expr_stmt|;
name|ctx_va8
operator|.
name|pixelformat_D
operator|=
name|GIMP_PIXELFORMAT_VA8
expr_stmt|;
name|ctx_va8
operator|.
name|M
operator|=
name|NULL
expr_stmt|;
name|ctx_va8
operator|.
name|pixelformat_M
operator|=
name|GIMP_PIXELFORMAT_ANY
expr_stmt|;
name|ctx_va8
operator|.
name|n_pixels
operator|=
name|n_pixels
expr_stmt|;
name|ctx_va8
operator|.
name|scale
operator|.
name|scale
operator|=
literal|2
expr_stmt|;
name|ctx_va8_generic
operator|.
name|A
operator|=
operator|(
name|unsigned
name|char
operator|*
operator|)
name|va8A
expr_stmt|;
name|ctx_va8_generic
operator|.
name|pixelformat_A
operator|=
name|GIMP_PIXELFORMAT_VA8
expr_stmt|;
name|ctx_va8_generic
operator|.
name|B
operator|=
operator|(
name|unsigned
name|char
operator|*
operator|)
name|va8B
expr_stmt|;
name|ctx_va8_generic
operator|.
name|pixelformat_B
operator|=
name|GIMP_PIXELFORMAT_VA8
expr_stmt|;
name|ctx_va8_generic
operator|.
name|D
operator|=
operator|(
name|unsigned
name|char
operator|*
operator|)
name|va8_d1
expr_stmt|;
name|ctx_va8_generic
operator|.
name|pixelformat_D
operator|=
name|GIMP_PIXELFORMAT_VA8
expr_stmt|;
name|ctx_va8_generic
operator|.
name|M
operator|=
name|NULL
expr_stmt|;
name|ctx_va8_generic
operator|.
name|pixelformat_M
operator|=
name|GIMP_PIXELFORMAT_ANY
expr_stmt|;
name|ctx_va8_generic
operator|.
name|n_pixels
operator|=
name|n_pixels
expr_stmt|;
name|ctx_va8_generic
operator|.
name|scale
operator|.
name|scale
operator|=
literal|2
expr_stmt|;
name|printf
argument_list|(
literal|"%-17s %17s %17s %17s\n"
argument_list|,
literal|"Operation"
argument_list|,
literal|"Generic Time"
argument_list|,
literal|"Optimised Time"
argument_list|,
literal|"Generic/Optimised"
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|do_burn
comment|/* burn */
name|ctx
operator|.
name|op
operator|=
name|GIMP_COMPOSITE_BURN
expr_stmt|;
name|ft0
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_dispatch
argument_list|,
operator|&
name|ctx
argument_list|)
expr_stmt|;
name|ft1
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_burn_any_any_any_generic
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_compare_contexts
argument_list|(
literal|"burn rgba8"
argument_list|,
operator|&
name|ctx
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_timer_report
argument_list|(
literal|"burn rgba8"
argument_list|,
name|ft0
argument_list|,
name|ft1
argument_list|)
expr_stmt|;
name|ctx_va8
operator|.
name|op
operator|=
name|GIMP_COMPOSITE_BURN
expr_stmt|;
name|ctx_va8_generic
operator|.
name|op
operator|=
name|GIMP_COMPOSITE_BURN
expr_stmt|;
name|ft0
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_dispatch
argument_list|,
operator|&
name|ctx_va8
argument_list|)
expr_stmt|;
name|ft1
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_burn_any_any_any_generic
argument_list|,
operator|&
name|ctx_va8_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_compare_contexts
argument_list|(
literal|"burn va8"
argument_list|,
operator|&
name|ctx_va8
argument_list|,
operator|&
name|ctx_va8_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_timer_report
argument_list|(
literal|"burn va8"
argument_list|,
name|ft0
argument_list|,
name|ft1
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|do_dodge
comment|/* dodge */
name|ctx
operator|.
name|op
operator|=
name|GIMP_COMPOSITE_DODGE
expr_stmt|;
name|ft0
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_dispatch
argument_list|,
operator|&
name|ctx
argument_list|)
expr_stmt|;
name|ft1
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_dodge_any_any_any_generic
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_compare_contexts
argument_list|(
literal|"dodge"
argument_list|,
operator|&
name|ctx
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_timer_report
argument_list|(
literal|"dodge"
argument_list|,
name|ft0
argument_list|,
name|ft1
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|do_divide
comment|/* divide */
name|ctx
operator|.
name|op
operator|=
name|GIMP_COMPOSITE_DIVIDE
expr_stmt|;
name|ft0
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_dispatch
argument_list|,
operator|&
name|ctx
argument_list|)
expr_stmt|;
name|ft1
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_divide_any_any_any_generic
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_compare_contexts
argument_list|(
literal|"divide"
argument_list|,
operator|&
name|ctx
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_timer_report
argument_list|(
literal|"divide"
argument_list|,
name|ft0
argument_list|,
name|ft1
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|do_grainextract
comment|/* grainextract */
name|ctx
operator|.
name|op
operator|=
name|GIMP_COMPOSITE_GRAIN_EXTRACT
expr_stmt|;
name|ft0
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_dispatch
argument_list|,
operator|&
name|ctx
argument_list|)
expr_stmt|;
name|ft1
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_grain_extract_any_any_any_generic
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_compare_contexts
argument_list|(
literal|"grain extract"
argument_list|,
operator|&
name|ctx
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_timer_report
argument_list|(
literal|"grain extract"
argument_list|,
name|ft0
argument_list|,
name|ft1
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|do_grainmerge
name|ctx
operator|.
name|op
operator|=
name|GIMP_COMPOSITE_GRAIN_MERGE
expr_stmt|;
name|ft0
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_dispatch
argument_list|,
operator|&
name|ctx
argument_list|)
expr_stmt|;
name|ft1
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_grain_merge_any_any_any_generic
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_compare_contexts
argument_list|(
literal|"grain merge"
argument_list|,
operator|&
name|ctx
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_timer_report
argument_list|(
literal|"grain merge"
argument_list|,
name|ft0
argument_list|,
name|ft1
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|do_scale
name|ctx
operator|.
name|op
operator|=
name|GIMP_COMPOSITE_SCALE
expr_stmt|;
name|ft0
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_dispatch
argument_list|,
operator|&
name|ctx
argument_list|)
expr_stmt|;
name|ft1
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_scale_any_any_any_generic
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_compare_contexts
argument_list|(
literal|"scale"
argument_list|,
operator|&
name|ctx
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_timer_report
argument_list|(
literal|"scale"
argument_list|,
name|ft0
argument_list|,
name|ft1
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|do_screen
name|ctx
operator|.
name|op
operator|=
name|GIMP_COMPOSITE_SCREEN
expr_stmt|;
name|ft0
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_dispatch
argument_list|,
operator|&
name|ctx
argument_list|)
expr_stmt|;
name|ft1
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_screen_any_any_any_generic
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_compare_contexts
argument_list|(
literal|"screen"
argument_list|,
operator|&
name|ctx
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_timer_report
argument_list|(
literal|"screen"
argument_list|,
name|ft0
argument_list|,
name|ft1
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|do_lighten
name|ctx
operator|.
name|op
operator|=
name|GIMP_COMPOSITE_LIGHTEN
expr_stmt|;
name|ft0
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_dispatch
argument_list|,
operator|&
name|ctx
argument_list|)
expr_stmt|;
name|ft1
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_lighten_any_any_any_generic
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_compare_contexts
argument_list|(
literal|"lighten"
argument_list|,
operator|&
name|ctx
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_timer_report
argument_list|(
literal|"lighten"
argument_list|,
name|ft0
argument_list|,
name|ft1
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|do_darken
comment|/* darken */
name|ctx
operator|.
name|op
operator|=
name|GIMP_COMPOSITE_DARKEN
expr_stmt|;
name|ft0
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_dispatch
argument_list|,
operator|&
name|ctx
argument_list|)
expr_stmt|;
name|ft1
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_darken_any_any_any_generic
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_compare_contexts
argument_list|(
literal|"darken"
argument_list|,
operator|&
name|ctx
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_timer_report
argument_list|(
literal|"darken"
argument_list|,
name|ft0
argument_list|,
name|ft1
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|do_difference
name|ctx
operator|.
name|op
operator|=
name|GIMP_COMPOSITE_DIFFERENCE
expr_stmt|;
name|ft0
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_dispatch
argument_list|,
operator|&
name|ctx
argument_list|)
expr_stmt|;
name|ft1
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_difference_any_any_any_generic
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_compare_contexts
argument_list|(
literal|"difference"
argument_list|,
operator|&
name|ctx
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_timer_report
argument_list|(
literal|"difference"
argument_list|,
name|ft0
argument_list|,
name|ft1
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|do_multiply
name|ctx
operator|.
name|op
operator|=
name|GIMP_COMPOSITE_MULTIPLY
expr_stmt|;
name|ft0
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_dispatch
argument_list|,
operator|&
name|ctx
argument_list|)
expr_stmt|;
name|ft1
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_multiply_any_any_any_generic
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_compare_contexts
argument_list|(
literal|"multiply"
argument_list|,
operator|&
name|ctx
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_timer_report
argument_list|(
literal|"multiply"
argument_list|,
name|ft0
argument_list|,
name|ft1
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|do_subtract
name|ctx
operator|.
name|op
operator|=
name|GIMP_COMPOSITE_SUBTRACT
expr_stmt|;
name|ft0
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_dispatch
argument_list|,
operator|&
name|ctx
argument_list|)
expr_stmt|;
name|ft1
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_subtract_any_any_any_generic
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_compare_contexts
argument_list|(
literal|"subtract"
argument_list|,
operator|&
name|ctx
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_timer_report
argument_list|(
literal|"subtract"
argument_list|,
name|ft0
argument_list|,
name|ft1
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|do_add
name|ctx
operator|.
name|op
operator|=
name|GIMP_COMPOSITE_ADDITION
expr_stmt|;
name|ft0
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_dispatch
argument_list|,
operator|&
name|ctx
argument_list|)
expr_stmt|;
name|ft1
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_addition_any_any_any_generic
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_compare_contexts
argument_list|(
literal|"addition"
argument_list|,
operator|&
name|ctx
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_timer_report
argument_list|(
literal|"addition"
argument_list|,
name|ft0
argument_list|,
name|ft1
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|do_swap
name|ctx
operator|.
name|op
operator|=
name|GIMP_COMPOSITE_SWAP
expr_stmt|;
name|ft0
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_dispatch
argument_list|,
operator|&
name|ctx
argument_list|)
expr_stmt|;
name|ft1
operator|=
name|gimp_composite_regression_time_function
argument_list|(
name|iterations
argument_list|,
name|gimp_composite_swap_any_any_any_generic
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_compare_contexts
argument_list|(
literal|"swap"
argument_list|,
operator|&
name|ctx
argument_list|,
operator|&
name|ctx_generic
argument_list|)
expr_stmt|;
name|gimp_composite_regression_timer_report
argument_list|(
literal|"swap"
argument_list|,
name|ft0
argument_list|,
name|ft1
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
operator|(
name|EXIT_SUCCESS
operator|)
return|;
block|}
end_function

end_unit


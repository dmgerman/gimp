begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* The GIMP -- an image manipulation program  * Copyright (C) 1995-1999 Spencer Kimball and Peter Mattis  *  * This program is free software; you can redistribute it and/or modify  * it under the terms of the GNU General Public License as published by  * the Free Software Foundation; either version 2 of the License, or  * (at your option) any later version.  *  * This program is distributed in the hope that it will be useful,  * but WITHOUT ANY WARRANTY; without even the implied warranty of  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the  * GNU General Public License for more details.  *  * You should have received a copy of the GNU General Public License  * along with this program; if not, write to the Free Software  * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */
end_comment

begin_comment
comment|/* NOTE: This file is autogenerated by pdbgen.pl. */
end_comment

begin_include
include|#
directive|include
file|"procedural_db.h"
end_include

begin_include
include|#
directive|include
file|"channel_ops.h"
end_include

begin_include
include|#
directive|include
file|"drawable.h"
end_include

begin_include
include|#
directive|include
file|"gimage.h"
end_include

begin_decl_stmt
DECL|variable|channel_ops_offset_proc
specifier|static
name|ProcRecord
name|channel_ops_offset_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|channel_ops_duplicate_proc
specifier|static
name|ProcRecord
name|channel_ops_duplicate_proc
decl_stmt|;
end_decl_stmt

begin_function
name|void
DECL|function|register_channel_ops_procs (void)
name|register_channel_ops_procs
parameter_list|(
name|void
parameter_list|)
block|{
name|procedural_db_register
argument_list|(
operator|&
name|channel_ops_offset_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
operator|&
name|channel_ops_duplicate_proc
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|channel_ops_offset_invoker (Argument * args)
name|channel_ops_offset_invoker
parameter_list|(
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpDrawable
modifier|*
name|drawable
decl_stmt|;
name|gboolean
name|wrap_around
decl_stmt|;
name|gint32
name|fill_type
decl_stmt|;
name|gint32
name|offset_x
decl_stmt|;
name|gint32
name|offset_y
decl_stmt|;
name|GimpImage
modifier|*
name|gimage
decl_stmt|;
name|drawable
operator|=
name|gimp_drawable_get_ID
argument_list|(
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
name|drawable
operator|==
name|NULL
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
name|wrap_around
operator|=
name|args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
condition|?
name|TRUE
else|:
name|FALSE
expr_stmt|;
name|fill_type
operator|=
name|args
index|[
literal|2
index|]
operator|.
name|value
operator|.
name|pdb_int
expr_stmt|;
if|if
condition|(
name|fill_type
operator|<
name|OFFSET_BACKGROUND
operator|||
name|fill_type
operator|>
name|OFFSET_TRANSPARENT
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
name|offset_x
operator|=
name|args
index|[
literal|3
index|]
operator|.
name|value
operator|.
name|pdb_int
expr_stmt|;
name|offset_y
operator|=
name|args
index|[
literal|4
index|]
operator|.
name|value
operator|.
name|pdb_int
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gimage
operator|=
name|drawable_gimage
argument_list|(
name|GIMP_DRAWABLE
argument_list|(
name|drawable
argument_list|)
argument_list|)
expr_stmt|;
name|offset
argument_list|(
name|gimage
argument_list|,
name|drawable
argument_list|,
name|wrap_around
argument_list|,
name|fill_type
argument_list|,
name|offset_x
argument_list|,
name|offset_y
argument_list|)
expr_stmt|;
block|}
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|channel_ops_offset_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|channel_ops_offset_inargs
specifier|static
name|ProcArg
name|channel_ops_offset_inargs
index|[]
init|=
block|{
block|{
name|PDB_DRAWABLE
block|,
literal|"drawable"
block|,
literal|"The drawable to offset"
block|}
block|,
block|{
name|PDB_INT32
block|,
literal|"wrap_around"
block|,
literal|"wrap image around or fill vacated regions"
block|}
block|,
block|{
name|PDB_INT32
block|,
literal|"fill_type"
block|,
literal|"fill vacated regions of drawable with background or transparent: OFFSET_BACKGROUND (0) or OFFSET_TRANSPARENT (1)"
block|}
block|,
block|{
name|PDB_INT32
block|,
literal|"offset_x"
block|,
literal|"offset by this amount in X direction"
block|}
block|,
block|{
name|PDB_INT32
block|,
literal|"offset_y"
block|,
literal|"offset by this amount in Y direction"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|channel_ops_offset_proc
specifier|static
name|ProcRecord
name|channel_ops_offset_proc
init|=
block|{
literal|"gimp_channel_ops_offset"
block|,
literal|"Offset the drawable by the specified amounts in the X and Y directions"
block|,
literal|"This procedure offsets the specified drawable by the amounts specified by 'offset_x' and 'offset_y'. If 'wrap_around' is set to TRUE, then portions of the drawable which are offset out of bounds are wrapped around. Alternatively, the undefined regions of the drawable can be filled with transparency or the background color, as specified by the 'fill_type' parameter."
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"1997"
block|,
name|PDB_INTERNAL
block|,
literal|5
block|,
name|channel_ops_offset_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|channel_ops_offset_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|channel_ops_duplicate_invoker (Argument * args)
name|channel_ops_duplicate_invoker
parameter_list|(
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpImage
modifier|*
name|gimage
decl_stmt|;
name|GimpImage
modifier|*
name|new_gimage
init|=
name|NULL
decl_stmt|;
name|gimage
operator|=
name|pdb_id_to_image
argument_list|(
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
name|gimage
operator|==
name|NULL
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|success
operator|=
operator|(
name|new_gimage
operator|=
name|duplicate
argument_list|(
name|gimage
argument_list|)
operator|)
operator|!=
name|NULL
expr_stmt|;
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|channel_ops_duplicate_proc
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
operator|=
name|pdb_image_to_id
argument_list|(
name|new_gimage
argument_list|)
expr_stmt|;
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|channel_ops_duplicate_inargs
specifier|static
name|ProcArg
name|channel_ops_duplicate_inargs
index|[]
init|=
block|{
block|{
name|PDB_IMAGE
block|,
literal|"image"
block|,
literal|"The image"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|channel_ops_duplicate_outargs
specifier|static
name|ProcArg
name|channel_ops_duplicate_outargs
index|[]
init|=
block|{
block|{
name|PDB_IMAGE
block|,
literal|"new_image"
block|,
literal|"The new, duplicated image"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|channel_ops_duplicate_proc
specifier|static
name|ProcRecord
name|channel_ops_duplicate_proc
init|=
block|{
literal|"gimp_channel_ops_duplicate"
block|,
literal|"Duplicate the specified image"
block|,
literal|"This procedure duplicates the specified image, copying all layers, channels, and image information."
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"1997"
block|,
name|PDB_INTERNAL
block|,
literal|1
block|,
name|channel_ops_duplicate_inargs
block|,
literal|1
block|,
name|channel_ops_duplicate_outargs
block|,
block|{
block|{
name|channel_ops_duplicate_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

end_unit


begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* The GIMP -- an image manipulation program  * Copyright (C) 1995-2003 Spencer Kimball and Peter Mattis  *  * This program is free software; you can redistribute it and/or modify  * it under the terms of the GNU General Public License as published by  * the Free Software Foundation; either version 2 of the License, or  * (at your option) any later version.  *  * This program is distributed in the hope that it will be useful,  * but WITHOUT ANY WARRANTY; without even the implied warranty of  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the  * GNU General Public License for more details.  *  * You should have received a copy of the GNU General Public License  * along with this program; if not, write to the Free Software  * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */
end_comment

begin_comment
comment|/* NOTE: This file is autogenerated by pdbgen.pl. */
end_comment

begin_include
include|#
directive|include
file|"config.h"
end_include

begin_include
include|#
directive|include
file|<glib-object.h>
end_include

begin_include
include|#
directive|include
file|"libgimpbase/gimpbase.h"
end_include

begin_include
include|#
directive|include
file|"pdb-types.h"
end_include

begin_include
include|#
directive|include
file|"gimpprocedure.h"
end_include

begin_include
include|#
directive|include
file|"procedural_db.h"
end_include

begin_include
include|#
directive|include
file|"core/gimpparamspecs.h"
end_include

begin_include
include|#
directive|include
file|"core/gimpunit.h"
end_include

begin_decl_stmt
DECL|variable|unit_get_number_of_units_proc
specifier|static
name|GimpProcedure
name|unit_get_number_of_units_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|unit_get_number_of_built_in_units_proc
specifier|static
name|GimpProcedure
name|unit_get_number_of_built_in_units_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|unit_new_proc
specifier|static
name|GimpProcedure
name|unit_new_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|unit_get_deletion_flag_proc
specifier|static
name|GimpProcedure
name|unit_get_deletion_flag_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|unit_set_deletion_flag_proc
specifier|static
name|GimpProcedure
name|unit_set_deletion_flag_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|unit_get_identifier_proc
specifier|static
name|GimpProcedure
name|unit_get_identifier_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|unit_get_factor_proc
specifier|static
name|GimpProcedure
name|unit_get_factor_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|unit_get_digits_proc
specifier|static
name|GimpProcedure
name|unit_get_digits_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|unit_get_symbol_proc
specifier|static
name|GimpProcedure
name|unit_get_symbol_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|unit_get_abbreviation_proc
specifier|static
name|GimpProcedure
name|unit_get_abbreviation_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|unit_get_singular_proc
specifier|static
name|GimpProcedure
name|unit_get_singular_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|unit_get_plural_proc
specifier|static
name|GimpProcedure
name|unit_get_plural_proc
decl_stmt|;
end_decl_stmt

begin_function
name|void
DECL|function|register_unit_procs (Gimp * gimp)
name|register_unit_procs
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|)
block|{
name|GimpProcedure
modifier|*
name|procedure
decl_stmt|;
comment|/*    * unit_get_number_of_units    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|unit_get_number_of_units_proc
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_INT32
argument_list|,
name|g_param_spec_int
argument_list|(
literal|"num-units"
argument_list|,
literal|"num units"
argument_list|,
literal|"The number of units"
argument_list|,
name|G_MININT32
argument_list|,
name|G_MAXINT32
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * unit_get_number_of_built_in_units    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|unit_get_number_of_built_in_units_proc
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_INT32
argument_list|,
name|g_param_spec_int
argument_list|(
literal|"num-units"
argument_list|,
literal|"num units"
argument_list|,
literal|"The number of built-in units"
argument_list|,
name|G_MININT32
argument_list|,
name|G_MAXINT32
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * unit_new    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|unit_new_proc
argument_list|,
literal|7
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_STRING
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"identifier"
argument_list|,
literal|"identifier"
argument_list|,
literal|"The new unit's identifier"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_FLOAT
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"factor"
argument_list|,
literal|"factor"
argument_list|,
literal|"The new unit's factor"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_INT32
argument_list|,
name|g_param_spec_int
argument_list|(
literal|"digits"
argument_list|,
literal|"digits"
argument_list|,
literal|"The new unit's digits"
argument_list|,
name|G_MININT32
argument_list|,
name|G_MAXINT32
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_STRING
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"symbol"
argument_list|,
literal|"symbol"
argument_list|,
literal|"The new unit's symbol"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_STRING
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"abbreviation"
argument_list|,
literal|"abbreviation"
argument_list|,
literal|"The new unit's abbreviation"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_STRING
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"singular"
argument_list|,
literal|"singular"
argument_list|,
literal|"The new unit's singular form"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_STRING
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"plural"
argument_list|,
literal|"plural"
argument_list|,
literal|"The new unit's plural form"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_INT32
argument_list|,
name|gimp_param_spec_unit
argument_list|(
literal|"unit-id"
argument_list|,
literal|"unit id"
argument_list|,
literal|"The new unit's ID"
argument_list|,
name|TRUE
argument_list|,
name|FALSE
argument_list|,
name|GIMP_UNIT_PIXEL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * unit_get_deletion_flag    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|unit_get_deletion_flag_proc
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_INT32
argument_list|,
name|gimp_param_spec_unit
argument_list|(
literal|"unit-id"
argument_list|,
literal|"unit id"
argument_list|,
literal|"The unit's integer ID"
argument_list|,
name|TRUE
argument_list|,
name|FALSE
argument_list|,
name|GIMP_UNIT_PIXEL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_INT32
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"deletion-flag"
argument_list|,
literal|"deletion flag"
argument_list|,
literal|"The unit's deletion flag"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * unit_set_deletion_flag    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|unit_set_deletion_flag_proc
argument_list|,
literal|2
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_INT32
argument_list|,
name|gimp_param_spec_unit
argument_list|(
literal|"unit-id"
argument_list|,
literal|"unit id"
argument_list|,
literal|"The unit's integer ID"
argument_list|,
name|TRUE
argument_list|,
name|FALSE
argument_list|,
name|GIMP_UNIT_PIXEL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_INT32
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"deletion-flag"
argument_list|,
literal|"deletion flag"
argument_list|,
literal|"The new deletion flag of the unit"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * unit_get_identifier    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|unit_get_identifier_proc
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_INT32
argument_list|,
name|gimp_param_spec_unit
argument_list|(
literal|"unit-id"
argument_list|,
literal|"unit id"
argument_list|,
literal|"The unit's integer ID"
argument_list|,
name|TRUE
argument_list|,
name|FALSE
argument_list|,
name|GIMP_UNIT_PIXEL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_STRING
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"identifier"
argument_list|,
literal|"identifier"
argument_list|,
literal|"The unit's textual identifier"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * unit_get_factor    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|unit_get_factor_proc
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_INT32
argument_list|,
name|gimp_param_spec_unit
argument_list|(
literal|"unit-id"
argument_list|,
literal|"unit id"
argument_list|,
literal|"The unit's integer ID"
argument_list|,
name|TRUE
argument_list|,
name|FALSE
argument_list|,
name|GIMP_UNIT_PIXEL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_FLOAT
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"factor"
argument_list|,
literal|"factor"
argument_list|,
literal|"The unit's factor"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * unit_get_digits    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|unit_get_digits_proc
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_INT32
argument_list|,
name|gimp_param_spec_unit
argument_list|(
literal|"unit-id"
argument_list|,
literal|"unit id"
argument_list|,
literal|"The unit's integer ID"
argument_list|,
name|TRUE
argument_list|,
name|FALSE
argument_list|,
name|GIMP_UNIT_PIXEL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_INT32
argument_list|,
name|g_param_spec_int
argument_list|(
literal|"digits"
argument_list|,
literal|"digits"
argument_list|,
literal|"The unit's number of digits"
argument_list|,
name|G_MININT32
argument_list|,
name|G_MAXINT32
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * unit_get_symbol    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|unit_get_symbol_proc
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_INT32
argument_list|,
name|gimp_param_spec_unit
argument_list|(
literal|"unit-id"
argument_list|,
literal|"unit id"
argument_list|,
literal|"The unit's integer ID"
argument_list|,
name|TRUE
argument_list|,
name|FALSE
argument_list|,
name|GIMP_UNIT_PIXEL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_STRING
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"symbol"
argument_list|,
literal|"symbol"
argument_list|,
literal|"The unit's symbol"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * unit_get_abbreviation    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|unit_get_abbreviation_proc
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_INT32
argument_list|,
name|gimp_param_spec_unit
argument_list|(
literal|"unit-id"
argument_list|,
literal|"unit id"
argument_list|,
literal|"The unit's integer ID"
argument_list|,
name|TRUE
argument_list|,
name|FALSE
argument_list|,
name|GIMP_UNIT_PIXEL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_STRING
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"abbreviation"
argument_list|,
literal|"abbreviation"
argument_list|,
literal|"The unit's abbreviation"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * unit_get_singular    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|unit_get_singular_proc
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_INT32
argument_list|,
name|gimp_param_spec_unit
argument_list|(
literal|"unit-id"
argument_list|,
literal|"unit id"
argument_list|,
literal|"The unit's integer ID"
argument_list|,
name|TRUE
argument_list|,
name|FALSE
argument_list|,
name|GIMP_UNIT_PIXEL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_STRING
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"singular"
argument_list|,
literal|"singular"
argument_list|,
literal|"The unit's singular form"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * unit_get_plural    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|unit_get_plural_proc
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_INT32
argument_list|,
name|gimp_param_spec_unit
argument_list|(
literal|"unit-id"
argument_list|,
literal|"unit id"
argument_list|,
literal|"The unit's integer ID"
argument_list|,
name|TRUE
argument_list|,
name|FALSE
argument_list|,
name|GIMP_UNIT_PIXEL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|GIMP_PDB_STRING
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"plural"
argument_list|,
literal|"plural"
argument_list|,
literal|"The unit's plural form"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|unit_get_number_of_units_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|unit_get_number_of_units_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|Argument
modifier|*
name|return_vals
decl_stmt|;
name|gint32
name|num_units
init|=
literal|0
decl_stmt|;
name|num_units
operator|=
name|_gimp_unit_get_number_of_units
argument_list|(
name|gimp
argument_list|)
expr_stmt|;
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|TRUE
argument_list|)
expr_stmt|;
name|g_value_set_int
argument_list|(
operator|&
name|return_vals
index|[
literal|1
index|]
operator|.
name|value
argument_list|,
name|num_units
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|unit_get_number_of_units_proc
specifier|static
name|GimpProcedure
name|unit_get_number_of_units_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-unit-get-number-of-units"
block|,
literal|"gimp-unit-get-number-of-units"
block|,
literal|"Returns the number of units."
block|,
literal|"This procedure returns the number of defined units."
block|,
literal|"Michael Natterer<mitch@gimp.org>"
block|,
literal|"Michael Natterer"
block|,
literal|"1999"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|unit_get_number_of_units_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|unit_get_number_of_built_in_units_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|unit_get_number_of_built_in_units_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|Argument
modifier|*
name|return_vals
decl_stmt|;
name|gint32
name|num_units
init|=
literal|0
decl_stmt|;
name|num_units
operator|=
name|_gimp_unit_get_number_of_built_in_units
argument_list|(
name|gimp
argument_list|)
expr_stmt|;
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|TRUE
argument_list|)
expr_stmt|;
name|g_value_set_int
argument_list|(
operator|&
name|return_vals
index|[
literal|1
index|]
operator|.
name|value
argument_list|,
name|num_units
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|unit_get_number_of_built_in_units_proc
specifier|static
name|GimpProcedure
name|unit_get_number_of_built_in_units_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-unit-get-number-of-built-in-units"
block|,
literal|"gimp-unit-get-number-of-built-in-units"
block|,
literal|"Returns the number of built-in units."
block|,
literal|"This procedure returns the number of defined units built-in to the GIMP."
block|,
literal|"Michael Natterer<mitch@gimp.org>"
block|,
literal|"Michael Natterer"
block|,
literal|"1999"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|unit_get_number_of_built_in_units_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|unit_new_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|unit_new_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_vals
decl_stmt|;
name|gchar
modifier|*
name|identifier
decl_stmt|;
name|gdouble
name|factor
decl_stmt|;
name|gint32
name|digits
decl_stmt|;
name|gchar
modifier|*
name|symbol
decl_stmt|;
name|gchar
modifier|*
name|abbreviation
decl_stmt|;
name|gchar
modifier|*
name|singular
decl_stmt|;
name|gchar
modifier|*
name|plural
decl_stmt|;
name|GimpUnit
name|unit_id
init|=
literal|0
decl_stmt|;
name|identifier
operator|=
operator|(
name|gchar
operator|*
operator|)
name|g_value_get_string
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
name|factor
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
index|[
literal|1
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
name|digits
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
index|[
literal|2
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
name|symbol
operator|=
operator|(
name|gchar
operator|*
operator|)
name|g_value_get_string
argument_list|(
operator|&
name|args
index|[
literal|3
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
name|abbreviation
operator|=
operator|(
name|gchar
operator|*
operator|)
name|g_value_get_string
argument_list|(
operator|&
name|args
index|[
literal|4
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
name|singular
operator|=
operator|(
name|gchar
operator|*
operator|)
name|g_value_get_string
argument_list|(
operator|&
name|args
index|[
literal|5
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
name|plural
operator|=
operator|(
name|gchar
operator|*
operator|)
name|g_value_get_string
argument_list|(
operator|&
name|args
index|[
literal|6
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|unit_id
operator|=
name|_gimp_unit_new
argument_list|(
name|gimp
argument_list|,
name|identifier
argument_list|,
name|factor
argument_list|,
name|digits
argument_list|,
name|symbol
argument_list|,
name|abbreviation
argument_list|,
name|singular
argument_list|,
name|plural
argument_list|)
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|g_value_set_int
argument_list|(
operator|&
name|return_vals
index|[
literal|1
index|]
operator|.
name|value
argument_list|,
name|unit_id
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|unit_new_proc
specifier|static
name|GimpProcedure
name|unit_new_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-unit-new"
block|,
literal|"gimp-unit-new"
block|,
literal|"Creates a new unit and returns it's integer ID."
block|,
literal|"This procedure creates a new unit and returns it's integer ID. Note that the new unit will have it's deletion flag set to TRUE, so you will have to set it to FALSE with gimp_unit_set_deletion_flag to make it persistent."
block|,
literal|"Michael Natterer<mitch@gimp.org>"
block|,
literal|"Michael Natterer"
block|,
literal|"1999"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|unit_new_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|unit_get_deletion_flag_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|unit_get_deletion_flag_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_vals
decl_stmt|;
name|GimpUnit
name|unit_id
decl_stmt|;
name|gboolean
name|deletion_flag
init|=
name|FALSE
decl_stmt|;
name|unit_id
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|deletion_flag
operator|=
name|_gimp_unit_get_deletion_flag
argument_list|(
name|gimp
argument_list|,
name|unit_id
argument_list|)
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|g_value_set_boolean
argument_list|(
operator|&
name|return_vals
index|[
literal|1
index|]
operator|.
name|value
argument_list|,
name|deletion_flag
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|unit_get_deletion_flag_proc
specifier|static
name|GimpProcedure
name|unit_get_deletion_flag_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-unit-get-deletion-flag"
block|,
literal|"gimp-unit-get-deletion-flag"
block|,
literal|"Returns the deletion flag of the unit."
block|,
literal|"This procedure returns the deletion flag of the unit. If this value is TRUE the unit's definition will not be saved in the user's unitrc file on gimp exit."
block|,
literal|"Michael Natterer<mitch@gimp.org>"
block|,
literal|"Michael Natterer"
block|,
literal|"1999"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|unit_get_deletion_flag_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|unit_set_deletion_flag_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|unit_set_deletion_flag_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpUnit
name|unit_id
decl_stmt|;
name|gboolean
name|deletion_flag
decl_stmt|;
name|unit_id
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
name|deletion_flag
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
index|[
literal|1
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|_gimp_unit_set_deletion_flag
argument_list|(
name|gimp
argument_list|,
name|unit_id
argument_list|,
name|deletion_flag
argument_list|)
expr_stmt|;
block|}
return|return
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|unit_set_deletion_flag_proc
specifier|static
name|GimpProcedure
name|unit_set_deletion_flag_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-unit-set-deletion-flag"
block|,
literal|"gimp-unit-set-deletion-flag"
block|,
literal|"Sets the deletion flag of a unit."
block|,
literal|"This procedure sets the unit's deletion flag. If the deletion flag of a unit is TRUE on gimp exit, this unit's definition will not be saved in the user's unitrc."
block|,
literal|"Michael Natterer<mitch@gimp.org>"
block|,
literal|"Michael Natterer"
block|,
literal|"1999"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|unit_set_deletion_flag_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|unit_get_identifier_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|unit_get_identifier_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_vals
decl_stmt|;
name|GimpUnit
name|unit_id
decl_stmt|;
name|gchar
modifier|*
name|identifier
init|=
name|NULL
decl_stmt|;
name|unit_id
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|identifier
operator|=
name|g_strdup
argument_list|(
name|_gimp_unit_get_identifier
argument_list|(
name|gimp
argument_list|,
name|unit_id
argument_list|)
argument_list|)
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|g_value_take_string
argument_list|(
operator|&
name|return_vals
index|[
literal|1
index|]
operator|.
name|value
argument_list|,
name|identifier
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|unit_get_identifier_proc
specifier|static
name|GimpProcedure
name|unit_get_identifier_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-unit-get-identifier"
block|,
literal|"gimp-unit-get-identifier"
block|,
literal|"Returns the textual identifier of the unit."
block|,
literal|"This procedure returns the textual identifier of the unit. For built-in units it will be the english singular form of the unit's name. For user-defined units this should equal to the singular form."
block|,
literal|"Michael Natterer<mitch@gimp.org>"
block|,
literal|"Michael Natterer"
block|,
literal|"1999"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|unit_get_identifier_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|unit_get_factor_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|unit_get_factor_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_vals
decl_stmt|;
name|GimpUnit
name|unit_id
decl_stmt|;
name|gdouble
name|factor
init|=
literal|0.0
decl_stmt|;
name|unit_id
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|factor
operator|=
name|_gimp_unit_get_factor
argument_list|(
name|gimp
argument_list|,
name|unit_id
argument_list|)
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|g_value_set_double
argument_list|(
operator|&
name|return_vals
index|[
literal|1
index|]
operator|.
name|value
argument_list|,
name|factor
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|unit_get_factor_proc
specifier|static
name|GimpProcedure
name|unit_get_factor_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-unit-get-factor"
block|,
literal|"gimp-unit-get-factor"
block|,
literal|"Returns the factor of the unit."
block|,
literal|"This procedure returns the unit's factor which indicates how many units make up an inch. Note that asking for the factor of \"pixels\" will produce an error."
block|,
literal|"Michael Natterer<mitch@gimp.org>"
block|,
literal|"Michael Natterer"
block|,
literal|"1999"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|unit_get_factor_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|unit_get_digits_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|unit_get_digits_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_vals
decl_stmt|;
name|GimpUnit
name|unit_id
decl_stmt|;
name|gint32
name|digits
init|=
literal|0
decl_stmt|;
name|unit_id
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|digits
operator|=
name|_gimp_unit_get_digits
argument_list|(
name|gimp
argument_list|,
name|unit_id
argument_list|)
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|g_value_set_int
argument_list|(
operator|&
name|return_vals
index|[
literal|1
index|]
operator|.
name|value
argument_list|,
name|digits
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|unit_get_digits_proc
specifier|static
name|GimpProcedure
name|unit_get_digits_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-unit-get-digits"
block|,
literal|"gimp-unit-get-digits"
block|,
literal|"Returns the number of digits of the unit."
block|,
literal|"This procedure returns the number of digits you should provide in input or output functions to get approximately the same accuracy as with two digits and inches. Note that asking for the digits of \"pixels\" will produce an error."
block|,
literal|"Michael Natterer<mitch@gimp.org>"
block|,
literal|"Michael Natterer"
block|,
literal|"1999"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|unit_get_digits_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|unit_get_symbol_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|unit_get_symbol_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_vals
decl_stmt|;
name|GimpUnit
name|unit_id
decl_stmt|;
name|gchar
modifier|*
name|symbol
init|=
name|NULL
decl_stmt|;
name|unit_id
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|symbol
operator|=
name|g_strdup
argument_list|(
name|_gimp_unit_get_symbol
argument_list|(
name|gimp
argument_list|,
name|unit_id
argument_list|)
argument_list|)
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|g_value_take_string
argument_list|(
operator|&
name|return_vals
index|[
literal|1
index|]
operator|.
name|value
argument_list|,
name|symbol
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|unit_get_symbol_proc
specifier|static
name|GimpProcedure
name|unit_get_symbol_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-unit-get-symbol"
block|,
literal|"gimp-unit-get-symbol"
block|,
literal|"Returns the symbol of the unit."
block|,
literal|"This procedure returns the symbol of the unit (\"''\" for inches)."
block|,
literal|"Michael Natterer<mitch@gimp.org>"
block|,
literal|"Michael Natterer"
block|,
literal|"1999"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|unit_get_symbol_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|unit_get_abbreviation_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|unit_get_abbreviation_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_vals
decl_stmt|;
name|GimpUnit
name|unit_id
decl_stmt|;
name|gchar
modifier|*
name|abbreviation
init|=
name|NULL
decl_stmt|;
name|unit_id
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|abbreviation
operator|=
name|g_strdup
argument_list|(
name|_gimp_unit_get_abbreviation
argument_list|(
name|gimp
argument_list|,
name|unit_id
argument_list|)
argument_list|)
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|g_value_take_string
argument_list|(
operator|&
name|return_vals
index|[
literal|1
index|]
operator|.
name|value
argument_list|,
name|abbreviation
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|unit_get_abbreviation_proc
specifier|static
name|GimpProcedure
name|unit_get_abbreviation_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-unit-get-abbreviation"
block|,
literal|"gimp-unit-get-abbreviation"
block|,
literal|"Returns the abbreviation of the unit."
block|,
literal|"This procedure returns the abbreviation of the unit (\"in\" for inches)."
block|,
literal|"Michael Natterer<mitch@gimp.org>"
block|,
literal|"Michael Natterer"
block|,
literal|"1999"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|unit_get_abbreviation_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|unit_get_singular_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|unit_get_singular_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_vals
decl_stmt|;
name|GimpUnit
name|unit_id
decl_stmt|;
name|gchar
modifier|*
name|singular
init|=
name|NULL
decl_stmt|;
name|unit_id
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|singular
operator|=
name|g_strdup
argument_list|(
name|_gimp_unit_get_singular
argument_list|(
name|gimp
argument_list|,
name|unit_id
argument_list|)
argument_list|)
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|g_value_take_string
argument_list|(
operator|&
name|return_vals
index|[
literal|1
index|]
operator|.
name|value
argument_list|,
name|singular
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|unit_get_singular_proc
specifier|static
name|GimpProcedure
name|unit_get_singular_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-unit-get-singular"
block|,
literal|"gimp-unit-get-singular"
block|,
literal|"Returns the singular form of the unit."
block|,
literal|"This procedure returns the singular form of the unit."
block|,
literal|"Michael Natterer<mitch@gimp.org>"
block|,
literal|"Michael Natterer"
block|,
literal|"1999"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|unit_get_singular_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|unit_get_plural_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|unit_get_plural_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_vals
decl_stmt|;
name|GimpUnit
name|unit_id
decl_stmt|;
name|gchar
modifier|*
name|plural
init|=
name|NULL
decl_stmt|;
name|unit_id
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|plural
operator|=
name|g_strdup
argument_list|(
name|_gimp_unit_get_plural
argument_list|(
name|gimp
argument_list|,
name|unit_id
argument_list|)
argument_list|)
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|g_value_take_string
argument_list|(
operator|&
name|return_vals
index|[
literal|1
index|]
operator|.
name|value
argument_list|,
name|plural
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|unit_get_plural_proc
specifier|static
name|GimpProcedure
name|unit_get_plural_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-unit-get-plural"
block|,
literal|"gimp-unit-get-plural"
block|,
literal|"Returns the plural form of the unit."
block|,
literal|"This procedure returns the plural form of the unit."
block|,
literal|"Michael Natterer<mitch@gimp.org>"
block|,
literal|"Michael Natterer"
block|,
literal|"1999"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|unit_get_plural_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

end_unit


begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* The GIMP -- an image manipulation program  * Copyright (C) 1995-2003 Spencer Kimball and Peter Mattis  *  * This program is free software; you can redistribute it and/or modify  * it under the terms of the GNU General Public License as published by  * the Free Software Foundation; either version 2 of the License, or  * (at your option) any later version.  *  * This program is distributed in the hope that it will be useful,  * but WITHOUT ANY WARRANTY; without even the implied warranty of  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the  * GNU General Public License for more details.  *  * You should have received a copy of the GNU General Public License  * along with this program; if not, write to the Free Software  * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */
end_comment

begin_comment
comment|/* NOTE: This file is autogenerated by pdbgen.pl. */
end_comment

begin_include
include|#
directive|include
file|"config.h"
end_include

begin_include
include|#
directive|include
file|<string.h>
end_include

begin_include
include|#
directive|include
file|<glib-object.h>
end_include

begin_include
include|#
directive|include
file|"pdb-types.h"
end_include

begin_include
include|#
directive|include
file|"procedural_db.h"
end_include

begin_include
include|#
directive|include
file|"core/gimp.h"
end_include

begin_include
include|#
directive|include
file|"core/gimpimage.h"
end_include

begin_include
include|#
directive|include
file|"core/gimplist.h"
end_include

begin_include
include|#
directive|include
file|"gimp-intl.h"
end_include

begin_include
include|#
directive|include
file|"vectors/gimpanchor.h"
end_include

begin_include
include|#
directive|include
file|"vectors/gimpbezierstroke.h"
end_include

begin_include
include|#
directive|include
file|"vectors/gimpvectors-compat.h"
end_include

begin_include
include|#
directive|include
file|"vectors/gimpvectors.h"
end_include

begin_decl_stmt
DECL|variable|vectors_new_proc
specifier|static
name|ProcRecord
name|vectors_new_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_get_strokes_proc
specifier|static
name|ProcRecord
name|vectors_get_strokes_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_get_image_proc
specifier|static
name|ProcRecord
name|vectors_get_image_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_get_linked_proc
specifier|static
name|ProcRecord
name|vectors_get_linked_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_set_linked_proc
specifier|static
name|ProcRecord
name|vectors_set_linked_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_get_visible_proc
specifier|static
name|ProcRecord
name|vectors_get_visible_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_set_visible_proc
specifier|static
name|ProcRecord
name|vectors_set_visible_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_get_name_proc
specifier|static
name|ProcRecord
name|vectors_get_name_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_set_name_proc
specifier|static
name|ProcRecord
name|vectors_set_name_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_get_tattoo_proc
specifier|static
name|ProcRecord
name|vectors_get_tattoo_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_set_tattoo_proc
specifier|static
name|ProcRecord
name|vectors_set_tattoo_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_stroke_get_length_proc
specifier|static
name|ProcRecord
name|vectors_stroke_get_length_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_stroke_get_point_at_dist_proc
specifier|static
name|ProcRecord
name|vectors_stroke_get_point_at_dist_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_stroke_remove_proc
specifier|static
name|ProcRecord
name|vectors_stroke_remove_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_stroke_close_proc
specifier|static
name|ProcRecord
name|vectors_stroke_close_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_stroke_translate_proc
specifier|static
name|ProcRecord
name|vectors_stroke_translate_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_stroke_scale_proc
specifier|static
name|ProcRecord
name|vectors_stroke_scale_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_stroke_interpolate_proc
specifier|static
name|ProcRecord
name|vectors_stroke_interpolate_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_bezier_stroke_new_moveto_proc
specifier|static
name|ProcRecord
name|vectors_bezier_stroke_new_moveto_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_bezier_stroke_lineto_proc
specifier|static
name|ProcRecord
name|vectors_bezier_stroke_lineto_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_bezier_stroke_conicto_proc
specifier|static
name|ProcRecord
name|vectors_bezier_stroke_conicto_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_bezier_stroke_cubicto_proc
specifier|static
name|ProcRecord
name|vectors_bezier_stroke_cubicto_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_bezier_stroke_new_ellipse_proc
specifier|static
name|ProcRecord
name|vectors_bezier_stroke_new_ellipse_proc
decl_stmt|;
end_decl_stmt

begin_function
name|void
DECL|function|register_vectors_procs (Gimp * gimp)
name|register_vectors_procs
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|)
block|{
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_new_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_get_strokes_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_get_image_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_get_linked_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_set_linked_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_get_visible_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_set_visible_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_get_name_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_set_name_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_get_tattoo_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_set_tattoo_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_stroke_get_length_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_stroke_get_point_at_dist_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_stroke_remove_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_stroke_close_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_stroke_translate_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_stroke_scale_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_stroke_interpolate_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_bezier_stroke_new_moveto_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_bezier_stroke_lineto_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_bezier_stroke_conicto_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_bezier_stroke_cubicto_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|vectors_bezier_stroke_new_ellipse_proc
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_new_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_new_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpImage
modifier|*
name|gimage
decl_stmt|;
name|gchar
modifier|*
name|name
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
init|=
name|NULL
decl_stmt|;
name|gimage
operator|=
name|gimp_image_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|GIMP_IS_IMAGE
argument_list|(
name|gimage
argument_list|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
name|name
operator|=
operator|(
name|gchar
operator|*
operator|)
name|args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_pointer
expr_stmt|;
if|if
condition|(
name|name
operator|==
name|NULL
operator|||
operator|!
name|g_utf8_validate
argument_list|(
name|name
argument_list|,
operator|-
literal|1
argument_list|,
name|NULL
argument_list|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|vectors
operator|=
name|gimp_vectors_new
argument_list|(
name|gimage
argument_list|,
name|name
argument_list|)
expr_stmt|;
block|}
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_new_proc
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
operator|=
name|vectors
condition|?
name|gimp_item_get_ID
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
else|:
operator|-
literal|1
expr_stmt|;
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_new_inargs
specifier|static
name|ProcArg
name|vectors_new_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_IMAGE
block|,
literal|"image"
block|,
literal|"The image"
block|}
block|,
block|{
name|GIMP_PDB_STRING
block|,
literal|"name"
block|,
literal|"the name of the new vector object."
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_new_outargs
specifier|static
name|ProcArg
name|vectors_new_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"the current vector object, 0 if no vector exists in the image."
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_new_proc
specifier|static
name|ProcRecord
name|vectors_new_proc
init|=
block|{
literal|"gimp-vectors-new"
block|,
literal|"gimp-vectors-new"
block|,
literal|"Creates a new empty vectors object. Needs to be added to an image using gimp_image_add_vectors."
block|,
literal|"Creates a new empty vectors object. Needs to be added to an image using gimp_image_add_vectors."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|2
block|,
name|vectors_new_inargs
block|,
literal|1
block|,
name|vectors_new_outargs
block|,
block|{
block|{
name|vectors_new_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_get_strokes_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_get_strokes_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gint32
name|num_strokes
init|=
literal|0
decl_stmt|;
name|gint32
modifier|*
name|stroke_ids
init|=
name|NULL
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|num_strokes
operator|=
name|gimp_vectors_get_n_strokes
argument_list|(
name|vectors
argument_list|)
expr_stmt|;
if|if
condition|(
name|num_strokes
condition|)
block|{
name|GimpStroke
modifier|*
name|cur_stroke
decl_stmt|;
name|gint
name|i
init|=
literal|0
decl_stmt|;
name|stroke_ids
operator|=
name|g_new
argument_list|(
name|gint32
argument_list|,
name|num_strokes
argument_list|)
expr_stmt|;
for|for
control|(
name|cur_stroke
operator|=
name|gimp_vectors_stroke_get_next
argument_list|(
name|vectors
argument_list|,
name|NULL
argument_list|)
init|;
name|cur_stroke
condition|;
name|cur_stroke
operator|=
name|gimp_vectors_stroke_get_next
argument_list|(
name|vectors
argument_list|,
name|cur_stroke
argument_list|)
control|)
block|{
name|stroke_ids
index|[
name|i
index|]
operator|=
name|gimp_stroke_get_ID
argument_list|(
name|cur_stroke
argument_list|)
expr_stmt|;
name|i
operator|++
expr_stmt|;
block|}
block|}
block|}
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_get_strokes_proc
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
operator|=
name|num_strokes
expr_stmt|;
name|return_args
index|[
literal|2
index|]
operator|.
name|value
operator|.
name|pdb_pointer
operator|=
name|stroke_ids
expr_stmt|;
block|}
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_get_strokes_inargs
specifier|static
name|ProcArg
name|vectors_get_strokes_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_get_strokes_outargs
specifier|static
name|ProcArg
name|vectors_get_strokes_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_INT32
block|,
literal|"num-strokes"
block|,
literal|"The number of strokes returned."
block|}
block|,
block|{
name|GIMP_PDB_INT32ARRAY
block|,
literal|"stroke-ids"
block|,
literal|"List of the strokes belonging to the path."
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_get_strokes_proc
specifier|static
name|ProcRecord
name|vectors_get_strokes_proc
init|=
block|{
literal|"gimp-vectors-get-strokes"
block|,
literal|"gimp-vectors-get-strokes"
block|,
literal|"List the strokes associated with the passed path."
block|,
literal|"Returns an Array with the stroke-IDs associated with the passed path."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|1
block|,
name|vectors_get_strokes_inargs
block|,
literal|2
block|,
name|vectors_get_strokes_outargs
block|,
block|{
block|{
name|vectors_get_strokes_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_get_image_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_get_image_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|GimpImage
modifier|*
name|image
init|=
name|NULL
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|image
operator|=
name|gimp_item_get_image
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
expr_stmt|;
block|}
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_get_image_proc
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
operator|=
name|image
condition|?
name|gimp_image_get_ID
argument_list|(
name|image
argument_list|)
else|:
operator|-
literal|1
expr_stmt|;
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_get_image_inargs
specifier|static
name|ProcArg
name|vectors_get_image_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_get_image_outargs
specifier|static
name|ProcArg
name|vectors_get_image_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_IMAGE
block|,
literal|"image"
block|,
literal|"The vectors image"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_get_image_proc
specifier|static
name|ProcRecord
name|vectors_get_image_proc
init|=
block|{
literal|"gimp-vectors-get-image"
block|,
literal|"gimp-vectors-get-image"
block|,
literal|"Returns the vectors objects image."
block|,
literal|"Returns the vectors objects image."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|1
block|,
name|vectors_get_image_inargs
block|,
literal|1
block|,
name|vectors_get_image_outargs
block|,
block|{
block|{
name|vectors_get_image_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_get_linked_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_get_linked_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gboolean
name|linked
init|=
name|FALSE
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|linked
operator|=
name|gimp_item_get_linked
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
expr_stmt|;
block|}
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_get_linked_proc
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
operator|=
name|linked
expr_stmt|;
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_get_linked_inargs
specifier|static
name|ProcArg
name|vectors_get_linked_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_get_linked_outargs
specifier|static
name|ProcArg
name|vectors_get_linked_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_INT32
block|,
literal|"linked"
block|,
literal|"TRUE if the path is linked, FALSE otherwise"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_get_linked_proc
specifier|static
name|ProcRecord
name|vectors_get_linked_proc
init|=
block|{
literal|"gimp-vectors-get-linked"
block|,
literal|"gimp-vectors-get-linked"
block|,
literal|"Gets the linked state of the vectors object."
block|,
literal|"Gets the linked state of the vectors object."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|1
block|,
name|vectors_get_linked_inargs
block|,
literal|1
block|,
name|vectors_get_linked_outargs
block|,
block|{
block|{
name|vectors_get_linked_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_set_linked_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_set_linked_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gboolean
name|linked
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
name|linked
operator|=
name|args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
condition|?
name|TRUE
else|:
name|FALSE
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gimp_item_set_linked
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|,
name|linked
argument_list|,
name|TRUE
argument_list|)
expr_stmt|;
block|}
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_set_linked_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_set_linked_inargs
specifier|static
name|ProcArg
name|vectors_set_linked_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|,
block|{
name|GIMP_PDB_INT32
block|,
literal|"linked"
block|,
literal|"Whether the path is linked"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_set_linked_proc
specifier|static
name|ProcRecord
name|vectors_set_linked_proc
init|=
block|{
literal|"gimp-vectors-set-linked"
block|,
literal|"gimp-vectors-set-linked"
block|,
literal|"Sets the linked state of the vectors object."
block|,
literal|"Sets the linked state of the vectors object."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|2
block|,
name|vectors_set_linked_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|vectors_set_linked_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_get_visible_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_get_visible_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gboolean
name|visible
init|=
name|FALSE
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|visible
operator|=
name|gimp_item_get_visible
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
expr_stmt|;
block|}
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_get_visible_proc
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
operator|=
name|visible
expr_stmt|;
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_get_visible_inargs
specifier|static
name|ProcArg
name|vectors_get_visible_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_get_visible_outargs
specifier|static
name|ProcArg
name|vectors_get_visible_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_INT32
block|,
literal|"visible"
block|,
literal|"TRUE if the path is visible, FALSE otherwise"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_get_visible_proc
specifier|static
name|ProcRecord
name|vectors_get_visible_proc
init|=
block|{
literal|"gimp-vectors-get-visible"
block|,
literal|"gimp-vectors-get-visible"
block|,
literal|"Gets the visibility of the vectors object."
block|,
literal|"Gets the visibility of the vectors object."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|1
block|,
name|vectors_get_visible_inargs
block|,
literal|1
block|,
name|vectors_get_visible_outargs
block|,
block|{
block|{
name|vectors_get_visible_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_set_visible_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_set_visible_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gboolean
name|visible
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
name|visible
operator|=
name|args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
condition|?
name|TRUE
else|:
name|FALSE
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gimp_item_set_visible
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|,
name|visible
argument_list|,
name|TRUE
argument_list|)
expr_stmt|;
block|}
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_set_visible_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_set_visible_inargs
specifier|static
name|ProcArg
name|vectors_set_visible_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|,
block|{
name|GIMP_PDB_INT32
block|,
literal|"visible"
block|,
literal|"Whether the path is visible"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_set_visible_proc
specifier|static
name|ProcRecord
name|vectors_set_visible_proc
init|=
block|{
literal|"gimp-vectors-set-visible"
block|,
literal|"gimp-vectors-set-visible"
block|,
literal|"Sets the visibility of the vectors object."
block|,
literal|"Sets the visibility of the vectors object."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|2
block|,
name|vectors_set_visible_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|vectors_set_visible_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_get_name_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_get_name_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gchar
modifier|*
name|name
init|=
name|NULL
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|name
operator|=
name|g_strdup
argument_list|(
name|gimp_object_get_name
argument_list|(
name|GIMP_OBJECT
argument_list|(
name|vectors
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
block|}
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_get_name_proc
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_pointer
operator|=
name|name
expr_stmt|;
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_get_name_inargs
specifier|static
name|ProcArg
name|vectors_get_name_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_get_name_outargs
specifier|static
name|ProcArg
name|vectors_get_name_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_STRING
block|,
literal|"name"
block|,
literal|"The name of the vectors object"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_get_name_proc
specifier|static
name|ProcRecord
name|vectors_get_name_proc
init|=
block|{
literal|"gimp-vectors-get-name"
block|,
literal|"gimp-vectors-get-name"
block|,
literal|"Gets the name of the vectors object."
block|,
literal|"Gets the name of the vectors object."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|1
block|,
name|vectors_get_name_inargs
block|,
literal|1
block|,
name|vectors_get_name_outargs
block|,
block|{
block|{
name|vectors_get_name_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_set_name_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_set_name_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gchar
modifier|*
name|name
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
name|name
operator|=
operator|(
name|gchar
operator|*
operator|)
name|args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_pointer
expr_stmt|;
if|if
condition|(
name|name
operator|==
name|NULL
operator|||
operator|!
name|g_utf8_validate
argument_list|(
name|name
argument_list|,
operator|-
literal|1
argument_list|,
name|NULL
argument_list|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
if|if
condition|(
operator|!
name|gimp_item_rename
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|,
name|name
argument_list|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_set_name_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_set_name_inargs
specifier|static
name|ProcArg
name|vectors_set_name_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|,
block|{
name|GIMP_PDB_STRING
block|,
literal|"name"
block|,
literal|"the new name of the path"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_set_name_proc
specifier|static
name|ProcRecord
name|vectors_set_name_proc
init|=
block|{
literal|"gimp-vectors-set-name"
block|,
literal|"gimp-vectors-set-name"
block|,
literal|"Sets the name of the vectors object."
block|,
literal|"Sets the name of the vectors object."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|2
block|,
name|vectors_set_name_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|vectors_set_name_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_get_tattoo_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_get_tattoo_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gint32
name|tattoo
init|=
literal|0
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|tattoo
operator|=
name|gimp_item_get_tattoo
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
expr_stmt|;
block|}
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_get_tattoo_proc
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
operator|=
name|tattoo
expr_stmt|;
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_get_tattoo_inargs
specifier|static
name|ProcArg
name|vectors_get_tattoo_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_get_tattoo_outargs
specifier|static
name|ProcArg
name|vectors_get_tattoo_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_INT32
block|,
literal|"tattoo"
block|,
literal|"The vectors tattoo"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_get_tattoo_proc
specifier|static
name|ProcRecord
name|vectors_get_tattoo_proc
init|=
block|{
literal|"gimp-vectors-get-tattoo"
block|,
literal|"gimp-vectors-get-tattoo"
block|,
literal|"Get the tattoo of the vectors object."
block|,
literal|"Get the tattoo state of the vectors object."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|1
block|,
name|vectors_get_tattoo_inargs
block|,
literal|1
block|,
name|vectors_get_tattoo_outargs
block|,
block|{
block|{
name|vectors_get_tattoo_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_set_tattoo_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_set_tattoo_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gint32
name|tattoo
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
name|tattoo
operator|=
name|args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gimp_item_set_tattoo
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|,
name|tattoo
argument_list|)
expr_stmt|;
block|}
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_set_tattoo_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_set_tattoo_inargs
specifier|static
name|ProcArg
name|vectors_set_tattoo_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|,
block|{
name|GIMP_PDB_INT32
block|,
literal|"tattoo"
block|,
literal|"the new tattoo"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_set_tattoo_proc
specifier|static
name|ProcRecord
name|vectors_set_tattoo_proc
init|=
block|{
literal|"gimp-vectors-set-tattoo"
block|,
literal|"gimp-vectors-set-tattoo"
block|,
literal|"Set the tattoo of the vectors object."
block|,
literal|"Set the tattoo of the vectors object."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|2
block|,
name|vectors_set_tattoo_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|vectors_set_tattoo_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_stroke_get_length_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_stroke_get_length_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gint32
name|stroke_id
decl_stmt|;
name|gdouble
name|prescision
decl_stmt|;
name|gdouble
name|length
init|=
literal|0.0
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
name|stroke_id
operator|=
name|args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
expr_stmt|;
name|prescision
operator|=
name|args
index|[
literal|2
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|GimpStroke
modifier|*
name|stroke
init|=
name|gimp_vectors_stroke_get_by_ID
argument_list|(
name|vectors
argument_list|,
name|stroke_id
argument_list|)
decl_stmt|;
if|if
condition|(
name|stroke
condition|)
name|length
operator|=
name|gimp_stroke_get_length
argument_list|(
name|stroke
argument_list|,
name|prescision
argument_list|)
expr_stmt|;
else|else
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_stroke_get_length_proc
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_float
operator|=
name|length
expr_stmt|;
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_stroke_get_length_inargs
specifier|static
name|ProcArg
name|vectors_stroke_get_length_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|,
block|{
name|GIMP_PDB_INT32
block|,
literal|"stroke-id"
block|,
literal|"The stroke ID"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"prescision"
block|,
literal|"The prescision used for the approximation"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_stroke_get_length_outargs
specifier|static
name|ProcArg
name|vectors_stroke_get_length_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"length"
block|,
literal|"The length (in pixels) of the given stroke."
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_stroke_get_length_proc
specifier|static
name|ProcRecord
name|vectors_stroke_get_length_proc
init|=
block|{
literal|"gimp-vectors-stroke-get-length"
block|,
literal|"gimp-vectors-stroke-get-length"
block|,
literal|"Measure the length of the given stroke."
block|,
literal|"Measure the length of the given stroke."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|3
block|,
name|vectors_stroke_get_length_inargs
block|,
literal|1
block|,
name|vectors_stroke_get_length_outargs
block|,
block|{
block|{
name|vectors_stroke_get_length_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_stroke_get_point_at_dist_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_stroke_get_point_at_dist_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gint32
name|stroke_id
decl_stmt|;
name|gdouble
name|dist
decl_stmt|;
name|gdouble
name|prescision
decl_stmt|;
name|gdouble
name|x_point
init|=
literal|0.0
decl_stmt|;
name|gdouble
name|y_point
init|=
literal|0.0
decl_stmt|;
name|gdouble
name|slope
init|=
literal|0.0
decl_stmt|;
name|gboolean
name|valid
init|=
name|FALSE
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
name|stroke_id
operator|=
name|args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
expr_stmt|;
name|dist
operator|=
name|args
index|[
literal|2
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
name|prescision
operator|=
name|args
index|[
literal|3
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|GimpStroke
modifier|*
name|stroke
init|=
name|gimp_vectors_stroke_get_by_ID
argument_list|(
name|vectors
argument_list|,
name|stroke_id
argument_list|)
decl_stmt|;
if|if
condition|(
name|stroke
condition|)
block|{
name|GimpCoords
name|coord
decl_stmt|;
name|valid
operator|=
name|gimp_stroke_get_point_at_dist
argument_list|(
name|stroke
argument_list|,
name|dist
argument_list|,
name|prescision
argument_list|,
operator|&
name|coord
argument_list|,
operator|&
name|slope
argument_list|)
expr_stmt|;
name|x_point
operator|=
name|valid
condition|?
name|coord
operator|.
name|x
else|:
literal|0
expr_stmt|;
name|y_point
operator|=
name|valid
condition|?
name|coord
operator|.
name|y
else|:
literal|0
expr_stmt|;
block|}
else|else
block|{
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
block|}
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_stroke_get_point_at_dist_proc
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_float
operator|=
name|x_point
expr_stmt|;
name|return_args
index|[
literal|2
index|]
operator|.
name|value
operator|.
name|pdb_float
operator|=
name|y_point
expr_stmt|;
name|return_args
index|[
literal|3
index|]
operator|.
name|value
operator|.
name|pdb_float
operator|=
name|slope
expr_stmt|;
name|return_args
index|[
literal|4
index|]
operator|.
name|value
operator|.
name|pdb_int
operator|=
name|valid
expr_stmt|;
block|}
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_stroke_get_point_at_dist_inargs
specifier|static
name|ProcArg
name|vectors_stroke_get_point_at_dist_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|,
block|{
name|GIMP_PDB_INT32
block|,
literal|"stroke-id"
block|,
literal|"The stroke ID"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"dist"
block|,
literal|"The given distance."
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"prescision"
block|,
literal|"The prescision used for the approximation"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_stroke_get_point_at_dist_outargs
specifier|static
name|ProcArg
name|vectors_stroke_get_point_at_dist_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"x-point"
block|,
literal|"The x position of the point."
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"y-point"
block|,
literal|"The y position of the point."
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"slope"
block|,
literal|"The slope (dy / dx) at the specified point."
block|}
block|,
block|{
name|GIMP_PDB_INT32
block|,
literal|"valid"
block|,
literal|"Indicator for the validity of the returned data."
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_stroke_get_point_at_dist_proc
specifier|static
name|ProcRecord
name|vectors_stroke_get_point_at_dist_proc
init|=
block|{
literal|"gimp-vectors-stroke-get-point-at-dist"
block|,
literal|"gimp-vectors-stroke-get-point-at-dist"
block|,
literal|"Get point at a specified distance along the stroke."
block|,
literal|"This will return the x,y position of a point at a given distance along the stroke. The distance will be obtained by first digitizing the curve internally and then walking along the curve. For a closed stroke the start of the path is the first point on the path that was created. This might not be obvious. If the stroke is not long enough, a \"valid\" flag will be FALSE."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|4
block|,
name|vectors_stroke_get_point_at_dist_inargs
block|,
literal|4
block|,
name|vectors_stroke_get_point_at_dist_outargs
block|,
block|{
block|{
name|vectors_stroke_get_point_at_dist_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_stroke_remove_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_stroke_remove_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gint32
name|stroke_id
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
name|stroke_id
operator|=
name|args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|GimpStroke
modifier|*
name|stroke
init|=
name|gimp_vectors_stroke_get_by_ID
argument_list|(
name|vectors
argument_list|,
name|stroke_id
argument_list|)
decl_stmt|;
if|if
condition|(
name|stroke
condition|)
name|gimp_vectors_stroke_remove
argument_list|(
name|vectors
argument_list|,
name|stroke
argument_list|)
expr_stmt|;
else|else
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_stroke_remove_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_stroke_remove_inargs
specifier|static
name|ProcArg
name|vectors_stroke_remove_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|,
block|{
name|GIMP_PDB_INT32
block|,
literal|"stroke-id"
block|,
literal|"The stroke ID"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_stroke_remove_proc
specifier|static
name|ProcRecord
name|vectors_stroke_remove_proc
init|=
block|{
literal|"gimp-vectors-stroke-remove"
block|,
literal|"gimp-vectors-stroke-remove"
block|,
literal|"remove the stroke from a vectors object."
block|,
literal|"Remove the stroke from a vectors object."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|2
block|,
name|vectors_stroke_remove_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|vectors_stroke_remove_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_stroke_close_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_stroke_close_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gint32
name|stroke_id
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
name|stroke_id
operator|=
name|args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|GimpStroke
modifier|*
name|stroke
init|=
name|gimp_vectors_stroke_get_by_ID
argument_list|(
name|vectors
argument_list|,
name|stroke_id
argument_list|)
decl_stmt|;
if|if
condition|(
name|stroke
condition|)
name|gimp_stroke_close
argument_list|(
name|stroke
argument_list|)
expr_stmt|;
else|else
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_stroke_close_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_stroke_close_inargs
specifier|static
name|ProcArg
name|vectors_stroke_close_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|,
block|{
name|GIMP_PDB_INT32
block|,
literal|"stroke-id"
block|,
literal|"The stroke ID"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_stroke_close_proc
specifier|static
name|ProcRecord
name|vectors_stroke_close_proc
init|=
block|{
literal|"gimp-vectors-stroke-close"
block|,
literal|"gimp-vectors-stroke-close"
block|,
literal|"closes the specified stroke."
block|,
literal|"Closes the specified stroke."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|2
block|,
name|vectors_stroke_close_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|vectors_stroke_close_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_stroke_translate_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_stroke_translate_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gint32
name|stroke_id
decl_stmt|;
name|gint32
name|off_x
decl_stmt|;
name|gint32
name|off_y
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
name|stroke_id
operator|=
name|args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
expr_stmt|;
name|off_x
operator|=
name|args
index|[
literal|2
index|]
operator|.
name|value
operator|.
name|pdb_int
expr_stmt|;
name|off_y
operator|=
name|args
index|[
literal|3
index|]
operator|.
name|value
operator|.
name|pdb_int
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|GimpStroke
modifier|*
name|stroke
init|=
name|gimp_vectors_stroke_get_by_ID
argument_list|(
name|vectors
argument_list|,
name|stroke_id
argument_list|)
decl_stmt|;
if|if
condition|(
name|stroke
condition|)
name|gimp_stroke_translate
argument_list|(
name|stroke
argument_list|,
name|off_x
argument_list|,
name|off_y
argument_list|)
expr_stmt|;
else|else
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_stroke_translate_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_stroke_translate_inargs
specifier|static
name|ProcArg
name|vectors_stroke_translate_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|,
block|{
name|GIMP_PDB_INT32
block|,
literal|"stroke-id"
block|,
literal|"The stroke ID"
block|}
block|,
block|{
name|GIMP_PDB_INT32
block|,
literal|"off-x"
block|,
literal|"Offset in x direction"
block|}
block|,
block|{
name|GIMP_PDB_INT32
block|,
literal|"off-y"
block|,
literal|"Offset in y direction"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_stroke_translate_proc
specifier|static
name|ProcRecord
name|vectors_stroke_translate_proc
init|=
block|{
literal|"gimp-vectors-stroke-translate"
block|,
literal|"gimp-vectors-stroke-translate"
block|,
literal|"translate the given stroke."
block|,
literal|"Translate the given stroke."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|4
block|,
name|vectors_stroke_translate_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|vectors_stroke_translate_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_stroke_scale_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_stroke_scale_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gint32
name|stroke_id
decl_stmt|;
name|gdouble
name|scale_x
decl_stmt|;
name|gdouble
name|scale_y
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
name|stroke_id
operator|=
name|args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
expr_stmt|;
name|scale_x
operator|=
name|args
index|[
literal|2
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
name|scale_y
operator|=
name|args
index|[
literal|3
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|GimpStroke
modifier|*
name|stroke
init|=
name|gimp_vectors_stroke_get_by_ID
argument_list|(
name|vectors
argument_list|,
name|stroke_id
argument_list|)
decl_stmt|;
if|if
condition|(
name|stroke
condition|)
name|gimp_stroke_scale
argument_list|(
name|stroke
argument_list|,
name|scale_x
argument_list|,
name|scale_y
argument_list|)
expr_stmt|;
else|else
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_stroke_scale_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_stroke_scale_inargs
specifier|static
name|ProcArg
name|vectors_stroke_scale_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|,
block|{
name|GIMP_PDB_INT32
block|,
literal|"stroke-id"
block|,
literal|"The stroke ID"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"scale-x"
block|,
literal|"Scale factor in x direction"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"scale-y"
block|,
literal|"Scale factor in y direction"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_stroke_scale_proc
specifier|static
name|ProcRecord
name|vectors_stroke_scale_proc
init|=
block|{
literal|"gimp-vectors-stroke-scale"
block|,
literal|"gimp-vectors-stroke-scale"
block|,
literal|"scales the given stroke."
block|,
literal|"Scale the given stroke."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|4
block|,
name|vectors_stroke_scale_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|vectors_stroke_scale_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_stroke_interpolate_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_stroke_interpolate_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gint32
name|stroke_id
decl_stmt|;
name|gdouble
name|prescision
decl_stmt|;
name|gboolean
name|closed
init|=
name|FALSE
decl_stmt|;
name|gint32
name|num_coords
init|=
literal|0
decl_stmt|;
name|gdouble
modifier|*
name|coords
init|=
name|NULL
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
name|stroke_id
operator|=
name|args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
expr_stmt|;
name|prescision
operator|=
name|args
index|[
literal|2
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|GimpStroke
modifier|*
name|stroke
init|=
name|gimp_vectors_stroke_get_by_ID
argument_list|(
name|vectors
argument_list|,
name|stroke_id
argument_list|)
decl_stmt|;
if|if
condition|(
name|stroke
condition|)
block|{
name|GArray
modifier|*
name|coords_array
decl_stmt|;
name|gint
name|i
decl_stmt|;
name|coords_array
operator|=
name|gimp_stroke_interpolate
argument_list|(
name|stroke
argument_list|,
name|prescision
argument_list|,
operator|&
name|closed
argument_list|)
expr_stmt|;
if|if
condition|(
name|coords_array
condition|)
block|{
name|num_coords
operator|=
name|coords_array
operator|->
name|len
expr_stmt|;
name|coords
operator|=
name|g_new
argument_list|(
name|gdouble
argument_list|,
name|num_coords
operator|*
literal|2
argument_list|)
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|num_coords
condition|;
name|i
operator|++
control|)
block|{
name|coords
index|[
literal|2
operator|*
name|i
index|]
operator|=
name|g_array_index
argument_list|(
name|coords_array
argument_list|,
name|GimpCoords
argument_list|,
name|i
argument_list|)
operator|.
name|x
expr_stmt|;
name|coords
index|[
literal|2
operator|*
name|i
operator|+
literal|1
index|]
operator|=
name|g_array_index
argument_list|(
name|coords_array
argument_list|,
name|GimpCoords
argument_list|,
name|i
argument_list|)
operator|.
name|y
expr_stmt|;
block|}
name|g_array_free
argument_list|(
name|coords_array
argument_list|,
name|TRUE
argument_list|)
expr_stmt|;
name|num_coords
operator|*=
literal|2
expr_stmt|;
block|}
else|else
block|{
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
block|}
else|else
block|{
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
block|}
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_stroke_interpolate_proc
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
operator|=
name|closed
expr_stmt|;
name|return_args
index|[
literal|2
index|]
operator|.
name|value
operator|.
name|pdb_int
operator|=
name|num_coords
expr_stmt|;
name|return_args
index|[
literal|3
index|]
operator|.
name|value
operator|.
name|pdb_pointer
operator|=
name|coords
expr_stmt|;
block|}
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_stroke_interpolate_inargs
specifier|static
name|ProcArg
name|vectors_stroke_interpolate_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|,
block|{
name|GIMP_PDB_INT32
block|,
literal|"stroke-id"
block|,
literal|"The stroke ID"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"prescision"
block|,
literal|"The prescision used for the approximation"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_stroke_interpolate_outargs
specifier|static
name|ProcArg
name|vectors_stroke_interpolate_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_INT32
block|,
literal|"closed"
block|,
literal|"List of the strokes belonging to the path."
block|}
block|,
block|{
name|GIMP_PDB_INT32
block|,
literal|"num-coords"
block|,
literal|"The number of floats returned."
block|}
block|,
block|{
name|GIMP_PDB_FLOATARRAY
block|,
literal|"coords"
block|,
literal|"List of the coords along the path (x0, y0, x1, y1, ...)."
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_stroke_interpolate_proc
specifier|static
name|ProcRecord
name|vectors_stroke_interpolate_proc
init|=
block|{
literal|"gimp-vectors-stroke-interpolate"
block|,
literal|"gimp-vectors-stroke-interpolate"
block|,
literal|"returns polygonal approximation of the stroke."
block|,
literal|"returns polygonal approximation of the stroke."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|3
block|,
name|vectors_stroke_interpolate_inargs
block|,
literal|3
block|,
name|vectors_stroke_interpolate_outargs
block|,
block|{
block|{
name|vectors_stroke_interpolate_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_bezier_stroke_new_moveto_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_bezier_stroke_new_moveto_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gdouble
name|x0
decl_stmt|;
name|gdouble
name|y0
decl_stmt|;
name|gint32
name|stroke_id
init|=
literal|0
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
name|x0
operator|=
name|args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
name|y0
operator|=
name|args
index|[
literal|2
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|GimpStroke
modifier|*
name|stroke
decl_stmt|;
name|GimpCoords
name|coord0
decl_stmt|;
name|coord0
operator|.
name|x
operator|=
name|x0
expr_stmt|;
name|coord0
operator|.
name|y
operator|=
name|y0
expr_stmt|;
name|coord0
operator|.
name|pressure
operator|=
name|GIMP_COORDS_DEFAULT_PRESSURE
expr_stmt|;
name|coord0
operator|.
name|xtilt
operator|=
name|GIMP_COORDS_DEFAULT_TILT
expr_stmt|;
name|coord0
operator|.
name|ytilt
operator|=
name|GIMP_COORDS_DEFAULT_TILT
expr_stmt|;
name|coord0
operator|.
name|wheel
operator|=
name|GIMP_COORDS_DEFAULT_WHEEL
expr_stmt|;
name|stroke
operator|=
name|gimp_bezier_stroke_new_moveto
argument_list|(
operator|&
name|coord0
argument_list|)
expr_stmt|;
name|gimp_vectors_stroke_add
argument_list|(
name|vectors
argument_list|,
name|stroke
argument_list|)
expr_stmt|;
name|stroke_id
operator|=
name|gimp_stroke_get_ID
argument_list|(
name|stroke
argument_list|)
expr_stmt|;
block|}
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_bezier_stroke_new_moveto_proc
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
operator|=
name|stroke_id
expr_stmt|;
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_bezier_stroke_new_moveto_inargs
specifier|static
name|ProcArg
name|vectors_bezier_stroke_new_moveto_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"x0"
block|,
literal|"The x-coordinate of the moveto"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"y0"
block|,
literal|"The y-coordinate of the moveto"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_bezier_stroke_new_moveto_outargs
specifier|static
name|ProcArg
name|vectors_bezier_stroke_new_moveto_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_INT32
block|,
literal|"stroke-id"
block|,
literal|"The resulting stroke"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_bezier_stroke_new_moveto_proc
specifier|static
name|ProcRecord
name|vectors_bezier_stroke_new_moveto_proc
init|=
block|{
literal|"gimp-vectors-bezier-stroke-new-moveto"
block|,
literal|"gimp-vectors-bezier-stroke-new-moveto"
block|,
literal|"Adds a bezier stroke with a single moveto to the vectors object."
block|,
literal|"Adds a bezier stroke with a single moveto to the vectors object."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|3
block|,
name|vectors_bezier_stroke_new_moveto_inargs
block|,
literal|1
block|,
name|vectors_bezier_stroke_new_moveto_outargs
block|,
block|{
block|{
name|vectors_bezier_stroke_new_moveto_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_bezier_stroke_lineto_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_bezier_stroke_lineto_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gint32
name|stroke_id
decl_stmt|;
name|gdouble
name|x0
decl_stmt|;
name|gdouble
name|y0
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
name|stroke_id
operator|=
name|args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
expr_stmt|;
name|x0
operator|=
name|args
index|[
literal|2
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
name|y0
operator|=
name|args
index|[
literal|3
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|GimpStroke
modifier|*
name|stroke
init|=
name|gimp_vectors_stroke_get_by_ID
argument_list|(
name|vectors
argument_list|,
name|stroke_id
argument_list|)
decl_stmt|;
if|if
condition|(
name|stroke
condition|)
block|{
name|GimpCoords
name|coord0
decl_stmt|;
name|coord0
operator|.
name|x
operator|=
name|x0
expr_stmt|;
name|coord0
operator|.
name|y
operator|=
name|y0
expr_stmt|;
name|coord0
operator|.
name|pressure
operator|=
name|GIMP_COORDS_DEFAULT_PRESSURE
expr_stmt|;
name|coord0
operator|.
name|xtilt
operator|=
name|GIMP_COORDS_DEFAULT_TILT
expr_stmt|;
name|coord0
operator|.
name|ytilt
operator|=
name|GIMP_COORDS_DEFAULT_TILT
expr_stmt|;
name|coord0
operator|.
name|wheel
operator|=
name|GIMP_COORDS_DEFAULT_WHEEL
expr_stmt|;
name|gimp_bezier_stroke_lineto
argument_list|(
name|stroke
argument_list|,
operator|&
name|coord0
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
block|}
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_bezier_stroke_lineto_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_bezier_stroke_lineto_inargs
specifier|static
name|ProcArg
name|vectors_bezier_stroke_lineto_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|,
block|{
name|GIMP_PDB_INT32
block|,
literal|"stroke-id"
block|,
literal|"The stroke ID"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"x0"
block|,
literal|"The x-coordinate of the lineto"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"y0"
block|,
literal|"The y-coordinate of the lineto"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_bezier_stroke_lineto_proc
specifier|static
name|ProcRecord
name|vectors_bezier_stroke_lineto_proc
init|=
block|{
literal|"gimp-vectors-bezier-stroke-lineto"
block|,
literal|"gimp-vectors-bezier-stroke-lineto"
block|,
literal|"Extends a bezier stroke with a lineto."
block|,
literal|"Extends a bezier stroke with a lineto."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|4
block|,
name|vectors_bezier_stroke_lineto_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|vectors_bezier_stroke_lineto_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_bezier_stroke_conicto_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_bezier_stroke_conicto_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gint32
name|stroke_id
decl_stmt|;
name|gdouble
name|x0
decl_stmt|;
name|gdouble
name|y0
decl_stmt|;
name|gdouble
name|x1
decl_stmt|;
name|gdouble
name|y1
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
name|stroke_id
operator|=
name|args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
expr_stmt|;
name|x0
operator|=
name|args
index|[
literal|2
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
name|y0
operator|=
name|args
index|[
literal|3
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
name|x1
operator|=
name|args
index|[
literal|4
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
name|y1
operator|=
name|args
index|[
literal|5
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|GimpStroke
modifier|*
name|stroke
init|=
name|gimp_vectors_stroke_get_by_ID
argument_list|(
name|vectors
argument_list|,
name|stroke_id
argument_list|)
decl_stmt|;
if|if
condition|(
name|stroke
condition|)
block|{
name|GimpCoords
name|coord0
decl_stmt|,
name|coord1
decl_stmt|;
name|coord0
operator|.
name|x
operator|=
name|x0
expr_stmt|;
name|coord0
operator|.
name|y
operator|=
name|y0
expr_stmt|;
name|coord0
operator|.
name|pressure
operator|=
name|GIMP_COORDS_DEFAULT_PRESSURE
expr_stmt|;
name|coord0
operator|.
name|xtilt
operator|=
name|GIMP_COORDS_DEFAULT_TILT
expr_stmt|;
name|coord0
operator|.
name|ytilt
operator|=
name|GIMP_COORDS_DEFAULT_TILT
expr_stmt|;
name|coord0
operator|.
name|wheel
operator|=
name|GIMP_COORDS_DEFAULT_WHEEL
expr_stmt|;
name|coord1
operator|=
name|coord0
expr_stmt|;
name|coord1
operator|.
name|x
operator|=
name|x1
expr_stmt|;
name|coord1
operator|.
name|y
operator|=
name|y1
expr_stmt|;
name|gimp_bezier_stroke_conicto
argument_list|(
name|stroke
argument_list|,
operator|&
name|coord0
argument_list|,
operator|&
name|coord1
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
block|}
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_bezier_stroke_conicto_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_bezier_stroke_conicto_inargs
specifier|static
name|ProcArg
name|vectors_bezier_stroke_conicto_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|,
block|{
name|GIMP_PDB_INT32
block|,
literal|"stroke-id"
block|,
literal|"The stroke ID"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"x0"
block|,
literal|"The x-coordinate of the control point"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"y0"
block|,
literal|"The y-coordinate of the control point"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"x1"
block|,
literal|"The x-coordinate of the end point"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"y1"
block|,
literal|"The y-coordinate of the end point"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_bezier_stroke_conicto_proc
specifier|static
name|ProcRecord
name|vectors_bezier_stroke_conicto_proc
init|=
block|{
literal|"gimp-vectors-bezier-stroke-conicto"
block|,
literal|"gimp-vectors-bezier-stroke-conicto"
block|,
literal|"Extends a bezier stroke with a conic bezier spline."
block|,
literal|"Extends a bezier stroke with a conic bezier spline. Actually a cubic bezier spline gets added that realizes the shape of a conic bezier spline."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|6
block|,
name|vectors_bezier_stroke_conicto_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|vectors_bezier_stroke_conicto_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_bezier_stroke_cubicto_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_bezier_stroke_cubicto_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gint32
name|stroke_id
decl_stmt|;
name|gdouble
name|x0
decl_stmt|;
name|gdouble
name|y0
decl_stmt|;
name|gdouble
name|x1
decl_stmt|;
name|gdouble
name|y1
decl_stmt|;
name|gdouble
name|x2
decl_stmt|;
name|gdouble
name|y2
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
name|stroke_id
operator|=
name|args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
expr_stmt|;
name|x0
operator|=
name|args
index|[
literal|2
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
name|y0
operator|=
name|args
index|[
literal|3
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
name|x1
operator|=
name|args
index|[
literal|4
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
name|y1
operator|=
name|args
index|[
literal|5
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
name|x2
operator|=
name|args
index|[
literal|6
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
name|y2
operator|=
name|args
index|[
literal|7
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|GimpStroke
modifier|*
name|stroke
init|=
name|gimp_vectors_stroke_get_by_ID
argument_list|(
name|vectors
argument_list|,
name|stroke_id
argument_list|)
decl_stmt|;
if|if
condition|(
name|stroke
condition|)
block|{
name|GimpCoords
name|coord0
decl_stmt|,
name|coord1
decl_stmt|,
name|coord2
decl_stmt|;
name|coord0
operator|.
name|x
operator|=
name|x0
expr_stmt|;
name|coord0
operator|.
name|y
operator|=
name|y0
expr_stmt|;
name|coord0
operator|.
name|pressure
operator|=
name|GIMP_COORDS_DEFAULT_PRESSURE
expr_stmt|;
name|coord0
operator|.
name|xtilt
operator|=
name|GIMP_COORDS_DEFAULT_TILT
expr_stmt|;
name|coord0
operator|.
name|ytilt
operator|=
name|GIMP_COORDS_DEFAULT_TILT
expr_stmt|;
name|coord0
operator|.
name|wheel
operator|=
name|GIMP_COORDS_DEFAULT_WHEEL
expr_stmt|;
name|coord1
operator|=
name|coord0
expr_stmt|;
name|coord1
operator|.
name|x
operator|=
name|x1
expr_stmt|;
name|coord1
operator|.
name|y
operator|=
name|y1
expr_stmt|;
name|coord2
operator|=
name|coord0
expr_stmt|;
name|coord2
operator|.
name|x
operator|=
name|x2
expr_stmt|;
name|coord2
operator|.
name|y
operator|=
name|y2
expr_stmt|;
name|gimp_bezier_stroke_cubicto
argument_list|(
name|stroke
argument_list|,
operator|&
name|coord0
argument_list|,
operator|&
name|coord1
argument_list|,
operator|&
name|coord2
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
block|}
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_bezier_stroke_cubicto_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_bezier_stroke_cubicto_inargs
specifier|static
name|ProcArg
name|vectors_bezier_stroke_cubicto_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|,
block|{
name|GIMP_PDB_INT32
block|,
literal|"stroke-id"
block|,
literal|"The stroke ID"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"x0"
block|,
literal|"The x-coordinate of the first control point"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"y0"
block|,
literal|"The y-coordinate of the first control point"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"x1"
block|,
literal|"The x-coordinate of the second control point"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"y1"
block|,
literal|"The y-coordinate of the second control point"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"x2"
block|,
literal|"The x-coordinate of the end point"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"y2"
block|,
literal|"The y-coordinate of the end point"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_bezier_stroke_cubicto_proc
specifier|static
name|ProcRecord
name|vectors_bezier_stroke_cubicto_proc
init|=
block|{
literal|"gimp-vectors-bezier-stroke-cubicto"
block|,
literal|"gimp-vectors-bezier-stroke-cubicto"
block|,
literal|"Extends a bezier stroke with a cubic bezier spline."
block|,
literal|"Extends a bezier stroke with a cubic bezier spline."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|8
block|,
name|vectors_bezier_stroke_cubicto_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|vectors_bezier_stroke_cubicto_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|vectors_bezier_stroke_new_ellipse_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|vectors_bezier_stroke_new_ellipse_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpVectors
modifier|*
name|vectors
decl_stmt|;
name|gdouble
name|x0
decl_stmt|;
name|gdouble
name|y0
decl_stmt|;
name|gdouble
name|radius_x
decl_stmt|;
name|gdouble
name|radius_y
decl_stmt|;
name|gdouble
name|angle
decl_stmt|;
name|gint32
name|stroke_id
init|=
literal|0
decl_stmt|;
name|vectors
operator|=
operator|(
name|GimpVectors
operator|*
operator|)
name|gimp_item_get_by_ID
argument_list|(
name|gimp
argument_list|,
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|GIMP_IS_VECTORS
argument_list|(
name|vectors
argument_list|)
operator|&&
operator|!
name|gimp_item_is_removed
argument_list|(
name|GIMP_ITEM
argument_list|(
name|vectors
argument_list|)
argument_list|)
operator|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
name|x0
operator|=
name|args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
name|y0
operator|=
name|args
index|[
literal|2
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
name|radius_x
operator|=
name|args
index|[
literal|3
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
name|radius_y
operator|=
name|args
index|[
literal|4
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
name|angle
operator|=
name|args
index|[
literal|5
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|GimpStroke
modifier|*
name|stroke
decl_stmt|;
name|GimpCoords
name|coord0
decl_stmt|;
name|coord0
operator|.
name|x
operator|=
name|x0
expr_stmt|;
name|coord0
operator|.
name|y
operator|=
name|y0
expr_stmt|;
name|coord0
operator|.
name|pressure
operator|=
name|GIMP_COORDS_DEFAULT_PRESSURE
expr_stmt|;
name|coord0
operator|.
name|xtilt
operator|=
name|GIMP_COORDS_DEFAULT_TILT
expr_stmt|;
name|coord0
operator|.
name|ytilt
operator|=
name|GIMP_COORDS_DEFAULT_TILT
expr_stmt|;
name|coord0
operator|.
name|wheel
operator|=
name|GIMP_COORDS_DEFAULT_WHEEL
expr_stmt|;
name|stroke
operator|=
name|gimp_bezier_stroke_new_ellipse
argument_list|(
operator|&
name|coord0
argument_list|,
name|radius_x
argument_list|,
name|radius_y
argument_list|,
name|angle
argument_list|)
expr_stmt|;
name|gimp_vectors_stroke_add
argument_list|(
name|vectors
argument_list|,
name|stroke
argument_list|)
expr_stmt|;
name|stroke_id
operator|=
name|gimp_stroke_get_ID
argument_list|(
name|stroke
argument_list|)
expr_stmt|;
block|}
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|vectors_bezier_stroke_new_ellipse_proc
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
operator|=
name|stroke_id
expr_stmt|;
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|vectors_bezier_stroke_new_ellipse_inargs
specifier|static
name|ProcArg
name|vectors_bezier_stroke_new_ellipse_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_VECTORS
block|,
literal|"vectors"
block|,
literal|"The vectors object"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"x0"
block|,
literal|"The x-coordinate of the center"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"y0"
block|,
literal|"The y-coordinate of the center"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"radius-x"
block|,
literal|"The radius in x direction"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"radius-y"
block|,
literal|"The radius in y direction"
block|}
block|,
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"angle"
block|,
literal|"The angle the x-axis of the ellipse (radians, counterclockwise)"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_bezier_stroke_new_ellipse_outargs
specifier|static
name|ProcArg
name|vectors_bezier_stroke_new_ellipse_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_INT32
block|,
literal|"stroke-id"
block|,
literal|"The resulting stroke"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|vectors_bezier_stroke_new_ellipse_proc
specifier|static
name|ProcRecord
name|vectors_bezier_stroke_new_ellipse_proc
init|=
block|{
literal|"gimp-vectors-bezier-stroke-new-ellipse"
block|,
literal|"gimp-vectors-bezier-stroke-new-ellipse"
block|,
literal|"Adds a bezier stroke describing an ellipse the vectors object."
block|,
literal|"Adds a bezier stroke describing an ellipse the vectors object."
block|,
literal|"Simon Budig"
block|,
literal|"Simon Budig"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|6
block|,
name|vectors_bezier_stroke_new_ellipse_inargs
block|,
literal|1
block|,
name|vectors_bezier_stroke_new_ellipse_outargs
block|,
block|{
block|{
name|vectors_bezier_stroke_new_ellipse_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

end_unit


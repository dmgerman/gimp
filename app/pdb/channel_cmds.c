begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* The GIMP -- an image manipulation program  * Copyright (C) 1995-2003 Spencer Kimball and Peter Mattis  *  * This program is free software; you can redistribute it and/or modify  * it under the terms of the GNU General Public License as published by  * the Free Software Foundation; either version 2 of the License, or  * (at your option) any later version.  *  * This program is distributed in the hope that it will be useful,  * but WITHOUT ANY WARRANTY; without even the implied warranty of  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the  * GNU General Public License for more details.  *  * You should have received a copy of the GNU General Public License  * along with this program; if not, write to the Free Software  * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */
end_comment

begin_comment
comment|/* NOTE: This file is autogenerated by pdbgen.pl. */
end_comment

begin_include
include|#
directive|include
file|"config.h"
end_include

begin_include
include|#
directive|include
file|<glib-object.h>
end_include

begin_include
include|#
directive|include
file|"libgimpcolor/gimpcolor.h"
end_include

begin_include
include|#
directive|include
file|"pdb-types.h"
end_include

begin_include
include|#
directive|include
file|"gimpargument.h"
end_include

begin_include
include|#
directive|include
file|"gimpprocedure.h"
end_include

begin_include
include|#
directive|include
file|"procedural_db.h"
end_include

begin_include
include|#
directive|include
file|"core/gimpparamspecs.h"
end_include

begin_include
include|#
directive|include
file|"core/gimpchannel-combine.h"
end_include

begin_include
include|#
directive|include
file|"core/gimpchannel.h"
end_include

begin_include
include|#
directive|include
file|"core/gimpimage.h"
end_include

begin_decl_stmt
DECL|variable|channel_new_proc
specifier|static
name|GimpProcedure
name|channel_new_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|channel_new_from_component_proc
specifier|static
name|GimpProcedure
name|channel_new_from_component_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|channel_copy_proc
specifier|static
name|GimpProcedure
name|channel_copy_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|channel_combine_masks_proc
specifier|static
name|GimpProcedure
name|channel_combine_masks_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|channel_get_show_masked_proc
specifier|static
name|GimpProcedure
name|channel_get_show_masked_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|channel_set_show_masked_proc
specifier|static
name|GimpProcedure
name|channel_set_show_masked_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|channel_get_opacity_proc
specifier|static
name|GimpProcedure
name|channel_get_opacity_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|channel_set_opacity_proc
specifier|static
name|GimpProcedure
name|channel_set_opacity_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|channel_get_color_proc
specifier|static
name|GimpProcedure
name|channel_get_color_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|channel_set_color_proc
specifier|static
name|GimpProcedure
name|channel_set_color_proc
decl_stmt|;
end_decl_stmt

begin_function
name|void
DECL|function|register_channel_procs (Gimp * gimp)
name|register_channel_procs
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|)
block|{
name|GimpProcedure
modifier|*
name|procedure
decl_stmt|;
comment|/*    * channel_new    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|channel_new_proc
argument_list|,
literal|6
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_image_id
argument_list|(
literal|"image"
argument_list|,
literal|"image"
argument_list|,
literal|"The image to which to add the channel"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"width"
argument_list|,
literal|"width"
argument_list|,
literal|"The channel width (1<= width)"
argument_list|,
literal|1
argument_list|,
name|G_MAXINT32
argument_list|,
literal|1
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"height"
argument_list|,
literal|"height"
argument_list|,
literal|"The channel height (1<= height)"
argument_list|,
literal|1
argument_list|,
name|G_MAXINT32
argument_list|,
literal|1
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"name"
argument_list|,
literal|"name"
argument_list|,
literal|"The channel name"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"opacity"
argument_list|,
literal|"opacity"
argument_list|,
literal|"The channel opacity (0<= opacity<= 100)"
argument_list|,
literal|0
argument_list|,
literal|100
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_rgb
argument_list|(
literal|"color"
argument_list|,
literal|"color"
argument_list|,
literal|"The channel compositing color"
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_channel_id
argument_list|(
literal|"channel"
argument_list|,
literal|"channel"
argument_list|,
literal|"The newly created channel"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * channel_new_from_component    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|channel_new_from_component_proc
argument_list|,
literal|3
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_image_id
argument_list|(
literal|"image"
argument_list|,
literal|"image"
argument_list|,
literal|"The image to which to add the channel"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_enum
argument_list|(
literal|"component"
argument_list|,
literal|"component"
argument_list|,
literal|"The image component: { GIMP_RED_CHANNEL (0), GIMP_GREEN_CHANNEL (1), GIMP_BLUE_CHANNEL (2), GIMP_GRAY_CHANNEL (3), GIMP_INDEXED_CHANNEL (4), GIMP_ALPHA_CHANNEL (5) }"
argument_list|,
name|GIMP_TYPE_CHANNEL_TYPE
argument_list|,
name|GIMP_RED_CHANNEL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"name"
argument_list|,
literal|"name"
argument_list|,
literal|"The channel name"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_channel_id
argument_list|(
literal|"channel"
argument_list|,
literal|"channel"
argument_list|,
literal|"The newly created channel"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * channel_copy    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|channel_copy_proc
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_channel_id
argument_list|(
literal|"channel"
argument_list|,
literal|"channel"
argument_list|,
literal|"The channel to copy"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_channel_id
argument_list|(
literal|"channel-copy"
argument_list|,
literal|"channel copy"
argument_list|,
literal|"The newly copied channel"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * channel_combine_masks    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|channel_combine_masks_proc
argument_list|,
literal|5
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_channel_id
argument_list|(
literal|"channel1"
argument_list|,
literal|"channel1"
argument_list|,
literal|"The channel1"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_channel_id
argument_list|(
literal|"channel2"
argument_list|,
literal|"channel2"
argument_list|,
literal|"The channel2"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_enum
argument_list|(
literal|"operation"
argument_list|,
literal|"operation"
argument_list|,
literal|"The selection operation: { GIMP_CHANNEL_OP_ADD (0), GIMP_CHANNEL_OP_SUBTRACT (1), GIMP_CHANNEL_OP_REPLACE (2), GIMP_CHANNEL_OP_INTERSECT (3) }"
argument_list|,
name|GIMP_TYPE_CHANNEL_OPS
argument_list|,
name|GIMP_CHANNEL_OP_ADD
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"offx"
argument_list|,
literal|"offx"
argument_list|,
literal|"x offset between upper left corner of channels: (second - first)"
argument_list|,
name|G_MININT32
argument_list|,
name|G_MAXINT32
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"offy"
argument_list|,
literal|"offy"
argument_list|,
literal|"y offset between upper left corner of channels: (second - first)"
argument_list|,
name|G_MININT32
argument_list|,
name|G_MAXINT32
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * channel_get_show_masked    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|channel_get_show_masked_proc
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_channel_id
argument_list|(
literal|"channel"
argument_list|,
literal|"channel"
argument_list|,
literal|"The channel"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"show-masked"
argument_list|,
literal|"show masked"
argument_list|,
literal|"The channel composite method"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * channel_set_show_masked    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|channel_set_show_masked_proc
argument_list|,
literal|2
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_channel_id
argument_list|(
literal|"channel"
argument_list|,
literal|"channel"
argument_list|,
literal|"The channel"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"show-masked"
argument_list|,
literal|"show masked"
argument_list|,
literal|"The new channel composite method"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * channel_get_opacity    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|channel_get_opacity_proc
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_channel_id
argument_list|(
literal|"channel"
argument_list|,
literal|"channel"
argument_list|,
literal|"The channel"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"opacity"
argument_list|,
literal|"opacity"
argument_list|,
literal|"The channel opacity"
argument_list|,
literal|0
argument_list|,
literal|100
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * channel_set_opacity    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|channel_set_opacity_proc
argument_list|,
literal|2
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_channel_id
argument_list|(
literal|"channel"
argument_list|,
literal|"channel"
argument_list|,
literal|"The channel"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"opacity"
argument_list|,
literal|"opacity"
argument_list|,
literal|"The new channel opacity (0<= opacity<= 100)"
argument_list|,
literal|0
argument_list|,
literal|100
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * channel_get_color    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|channel_get_color_proc
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_channel_id
argument_list|(
literal|"channel"
argument_list|,
literal|"channel"
argument_list|,
literal|"The channel"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_rgb
argument_list|(
literal|"color"
argument_list|,
literal|"color"
argument_list|,
literal|"The channel compositing color"
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * channel_set_color    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|channel_set_color_proc
argument_list|,
literal|2
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_channel_id
argument_list|(
literal|"channel"
argument_list|,
literal|"channel"
argument_list|,
literal|"The channel"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_rgb
argument_list|(
literal|"color"
argument_list|,
literal|"color"
argument_list|,
literal|"The new channel compositing color"
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|GimpArgument
modifier|*
DECL|function|channel_new_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GimpArgument * args)
name|channel_new_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GimpArgument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpArgument
modifier|*
name|return_vals
decl_stmt|;
name|GimpImage
modifier|*
name|image
decl_stmt|;
name|gint32
name|width
decl_stmt|;
name|gint32
name|height
decl_stmt|;
specifier|const
name|gchar
modifier|*
name|name
decl_stmt|;
name|gdouble
name|opacity
decl_stmt|;
name|GimpRGB
name|color
decl_stmt|;
name|GimpChannel
modifier|*
name|channel
init|=
name|NULL
decl_stmt|;
name|image
operator|=
name|gimp_value_get_image
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|width
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
index|[
literal|1
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
name|height
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
index|[
literal|2
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
name|name
operator|=
name|g_value_get_string
argument_list|(
operator|&
name|args
index|[
literal|3
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
name|opacity
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
index|[
literal|4
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
name|gimp_value_get_rgb
argument_list|(
operator|&
name|args
index|[
literal|5
index|]
operator|.
name|value
argument_list|,
operator|&
name|color
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|GimpRGB
name|rgb_color
init|=
name|color
decl_stmt|;
name|rgb_color
operator|.
name|a
operator|=
name|opacity
operator|/
literal|100.0
expr_stmt|;
name|channel
operator|=
name|gimp_channel_new
argument_list|(
name|image
argument_list|,
name|width
argument_list|,
name|height
argument_list|,
name|name
argument_list|,
operator|&
name|rgb_color
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|channel
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_channel
argument_list|(
operator|&
name|return_vals
index|[
literal|1
index|]
operator|.
name|value
argument_list|,
name|channel
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|channel_new_proc
specifier|static
name|GimpProcedure
name|channel_new_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-channel-new"
block|,
literal|"gimp-channel-new"
block|,
literal|"Create a new channel."
block|,
literal|"This procedure creates a new channel with the specified width and height. Name, opacity, and color are also supplied parameters. The new channel still needs to be added to the image, as this is not automatic. Add the new channel with the 'gimp_image_add_channel' command. Other attributes such as channel show masked, should be set with explicit procedure calls. The channel's contents are undefined initially."
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"1995-1996"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|channel_new_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GimpArgument
modifier|*
DECL|function|channel_new_from_component_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GimpArgument * args)
name|channel_new_from_component_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GimpArgument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpArgument
modifier|*
name|return_vals
decl_stmt|;
name|GimpImage
modifier|*
name|image
decl_stmt|;
name|gint32
name|component
decl_stmt|;
specifier|const
name|gchar
modifier|*
name|name
decl_stmt|;
name|GimpChannel
modifier|*
name|channel
init|=
name|NULL
decl_stmt|;
name|image
operator|=
name|gimp_value_get_image
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|component
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
index|[
literal|1
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
name|name
operator|=
name|g_value_get_string
argument_list|(
operator|&
name|args
index|[
literal|2
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
if|if
condition|(
name|gimp_image_get_component_index
argument_list|(
name|image
argument_list|,
name|component
argument_list|)
operator|!=
operator|-
literal|1
condition|)
name|channel
operator|=
name|gimp_channel_new_from_component
argument_list|(
name|image
argument_list|,
name|component
argument_list|,
name|name
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
if|if
condition|(
name|channel
condition|)
name|gimp_item_set_visible
argument_list|(
name|GIMP_ITEM
argument_list|(
name|channel
argument_list|)
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
else|else
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_channel
argument_list|(
operator|&
name|return_vals
index|[
literal|1
index|]
operator|.
name|value
argument_list|,
name|channel
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|channel_new_from_component_proc
specifier|static
name|GimpProcedure
name|channel_new_from_component_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-channel-new-from-component"
block|,
literal|"gimp-channel-new-from-component"
block|,
literal|"Create a new channel from a color component"
block|,
literal|"This procedure creates a new channel from a color component."
block|,
literal|"Shlomi Fish<shlomif@iglu.org.il>"
block|,
literal|"Shlomi Fish"
block|,
literal|"2005"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|channel_new_from_component_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GimpArgument
modifier|*
DECL|function|channel_copy_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GimpArgument * args)
name|channel_copy_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GimpArgument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpArgument
modifier|*
name|return_vals
decl_stmt|;
name|GimpChannel
modifier|*
name|channel
decl_stmt|;
name|GimpChannel
modifier|*
name|channel_copy
init|=
name|NULL
decl_stmt|;
name|channel
operator|=
name|gimp_value_get_channel
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|channel_copy
operator|=
name|GIMP_CHANNEL
argument_list|(
name|gimp_item_duplicate
argument_list|(
name|GIMP_ITEM
argument_list|(
name|channel
argument_list|)
argument_list|,
name|G_TYPE_FROM_INSTANCE
argument_list|(
name|channel
argument_list|)
argument_list|,
name|FALSE
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|channel_copy
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_channel
argument_list|(
operator|&
name|return_vals
index|[
literal|1
index|]
operator|.
name|value
argument_list|,
name|channel_copy
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|channel_copy_proc
specifier|static
name|GimpProcedure
name|channel_copy_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-channel-copy"
block|,
literal|"gimp-channel-copy"
block|,
literal|"Copy a channel."
block|,
literal|"This procedure copies the specified channel and returns the copy."
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"1995-1996"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|channel_copy_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GimpArgument
modifier|*
DECL|function|channel_combine_masks_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GimpArgument * args)
name|channel_combine_masks_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GimpArgument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpChannel
modifier|*
name|channel1
decl_stmt|;
name|GimpChannel
modifier|*
name|channel2
decl_stmt|;
name|gint32
name|operation
decl_stmt|;
name|gint32
name|offx
decl_stmt|;
name|gint32
name|offy
decl_stmt|;
name|channel1
operator|=
name|gimp_value_get_channel
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|channel2
operator|=
name|gimp_value_get_channel
argument_list|(
operator|&
name|args
index|[
literal|1
index|]
operator|.
name|value
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|operation
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
index|[
literal|2
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
name|offx
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
index|[
literal|3
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
name|offy
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
index|[
literal|4
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gimp_channel_combine_mask
argument_list|(
name|channel1
argument_list|,
name|channel2
argument_list|,
name|operation
argument_list|,
name|offx
argument_list|,
name|offy
argument_list|)
expr_stmt|;
block|}
return|return
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|channel_combine_masks_proc
specifier|static
name|GimpProcedure
name|channel_combine_masks_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-channel-combine-masks"
block|,
literal|"gimp-channel-combine-masks"
block|,
literal|"Combine two channel masks."
block|,
literal|"This procedure combines two channel masks. The result is stored in the first channel."
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"1995-1996"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|channel_combine_masks_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GimpArgument
modifier|*
DECL|function|channel_get_show_masked_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GimpArgument * args)
name|channel_get_show_masked_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GimpArgument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpArgument
modifier|*
name|return_vals
decl_stmt|;
name|GimpChannel
modifier|*
name|channel
decl_stmt|;
name|gboolean
name|show_masked
init|=
name|FALSE
decl_stmt|;
name|channel
operator|=
name|gimp_value_get_channel
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|show_masked
operator|=
name|gimp_channel_get_show_masked
argument_list|(
name|channel
argument_list|)
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|g_value_set_boolean
argument_list|(
operator|&
name|return_vals
index|[
literal|1
index|]
operator|.
name|value
argument_list|,
name|show_masked
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|channel_get_show_masked_proc
specifier|static
name|GimpProcedure
name|channel_get_show_masked_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-channel-get-show-masked"
block|,
literal|"gimp-channel-get-show-masked"
block|,
literal|"Get the composite method of the specified channel."
block|,
literal|"This procedure returns the specified channel's composite method. If it is TRUE, then the channel is composited with the image so that masked regions are shown. Otherwise, selected regions are shown."
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"1995-1996"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|channel_get_show_masked_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GimpArgument
modifier|*
DECL|function|channel_set_show_masked_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GimpArgument * args)
name|channel_set_show_masked_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GimpArgument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpChannel
modifier|*
name|channel
decl_stmt|;
name|gboolean
name|show_masked
decl_stmt|;
name|channel
operator|=
name|gimp_value_get_channel
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|show_masked
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
index|[
literal|1
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gimp_channel_set_show_masked
argument_list|(
name|channel
argument_list|,
name|show_masked
argument_list|)
expr_stmt|;
block|}
return|return
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|channel_set_show_masked_proc
specifier|static
name|GimpProcedure
name|channel_set_show_masked_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-channel-set-show-masked"
block|,
literal|"gimp-channel-set-show-masked"
block|,
literal|"Set the composite method of the specified channel."
block|,
literal|"This procedure sets the specified channel's composite method. If it is TRUE, then the channel is composited with the image so that masked regions are shown. Otherwise, selected regions are shown."
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"1995-1996"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|channel_set_show_masked_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GimpArgument
modifier|*
DECL|function|channel_get_opacity_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GimpArgument * args)
name|channel_get_opacity_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GimpArgument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpArgument
modifier|*
name|return_vals
decl_stmt|;
name|GimpChannel
modifier|*
name|channel
decl_stmt|;
name|gdouble
name|opacity
init|=
literal|0.0
decl_stmt|;
name|channel
operator|=
name|gimp_value_get_channel
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|opacity
operator|=
name|gimp_channel_get_opacity
argument_list|(
name|channel
argument_list|)
operator|*
literal|100
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|g_value_set_double
argument_list|(
operator|&
name|return_vals
index|[
literal|1
index|]
operator|.
name|value
argument_list|,
name|opacity
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|channel_get_opacity_proc
specifier|static
name|GimpProcedure
name|channel_get_opacity_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-channel-get-opacity"
block|,
literal|"gimp-channel-get-opacity"
block|,
literal|"Get the opacity of the specified channel."
block|,
literal|"This procedure returns the specified channel's opacity."
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"1995-1996"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|channel_get_opacity_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GimpArgument
modifier|*
DECL|function|channel_set_opacity_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GimpArgument * args)
name|channel_set_opacity_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GimpArgument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpChannel
modifier|*
name|channel
decl_stmt|;
name|gdouble
name|opacity
decl_stmt|;
name|channel
operator|=
name|gimp_value_get_channel
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|opacity
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
index|[
literal|1
index|]
operator|.
name|value
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gimp_channel_set_opacity
argument_list|(
name|channel
argument_list|,
name|opacity
operator|/
literal|100.0
argument_list|,
name|TRUE
argument_list|)
expr_stmt|;
block|}
return|return
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|channel_set_opacity_proc
specifier|static
name|GimpProcedure
name|channel_set_opacity_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-channel-set-opacity"
block|,
literal|"gimp-channel-set-opacity"
block|,
literal|"Set the opacity of the specified channel."
block|,
literal|"This procedure sets the specified channel's opacity."
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"1995-1996"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|channel_set_opacity_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GimpArgument
modifier|*
DECL|function|channel_get_color_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GimpArgument * args)
name|channel_get_color_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GimpArgument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpArgument
modifier|*
name|return_vals
decl_stmt|;
name|GimpChannel
modifier|*
name|channel
decl_stmt|;
name|GimpRGB
name|color
init|=
block|{
literal|0.0
block|,
literal|0.0
block|,
literal|0.0
block|,
literal|1.0
block|}
decl_stmt|;
name|channel
operator|=
name|gimp_value_get_channel
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gimp_channel_get_color
argument_list|(
name|channel
argument_list|,
operator|&
name|color
argument_list|)
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_rgb
argument_list|(
operator|&
name|return_vals
index|[
literal|1
index|]
operator|.
name|value
argument_list|,
operator|&
name|color
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|channel_get_color_proc
specifier|static
name|GimpProcedure
name|channel_get_color_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-channel-get-color"
block|,
literal|"gimp-channel-get-color"
block|,
literal|"Get the compositing color of the specified channel."
block|,
literal|"This procedure returns the specified channel's compositing color."
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"1995-1996"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|channel_get_color_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GimpArgument
modifier|*
DECL|function|channel_set_color_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GimpArgument * args)
name|channel_set_color_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GimpArgument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GimpChannel
modifier|*
name|channel
decl_stmt|;
name|GimpRGB
name|color
decl_stmt|;
name|channel
operator|=
name|gimp_value_get_channel
argument_list|(
operator|&
name|args
index|[
literal|0
index|]
operator|.
name|value
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|gimp_value_get_rgb
argument_list|(
operator|&
name|args
index|[
literal|1
index|]
operator|.
name|value
argument_list|,
operator|&
name|color
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|GimpRGB
name|rgb_color
init|=
name|color
decl_stmt|;
name|rgb_color
operator|.
name|a
operator|=
name|channel
operator|->
name|color
operator|.
name|a
expr_stmt|;
name|gimp_channel_set_color
argument_list|(
name|channel
argument_list|,
operator|&
name|rgb_color
argument_list|,
name|TRUE
argument_list|)
expr_stmt|;
block|}
return|return
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|channel_set_color_proc
specifier|static
name|GimpProcedure
name|channel_set_color_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-channel-set-color"
block|,
literal|"gimp-channel-set-color"
block|,
literal|"Set the compositing color of the specified channel."
block|,
literal|"This procedure sets the specified channel's compositing color."
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"Spencer Kimball& Peter Mattis"
block|,
literal|"1995-1996"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|channel_set_color_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

end_unit


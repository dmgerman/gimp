begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* The GIMP -- an image manipulation program  * Copyright (C) 1995-2003 Spencer Kimball and Peter Mattis  *  * This program is free software; you can redistribute it and/or modify  * it under the terms of the GNU General Public License as published by  * the Free Software Foundation; either version 2 of the License, or  * (at your option) any later version.  *  * This program is distributed in the hope that it will be useful,  * but WITHOUT ANY WARRANTY; without even the implied warranty of  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the  * GNU General Public License for more details.  *  * You should have received a copy of the GNU General Public License  * along with this program; if not, write to the Free Software  * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */
end_comment

begin_comment
comment|/* NOTE: This file is autogenerated by pdbgen.pl. */
end_comment

begin_include
include|#
directive|include
file|"config.h"
end_include

begin_include
include|#
directive|include
file|<glib-object.h>
end_include

begin_include
include|#
directive|include
file|"libgimpcolor/gimpcolor.h"
end_include

begin_include
include|#
directive|include
file|"pdb-types.h"
end_include

begin_include
include|#
directive|include
file|"procedural_db.h"
end_include

begin_include
include|#
directive|include
file|"core/gimp.h"
end_include

begin_include
include|#
directive|include
file|"core/gimpcontainer.h"
end_include

begin_include
include|#
directive|include
file|"core/gimpcontext.h"
end_include

begin_include
include|#
directive|include
file|"core/gimpdatafactory.h"
end_include

begin_include
include|#
directive|include
file|"plug-in/plug-in-context.h"
end_include

begin_include
include|#
directive|include
file|"plug-in/plug-in.h"
end_include

begin_decl_stmt
DECL|variable|context_push_proc
specifier|static
name|ProcRecord
name|context_push_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_pop_proc
specifier|static
name|ProcRecord
name|context_pop_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_get_foreground_proc
specifier|static
name|ProcRecord
name|context_get_foreground_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_set_foreground_proc
specifier|static
name|ProcRecord
name|context_set_foreground_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_get_background_proc
specifier|static
name|ProcRecord
name|context_get_background_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_set_background_proc
specifier|static
name|ProcRecord
name|context_set_background_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_set_default_colors_proc
specifier|static
name|ProcRecord
name|context_set_default_colors_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_swap_colors_proc
specifier|static
name|ProcRecord
name|context_swap_colors_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_get_opacity_proc
specifier|static
name|ProcRecord
name|context_get_opacity_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_set_opacity_proc
specifier|static
name|ProcRecord
name|context_set_opacity_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_get_paint_mode_proc
specifier|static
name|ProcRecord
name|context_get_paint_mode_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_set_paint_mode_proc
specifier|static
name|ProcRecord
name|context_set_paint_mode_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_get_brush_proc
specifier|static
name|ProcRecord
name|context_get_brush_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_set_brush_proc
specifier|static
name|ProcRecord
name|context_set_brush_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_get_pattern_proc
specifier|static
name|ProcRecord
name|context_get_pattern_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_set_pattern_proc
specifier|static
name|ProcRecord
name|context_set_pattern_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_get_gradient_proc
specifier|static
name|ProcRecord
name|context_get_gradient_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_set_gradient_proc
specifier|static
name|ProcRecord
name|context_set_gradient_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_get_palette_proc
specifier|static
name|ProcRecord
name|context_get_palette_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_set_palette_proc
specifier|static
name|ProcRecord
name|context_set_palette_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_get_font_proc
specifier|static
name|ProcRecord
name|context_get_font_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_set_font_proc
specifier|static
name|ProcRecord
name|context_set_font_proc
decl_stmt|;
end_decl_stmt

begin_function
name|void
DECL|function|register_context_procs (Gimp * gimp)
name|register_context_procs
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|)
block|{
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_push_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_pop_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_get_foreground_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_set_foreground_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_get_background_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_set_background_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_set_default_colors_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_swap_colors_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_get_opacity_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_set_opacity_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_get_paint_mode_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_set_paint_mode_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_get_brush_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_set_brush_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_get_pattern_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_set_pattern_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_get_gradient_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_set_gradient_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_get_palette_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_set_palette_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_get_font_proc
argument_list|)
expr_stmt|;
name|procedural_db_register
argument_list|(
name|gimp
argument_list|,
operator|&
name|context_set_font_proc
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_push_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_push_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
if|if
condition|(
name|gimp
operator|->
name|current_plug_in
operator|&&
name|gimp
operator|->
name|current_plug_in
operator|->
name|open
condition|)
block|{
name|success
operator|=
name|plug_in_context_push
argument_list|(
name|gimp
operator|->
name|current_plug_in
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|context_push_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_push_proc
specifier|static
name|ProcRecord
name|context_push_proc
init|=
block|{
literal|"gimp-context-push"
block|,
literal|"gimp-context-push"
block|,
literal|"Pushes a context to the top of the plug-in's context stack."
block|,
literal|"This procedure creates a new context by copying the current context. This copy becomes the new current context for the calling plug-in until it is popped again."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|context_push_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_pop_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_pop_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
if|if
condition|(
name|gimp
operator|->
name|current_plug_in
operator|&&
name|gimp
operator|->
name|current_plug_in
operator|->
name|open
condition|)
block|{
name|success
operator|=
name|plug_in_context_pop
argument_list|(
name|gimp
operator|->
name|current_plug_in
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|context_pop_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_pop_proc
specifier|static
name|ProcRecord
name|context_pop_proc
init|=
block|{
literal|"gimp-context-pop"
block|,
literal|"gimp-context-pop"
block|,
literal|"Pops the topmost context from the plug-in's context stack."
block|,
literal|"This procedure creates a new context and makes it the current context for the calling plug-in."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|context_pop_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_get_foreground_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_get_foreground_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpRGB
name|color
decl_stmt|;
name|gimp_context_get_foreground
argument_list|(
name|context
argument_list|,
operator|&
name|color
argument_list|)
expr_stmt|;
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|context_get_foreground_proc
argument_list|,
name|TRUE
argument_list|)
expr_stmt|;
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_color
operator|=
name|color
expr_stmt|;
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_get_foreground_outargs
specifier|static
name|ProcArg
name|context_get_foreground_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_COLOR
block|,
literal|"foreground"
block|,
literal|"The foreground color"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_get_foreground_proc
specifier|static
name|ProcRecord
name|context_get_foreground_proc
init|=
block|{
literal|"gimp-context-get-foreground"
block|,
literal|"gimp-context-get-foreground"
block|,
literal|"Get the current GIMP foreground color."
block|,
literal|"This procedure returns the current GIMP foreground color. The foreground color is used in a variety of tools such as paint tools, blending, and bucket fill."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|1
block|,
name|context_get_foreground_outargs
block|,
block|{
block|{
name|context_get_foreground_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_set_foreground_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_set_foreground_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|GimpRGB
name|color
decl_stmt|;
name|color
operator|=
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_color
expr_stmt|;
name|gimp_rgb_set_alpha
argument_list|(
operator|&
name|color
argument_list|,
literal|1.0
argument_list|)
expr_stmt|;
name|gimp_context_set_foreground
argument_list|(
name|context
argument_list|,
operator|&
name|color
argument_list|)
expr_stmt|;
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|context_set_foreground_proc
argument_list|,
name|TRUE
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_set_foreground_inargs
specifier|static
name|ProcArg
name|context_set_foreground_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_COLOR
block|,
literal|"foreground"
block|,
literal|"The foreground color"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_set_foreground_proc
specifier|static
name|ProcRecord
name|context_set_foreground_proc
init|=
block|{
literal|"gimp-context-set-foreground"
block|,
literal|"gimp-context-set-foreground"
block|,
literal|"Set the current GIMP foreground color."
block|,
literal|"This procedure sets the current GIMP foreground color. After this is set, operations which use foreground such as paint tools, blending, and bucket fill will use the new value."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|1
block|,
name|context_set_foreground_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|context_set_foreground_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_get_background_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_get_background_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpRGB
name|color
decl_stmt|;
name|gimp_context_get_background
argument_list|(
name|context
argument_list|,
operator|&
name|color
argument_list|)
expr_stmt|;
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|context_get_background_proc
argument_list|,
name|TRUE
argument_list|)
expr_stmt|;
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_color
operator|=
name|color
expr_stmt|;
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_get_background_outargs
specifier|static
name|ProcArg
name|context_get_background_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_COLOR
block|,
literal|"background"
block|,
literal|"The background color"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_get_background_proc
specifier|static
name|ProcRecord
name|context_get_background_proc
init|=
block|{
literal|"gimp-context-get-background"
block|,
literal|"gimp-context-get-background"
block|,
literal|"Get the current GIMP background color."
block|,
literal|"This procedure returns the current GIMP background color. The background color is used in a variety of tools such as blending, erasing (with non-alpha images), and image filling."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|1
block|,
name|context_get_background_outargs
block|,
block|{
block|{
name|context_get_background_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_set_background_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_set_background_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|GimpRGB
name|color
decl_stmt|;
name|color
operator|=
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_color
expr_stmt|;
name|gimp_rgb_set_alpha
argument_list|(
operator|&
name|color
argument_list|,
literal|1.0
argument_list|)
expr_stmt|;
name|gimp_context_set_background
argument_list|(
name|context
argument_list|,
operator|&
name|color
argument_list|)
expr_stmt|;
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|context_set_background_proc
argument_list|,
name|TRUE
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_set_background_inargs
specifier|static
name|ProcArg
name|context_set_background_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_COLOR
block|,
literal|"background"
block|,
literal|"The background color"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_set_background_proc
specifier|static
name|ProcRecord
name|context_set_background_proc
init|=
block|{
literal|"gimp-context-set-background"
block|,
literal|"gimp-context-set-background"
block|,
literal|"Set the current GIMP background color."
block|,
literal|"This procedure sets the current GIMP background color. After this is set, operations which use background such as blending, filling images, clearing, and erasing (in non-alpha images) will use the new value."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|1
block|,
name|context_set_background_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|context_set_background_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_set_default_colors_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_set_default_colors_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gimp_context_set_default_colors
argument_list|(
name|context
argument_list|)
expr_stmt|;
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|context_set_default_colors_proc
argument_list|,
name|TRUE
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_set_default_colors_proc
specifier|static
name|ProcRecord
name|context_set_default_colors_proc
init|=
block|{
literal|"gimp-context-set-default-colors"
block|,
literal|"gimp-context-set-default-colors"
block|,
literal|"Set the current GIMP foreground and background colors to black and white."
block|,
literal|"This procedure sets the current GIMP foreground and background colors to their initial default values, black and white."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|context_set_default_colors_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_swap_colors_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_swap_colors_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gimp_context_swap_colors
argument_list|(
name|context
argument_list|)
expr_stmt|;
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|context_swap_colors_proc
argument_list|,
name|TRUE
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_swap_colors_proc
specifier|static
name|ProcRecord
name|context_swap_colors_proc
init|=
block|{
literal|"gimp-context-swap-colors"
block|,
literal|"gimp-context-swap-colors"
block|,
literal|"Swap the current GIMP foreground and background colors."
block|,
literal|"This procedure swaps the current GIMP foreground and background colors, so that the new foreground color becomes the old background color and vice versa."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|context_swap_colors_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_get_opacity_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_get_opacity_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|context_get_opacity_proc
argument_list|,
name|TRUE
argument_list|)
expr_stmt|;
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_float
operator|=
name|gimp_context_get_opacity
argument_list|(
name|context
argument_list|)
operator|*
literal|100.0
expr_stmt|;
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_get_opacity_outargs
specifier|static
name|ProcArg
name|context_get_opacity_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"opacity"
block|,
literal|"The opacity: 0<= opacity<= 100"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_get_opacity_proc
specifier|static
name|ProcRecord
name|context_get_opacity_proc
init|=
block|{
literal|"gimp-context-get-opacity"
block|,
literal|"gimp-context-get-opacity"
block|,
literal|"Get the opacity."
block|,
literal|"This procedure returns the opacity setting. The return value is a floating point number between 0 and 100."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|1
block|,
name|context_get_opacity_outargs
block|,
block|{
block|{
name|context_get_opacity_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_set_opacity_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_set_opacity_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|gdouble
name|opacity
decl_stmt|;
name|opacity
operator|=
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_float
expr_stmt|;
if|if
condition|(
name|opacity
operator|<
literal|0.0
operator|||
name|opacity
operator|>
literal|100.0
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_context_set_opacity
argument_list|(
name|context
argument_list|,
name|opacity
operator|/
literal|100.0
argument_list|)
expr_stmt|;
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|context_set_opacity_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_set_opacity_inargs
specifier|static
name|ProcArg
name|context_set_opacity_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_FLOAT
block|,
literal|"opacity"
block|,
literal|"The opacity: 0<= opacity<= 100"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_set_opacity_proc
specifier|static
name|ProcRecord
name|context_set_opacity_proc
init|=
block|{
literal|"gimp-context-set-opacity"
block|,
literal|"gimp-context-set-opacity"
block|,
literal|"Set the opacity."
block|,
literal|"This procedure modifies the opacity setting. The value should be a floating point number between 0 and 100."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|1
block|,
name|context_set_opacity_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|context_set_opacity_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_get_paint_mode_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_get_paint_mode_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|context_get_paint_mode_proc
argument_list|,
name|TRUE
argument_list|)
expr_stmt|;
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_int
operator|=
name|gimp_context_get_paint_mode
argument_list|(
name|context
argument_list|)
expr_stmt|;
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_get_paint_mode_outargs
specifier|static
name|ProcArg
name|context_get_paint_mode_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_INT32
block|,
literal|"paint_mode"
block|,
literal|"The paint mode: { GIMP_NORMAL_MODE (0), GIMP_DISSOLVE_MODE (1), GIMP_BEHIND_MODE (2), GIMP_MULTIPLY_MODE (3), GIMP_SCREEN_MODE (4), GIMP_OVERLAY_MODE (5), GIMP_DIFFERENCE_MODE (6), GIMP_ADDITION_MODE (7), GIMP_SUBTRACT_MODE (8), GIMP_DARKEN_ONLY_MODE (9), GIMP_LIGHTEN_ONLY_MODE (10), GIMP_HUE_MODE (11), GIMP_SATURATION_MODE (12), GIMP_COLOR_MODE (13), GIMP_VALUE_MODE (14), GIMP_DIVIDE_MODE (15), GIMP_DODGE_MODE (16), GIMP_BURN_MODE (17), GIMP_HARDLIGHT_MODE (18), GIMP_SOFTLIGHT_MODE (19), GIMP_GRAIN_EXTRACT_MODE (20), GIMP_GRAIN_MERGE_MODE (21), GIMP_COLOR_ERASE_MODE (22) }"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_get_paint_mode_proc
specifier|static
name|ProcRecord
name|context_get_paint_mode_proc
init|=
block|{
literal|"gimp-context-get-paint-mode"
block|,
literal|"gimp-context-get-paint-mode"
block|,
literal|"Get the paint mode."
block|,
literal|"This procedure returns the paint-mode setting. The return value is an integer which corresponds to the values listed in the argument description."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|1
block|,
name|context_get_paint_mode_outargs
block|,
block|{
block|{
name|context_get_paint_mode_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_set_paint_mode_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_set_paint_mode_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|gint32
name|paint_mode
decl_stmt|;
name|paint_mode
operator|=
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_int
expr_stmt|;
if|if
condition|(
name|paint_mode
operator|<
name|GIMP_NORMAL_MODE
operator|||
name|paint_mode
operator|>
name|GIMP_COLOR_ERASE_MODE
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_context_set_paint_mode
argument_list|(
name|context
argument_list|,
name|paint_mode
argument_list|)
expr_stmt|;
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|context_set_paint_mode_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_set_paint_mode_inargs
specifier|static
name|ProcArg
name|context_set_paint_mode_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_INT32
block|,
literal|"paint_mode"
block|,
literal|"The paint mode: { GIMP_NORMAL_MODE (0), GIMP_DISSOLVE_MODE (1), GIMP_BEHIND_MODE (2), GIMP_MULTIPLY_MODE (3), GIMP_SCREEN_MODE (4), GIMP_OVERLAY_MODE (5), GIMP_DIFFERENCE_MODE (6), GIMP_ADDITION_MODE (7), GIMP_SUBTRACT_MODE (8), GIMP_DARKEN_ONLY_MODE (9), GIMP_LIGHTEN_ONLY_MODE (10), GIMP_HUE_MODE (11), GIMP_SATURATION_MODE (12), GIMP_COLOR_MODE (13), GIMP_VALUE_MODE (14), GIMP_DIVIDE_MODE (15), GIMP_DODGE_MODE (16), GIMP_BURN_MODE (17), GIMP_HARDLIGHT_MODE (18), GIMP_SOFTLIGHT_MODE (19), GIMP_GRAIN_EXTRACT_MODE (20), GIMP_GRAIN_MERGE_MODE (21), GIMP_COLOR_ERASE_MODE (22) }"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_set_paint_mode_proc
specifier|static
name|ProcRecord
name|context_set_paint_mode_proc
init|=
block|{
literal|"gimp-context-set-paint-mode"
block|,
literal|"gimp-context-set-paint-mode"
block|,
literal|"Set the paint mode."
block|,
literal|"This procedure modifies the paint_mode setting."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|1
block|,
name|context_set_paint_mode_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|context_set_paint_mode_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_get_brush_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_get_brush_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpBrush
modifier|*
name|brush
decl_stmt|;
name|success
operator|=
operator|(
name|brush
operator|=
name|gimp_context_get_brush
argument_list|(
name|context
argument_list|)
operator|)
operator|!=
name|NULL
expr_stmt|;
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|context_get_brush_proc
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_pointer
operator|=
name|g_strdup
argument_list|(
name|gimp_object_get_name
argument_list|(
name|GIMP_OBJECT
argument_list|(
name|brush
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_get_brush_outargs
specifier|static
name|ProcArg
name|context_get_brush_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_STRING
block|,
literal|"name"
block|,
literal|"The name of the active brush"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_get_brush_proc
specifier|static
name|ProcRecord
name|context_get_brush_proc
init|=
block|{
literal|"gimp-context-get-brush"
block|,
literal|"gimp-context-get-brush"
block|,
literal|"Retrieve the currently active brush."
block|,
literal|"This procedure returns the nme of the currently active brush. All paint operations and stroke operations use this brush to control the application of paint to the image."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|1
block|,
name|context_get_brush_outargs
block|,
block|{
block|{
name|context_get_brush_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_set_brush_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_set_brush_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|gchar
modifier|*
name|name
decl_stmt|;
name|GimpBrush
modifier|*
name|brush
decl_stmt|;
name|name
operator|=
operator|(
name|gchar
operator|*
operator|)
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_pointer
expr_stmt|;
if|if
condition|(
name|name
operator|==
name|NULL
operator|||
operator|!
name|g_utf8_validate
argument_list|(
name|name
argument_list|,
operator|-
literal|1
argument_list|,
name|NULL
argument_list|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|brush
operator|=
operator|(
name|GimpBrush
operator|*
operator|)
name|gimp_container_get_child_by_name
argument_list|(
name|gimp
operator|->
name|brush_factory
operator|->
name|container
argument_list|,
name|name
argument_list|)
expr_stmt|;
if|if
condition|(
name|brush
condition|)
name|gimp_context_set_brush
argument_list|(
name|context
argument_list|,
name|brush
argument_list|)
expr_stmt|;
else|else
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|context_set_brush_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_set_brush_inargs
specifier|static
name|ProcArg
name|context_set_brush_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_STRING
block|,
literal|"name"
block|,
literal|"The name o the brush"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_set_brush_proc
specifier|static
name|ProcRecord
name|context_set_brush_proc
init|=
block|{
literal|"gimp-context-set-brush"
block|,
literal|"gimp-context-set-brush"
block|,
literal|"Set the specified brush as the active brush."
block|,
literal|"This procedure allows the active brush to be set by specifying its name. The name is simply a string which corresponds to one of the names of the installed brushes. If there is no matching brush found, this procedure will return an error. Otherwise, the specified brush becomes active and will be used in all subsequent paint operations."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|1
block|,
name|context_set_brush_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|context_set_brush_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_get_pattern_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_get_pattern_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpPattern
modifier|*
name|pattern
decl_stmt|;
name|success
operator|=
operator|(
name|pattern
operator|=
name|gimp_context_get_pattern
argument_list|(
name|context
argument_list|)
operator|)
operator|!=
name|NULL
expr_stmt|;
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|context_get_pattern_proc
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_pointer
operator|=
name|g_strdup
argument_list|(
name|gimp_object_get_name
argument_list|(
name|GIMP_OBJECT
argument_list|(
name|pattern
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_get_pattern_outargs
specifier|static
name|ProcArg
name|context_get_pattern_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_STRING
block|,
literal|"name"
block|,
literal|"The name of the active pattern"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_get_pattern_proc
specifier|static
name|ProcRecord
name|context_get_pattern_proc
init|=
block|{
literal|"gimp-context-get-pattern"
block|,
literal|"gimp-context-get-pattern"
block|,
literal|"Retrieve the currently active pattern."
block|,
literal|"This procedure returns name of the the currently active pattern. All clone and bucket-fill operations with patterns will use this pattern to control the application of paint to the image."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|1
block|,
name|context_get_pattern_outargs
block|,
block|{
block|{
name|context_get_pattern_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_set_pattern_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_set_pattern_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|gchar
modifier|*
name|name
decl_stmt|;
name|GimpPattern
modifier|*
name|pattern
decl_stmt|;
name|name
operator|=
operator|(
name|gchar
operator|*
operator|)
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_pointer
expr_stmt|;
if|if
condition|(
name|name
operator|==
name|NULL
operator|||
operator|!
name|g_utf8_validate
argument_list|(
name|name
argument_list|,
operator|-
literal|1
argument_list|,
name|NULL
argument_list|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|pattern
operator|=
operator|(
name|GimpPattern
operator|*
operator|)
name|gimp_container_get_child_by_name
argument_list|(
name|gimp
operator|->
name|pattern_factory
operator|->
name|container
argument_list|,
name|name
argument_list|)
expr_stmt|;
if|if
condition|(
name|pattern
condition|)
name|gimp_context_set_pattern
argument_list|(
name|context
argument_list|,
name|pattern
argument_list|)
expr_stmt|;
else|else
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|context_set_pattern_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_set_pattern_inargs
specifier|static
name|ProcArg
name|context_set_pattern_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_STRING
block|,
literal|"name"
block|,
literal|"The name of the pattern"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_set_pattern_proc
specifier|static
name|ProcRecord
name|context_set_pattern_proc
init|=
block|{
literal|"gimp-context-set-pattern"
block|,
literal|"gimp-context-set-pattern"
block|,
literal|"Set the specified pattern as the active pattern."
block|,
literal|"This procedure allows the active pattern to be set by specifying its name. The name is simply a string which corresponds to one of the names of the installed patterns. If there is no matching pattern found, this procedure will return an error. Otherwise, the specified pattern becomes active and will be used in all subsequent paint operations."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|1
block|,
name|context_set_pattern_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|context_set_pattern_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_get_gradient_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_get_gradient_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpGradient
modifier|*
name|gradient
decl_stmt|;
name|success
operator|=
operator|(
name|gradient
operator|=
name|gimp_context_get_gradient
argument_list|(
name|context
argument_list|)
operator|)
operator|!=
name|NULL
expr_stmt|;
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|context_get_gradient_proc
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_pointer
operator|=
name|g_strdup
argument_list|(
name|gimp_object_get_name
argument_list|(
name|GIMP_OBJECT
argument_list|(
name|gradient
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_get_gradient_outargs
specifier|static
name|ProcArg
name|context_get_gradient_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_STRING
block|,
literal|"name"
block|,
literal|"The name of the active gradient"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_get_gradient_proc
specifier|static
name|ProcRecord
name|context_get_gradient_proc
init|=
block|{
literal|"gimp-context-get-gradient"
block|,
literal|"gimp-context-get-gradient"
block|,
literal|"Retrieve the currently active gradient."
block|,
literal|"This procedure returns the name of the currently active gradient."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|1
block|,
name|context_get_gradient_outargs
block|,
block|{
block|{
name|context_get_gradient_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_set_gradient_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_set_gradient_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|gchar
modifier|*
name|name
decl_stmt|;
name|GimpGradient
modifier|*
name|gradient
decl_stmt|;
name|name
operator|=
operator|(
name|gchar
operator|*
operator|)
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_pointer
expr_stmt|;
if|if
condition|(
name|name
operator|==
name|NULL
operator|||
operator|!
name|g_utf8_validate
argument_list|(
name|name
argument_list|,
operator|-
literal|1
argument_list|,
name|NULL
argument_list|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gradient
operator|=
operator|(
name|GimpGradient
operator|*
operator|)
name|gimp_container_get_child_by_name
argument_list|(
name|gimp
operator|->
name|gradient_factory
operator|->
name|container
argument_list|,
name|name
argument_list|)
expr_stmt|;
if|if
condition|(
name|gradient
condition|)
name|gimp_context_set_gradient
argument_list|(
name|context
argument_list|,
name|gradient
argument_list|)
expr_stmt|;
else|else
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|context_set_gradient_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_set_gradient_inargs
specifier|static
name|ProcArg
name|context_set_gradient_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_STRING
block|,
literal|"name"
block|,
literal|"The name of the gradient"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_set_gradient_proc
specifier|static
name|ProcRecord
name|context_set_gradient_proc
init|=
block|{
literal|"gimp-context-set-gradient"
block|,
literal|"gimp-context-set-gradient"
block|,
literal|"Sets the specified gradient as the active gradient."
block|,
literal|"This procedure lets you set the specified gradient as the active or \"current\" one. The name is simply a string which corresponds to one of the loaded gradients. If no matching gradient is found, this procedure will return an error. Otherwise, the specified gradient will become active and will be used for subsequent custom gradient operations."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|1
block|,
name|context_set_gradient_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|context_set_gradient_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_get_palette_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_get_palette_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpPalette
modifier|*
name|palette
decl_stmt|;
name|success
operator|=
operator|(
name|palette
operator|=
name|gimp_context_get_palette
argument_list|(
name|context
argument_list|)
operator|)
operator|!=
name|NULL
expr_stmt|;
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|context_get_palette_proc
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_pointer
operator|=
name|g_strdup
argument_list|(
name|gimp_object_get_name
argument_list|(
name|GIMP_OBJECT
argument_list|(
name|palette
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_get_palette_outargs
specifier|static
name|ProcArg
name|context_get_palette_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_STRING
block|,
literal|"name"
block|,
literal|"The name of the active palette"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_get_palette_proc
specifier|static
name|ProcRecord
name|context_get_palette_proc
init|=
block|{
literal|"gimp-context-get-palette"
block|,
literal|"gimp-context-get-palette"
block|,
literal|"Retrieve the currently active palette."
block|,
literal|"This procedure returns the name of the the currently active palette."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|1
block|,
name|context_get_palette_outargs
block|,
block|{
block|{
name|context_get_palette_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_set_palette_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_set_palette_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|gchar
modifier|*
name|name
decl_stmt|;
name|GimpPalette
modifier|*
name|palette
decl_stmt|;
name|name
operator|=
operator|(
name|gchar
operator|*
operator|)
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_pointer
expr_stmt|;
if|if
condition|(
name|name
operator|==
name|NULL
operator|||
operator|!
name|g_utf8_validate
argument_list|(
name|name
argument_list|,
operator|-
literal|1
argument_list|,
name|NULL
argument_list|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|palette
operator|=
operator|(
name|GimpPalette
operator|*
operator|)
name|gimp_container_get_child_by_name
argument_list|(
name|gimp
operator|->
name|palette_factory
operator|->
name|container
argument_list|,
name|name
argument_list|)
expr_stmt|;
if|if
condition|(
name|palette
condition|)
name|gimp_context_set_palette
argument_list|(
name|context
argument_list|,
name|palette
argument_list|)
expr_stmt|;
else|else
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|context_set_palette_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_set_palette_inargs
specifier|static
name|ProcArg
name|context_set_palette_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_STRING
block|,
literal|"name"
block|,
literal|"The name of the palette"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_set_palette_proc
specifier|static
name|ProcRecord
name|context_set_palette_proc
init|=
block|{
literal|"gimp-context-set-palette"
block|,
literal|"gimp-context-set-palette"
block|,
literal|"Set the specified palette as the active palette."
block|,
literal|"This procedure allows the active palette to be set by specifying its name. The name is simply a string which corresponds to one of the names of the installed palettes. If no matching palette is found, this procedure will return an error. Otherwise, the specified palette becomes active and will be used in all subsequent palette operations."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|1
block|,
name|context_set_palette_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|context_set_palette_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_get_font_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_get_font_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|Argument
modifier|*
name|return_args
decl_stmt|;
name|GimpFont
modifier|*
name|font
decl_stmt|;
name|success
operator|=
operator|(
name|font
operator|=
name|gimp_context_get_font
argument_list|(
name|context
argument_list|)
operator|)
operator|!=
name|NULL
expr_stmt|;
name|return_args
operator|=
name|procedural_db_return_args
argument_list|(
operator|&
name|context_get_font_proc
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|return_args
index|[
literal|1
index|]
operator|.
name|value
operator|.
name|pdb_pointer
operator|=
name|g_strdup
argument_list|(
name|gimp_object_get_name
argument_list|(
name|GIMP_OBJECT
argument_list|(
name|font
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|return_args
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_get_font_outargs
specifier|static
name|ProcArg
name|context_get_font_outargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_STRING
block|,
literal|"name"
block|,
literal|"The name of the active font"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_get_font_proc
specifier|static
name|ProcRecord
name|context_get_font_proc
init|=
block|{
literal|"gimp-context-get-font"
block|,
literal|"gimp-context-get-font"
block|,
literal|"Retrieve the currently active font."
block|,
literal|"This procedure returns the name of the currently active font."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|1
block|,
name|context_get_font_outargs
block|,
block|{
block|{
name|context_get_font_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|Argument
modifier|*
DECL|function|context_set_font_invoker (Gimp * gimp,GimpContext * context,GimpProgress * progress,Argument * args)
name|context_set_font_invoker
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
name|Argument
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|gchar
modifier|*
name|name
decl_stmt|;
name|GimpFont
modifier|*
name|font
decl_stmt|;
name|name
operator|=
operator|(
name|gchar
operator|*
operator|)
name|args
index|[
literal|0
index|]
operator|.
name|value
operator|.
name|pdb_pointer
expr_stmt|;
if|if
condition|(
name|name
operator|==
name|NULL
operator|||
operator|!
name|g_utf8_validate
argument_list|(
name|name
argument_list|,
operator|-
literal|1
argument_list|,
name|NULL
argument_list|)
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|font
operator|=
operator|(
name|GimpFont
operator|*
operator|)
name|gimp_container_get_child_by_name
argument_list|(
name|gimp
operator|->
name|fonts
argument_list|,
name|name
argument_list|)
expr_stmt|;
if|if
condition|(
name|font
condition|)
name|gimp_context_set_font
argument_list|(
name|context
argument_list|,
name|font
argument_list|)
expr_stmt|;
else|else
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
return|return
name|procedural_db_return_args
argument_list|(
operator|&
name|context_set_font_proc
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|context_set_font_inargs
specifier|static
name|ProcArg
name|context_set_font_inargs
index|[]
init|=
block|{
block|{
name|GIMP_PDB_STRING
block|,
literal|"name"
block|,
literal|"The name of the font"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|context_set_font_proc
specifier|static
name|ProcRecord
name|context_set_font_proc
init|=
block|{
literal|"gimp-context-set-font"
block|,
literal|"gimp-context-set-font"
block|,
literal|"Set the specified font as the active font."
block|,
literal|"This procedure allows the active font to be set by specifying its name. The name is simply a string which corresponds to one of the names of the installed fonts. If no matching font is found, this procedure will return an error. Otherwise, the specified font becomes active and will be used in all subsequent font operations."
block|,
literal|"Michael Natterer<mitch@gimp.org>& Sven Neumann<sven@gimp.org>"
block|,
literal|"Michael Natterer& Sven Neumann"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|1
block|,
name|context_set_font_inargs
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|context_set_font_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

end_unit


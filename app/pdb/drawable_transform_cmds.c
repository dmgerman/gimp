begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* The GIMP -- an image manipulation program  * Copyright (C) 1995-2003 Spencer Kimball and Peter Mattis  *  * This program is free software; you can redistribute it and/or modify  * it under the terms of the GNU General Public License as published by  * the Free Software Foundation; either version 2 of the License, or  * (at your option) any later version.  *  * This program is distributed in the hope that it will be useful,  * but WITHOUT ANY WARRANTY; without even the implied warranty of  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the  * GNU General Public License for more details.  *  * You should have received a copy of the GNU General Public License  * along with this program; if not, write to the Free Software  * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */
end_comment

begin_comment
comment|/* NOTE: This file is autogenerated by pdbgen.pl. */
end_comment

begin_include
include|#
directive|include
file|"config.h"
end_include

begin_include
include|#
directive|include
file|<glib-object.h>
end_include

begin_include
include|#
directive|include
file|"libgimpmath/gimpmath.h"
end_include

begin_include
include|#
directive|include
file|"pdb-types.h"
end_include

begin_include
include|#
directive|include
file|"gimp-pdb.h"
end_include

begin_include
include|#
directive|include
file|"gimpprocedure.h"
end_include

begin_include
include|#
directive|include
file|"core/gimpparamspecs.h"
end_include

begin_include
include|#
directive|include
file|"config/gimpcoreconfig.h"
end_include

begin_include
include|#
directive|include
file|"core/gimp-transform-utils.h"
end_include

begin_include
include|#
directive|include
file|"core/gimp.h"
end_include

begin_include
include|#
directive|include
file|"core/gimpdrawable-transform.h"
end_include

begin_include
include|#
directive|include
file|"core/gimpdrawable.h"
end_include

begin_include
include|#
directive|include
file|"core/gimpimage.h"
end_include

begin_include
include|#
directive|include
file|"core/gimpprogress.h"
end_include

begin_include
include|#
directive|include
file|"gimp-intl.h"
end_include

begin_decl_stmt
DECL|variable|drawable_transform_flip_simple_proc
specifier|static
name|GimpProcedure
name|drawable_transform_flip_simple_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|drawable_transform_flip_proc
specifier|static
name|GimpProcedure
name|drawable_transform_flip_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|drawable_transform_flip_default_proc
specifier|static
name|GimpProcedure
name|drawable_transform_flip_default_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|drawable_transform_perspective_proc
specifier|static
name|GimpProcedure
name|drawable_transform_perspective_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|drawable_transform_perspective_default_proc
specifier|static
name|GimpProcedure
name|drawable_transform_perspective_default_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|drawable_transform_rotate_simple_proc
specifier|static
name|GimpProcedure
name|drawable_transform_rotate_simple_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|drawable_transform_rotate_proc
specifier|static
name|GimpProcedure
name|drawable_transform_rotate_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|drawable_transform_rotate_default_proc
specifier|static
name|GimpProcedure
name|drawable_transform_rotate_default_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|drawable_transform_scale_proc
specifier|static
name|GimpProcedure
name|drawable_transform_scale_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|drawable_transform_scale_default_proc
specifier|static
name|GimpProcedure
name|drawable_transform_scale_default_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|drawable_transform_shear_proc
specifier|static
name|GimpProcedure
name|drawable_transform_shear_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|drawable_transform_shear_default_proc
specifier|static
name|GimpProcedure
name|drawable_transform_shear_default_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|drawable_transform_2d_proc
specifier|static
name|GimpProcedure
name|drawable_transform_2d_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|drawable_transform_2d_default_proc
specifier|static
name|GimpProcedure
name|drawable_transform_2d_default_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|drawable_transform_matrix_proc
specifier|static
name|GimpProcedure
name|drawable_transform_matrix_proc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|drawable_transform_matrix_default_proc
specifier|static
name|GimpProcedure
name|drawable_transform_matrix_default_proc
decl_stmt|;
end_decl_stmt

begin_function
name|void
DECL|function|register_drawable_transform_procs (Gimp * gimp)
name|register_drawable_transform_procs
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|)
block|{
name|GimpProcedure
modifier|*
name|procedure
decl_stmt|;
comment|/*    * drawable_transform_flip_simple    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|drawable_transform_flip_simple_proc
argument_list|,
literal|5
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The affected drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_enum
argument_list|(
literal|"flip-type"
argument_list|,
literal|"flip type"
argument_list|,
literal|"Type of flip: { GIMP_ORIENTATION_HORIZONTAL (0), GIMP_ORIENTATION_VERTICAL (1) }"
argument_list|,
name|GIMP_TYPE_ORIENTATION_TYPE
argument_list|,
name|GIMP_ORIENTATION_HORIZONTAL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_param_spec_enum_exclude_value
argument_list|(
name|GIMP_PARAM_SPEC_ENUM
argument_list|(
name|procedure
operator|->
name|args
index|[
literal|1
index|]
argument_list|)
argument_list|,
name|GIMP_ORIENTATION_UNKNOWN
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"auto-center"
argument_list|,
literal|"auto center"
argument_list|,
literal|"Whether to automatically position the axis in the selection center"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"axis"
argument_list|,
literal|"axis"
argument_list|,
literal|"coord. of flip axis"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"clip-result"
argument_list|,
literal|"clip result"
argument_list|,
literal|"Whether to clip results"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The flipped drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * drawable_transform_flip    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|drawable_transform_flip_proc
argument_list|,
literal|10
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The affected drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"x0"
argument_list|,
literal|"x0"
argument_list|,
literal|"horz. coord. of one end of axis"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"y0"
argument_list|,
literal|"y0"
argument_list|,
literal|"vert. coord. of one end of axis"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"x1"
argument_list|,
literal|"x1"
argument_list|,
literal|"horz. coord. of other end of axis"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"y1"
argument_list|,
literal|"y1"
argument_list|,
literal|"vert. coord. of other end of axis"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_enum
argument_list|(
literal|"transform-direction"
argument_list|,
literal|"transform direction"
argument_list|,
literal|"Direction of Transformation: { GIMP_TRANSFORM_FORWARD (0), GIMP_TRANSFORM_BACKWARD (1) }"
argument_list|,
name|GIMP_TYPE_TRANSFORM_DIRECTION
argument_list|,
name|GIMP_TRANSFORM_FORWARD
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_enum
argument_list|(
literal|"interpolation"
argument_list|,
literal|"interpolation"
argument_list|,
literal|"Type of interpolation: { GIMP_INTERPOLATION_NONE (0), GIMP_INTERPOLATION_LINEAR (1), GIMP_INTERPOLATION_CUBIC (2), GIMP_INTERPOLATION_LANCZOS (3) }"
argument_list|,
name|GIMP_TYPE_INTERPOLATION_TYPE
argument_list|,
name|GIMP_INTERPOLATION_NONE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"supersample"
argument_list|,
literal|"supersample"
argument_list|,
literal|"Whether to perform supersample"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"recursion-level"
argument_list|,
literal|"recursion level"
argument_list|,
literal|"Level of recursion (3 is a nice default)"
argument_list|,
literal|1
argument_list|,
name|G_MAXINT32
argument_list|,
literal|1
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"clip-result"
argument_list|,
literal|"clip result"
argument_list|,
literal|"Whether to clip results"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The flipped drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * drawable_transform_flip_default    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|drawable_transform_flip_default_proc
argument_list|,
literal|7
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The affected drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"x0"
argument_list|,
literal|"x0"
argument_list|,
literal|"horz. coord. of one end of axis"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"y0"
argument_list|,
literal|"y0"
argument_list|,
literal|"vert. coord. of one end of axis"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"x1"
argument_list|,
literal|"x1"
argument_list|,
literal|"horz. coord. of other end of axis"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"y1"
argument_list|,
literal|"y1"
argument_list|,
literal|"vert. coord. of other end of axis"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"interpolate"
argument_list|,
literal|"interpolate"
argument_list|,
literal|"Whether to use interpolation and supersampling"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"clip-result"
argument_list|,
literal|"clip result"
argument_list|,
literal|"Whether to clip results"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The flipped drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * drawable_transform_perspective    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|drawable_transform_perspective_proc
argument_list|,
literal|14
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The affected drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"x0"
argument_list|,
literal|"x0"
argument_list|,
literal|"The new x coordinate of upper-left corner of original bounding box"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"y0"
argument_list|,
literal|"y0"
argument_list|,
literal|"The new y coordinate of upper-left corner of original bounding box"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"x1"
argument_list|,
literal|"x1"
argument_list|,
literal|"The new x coordinate of upper-right corner of original bounding box"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"y1"
argument_list|,
literal|"y1"
argument_list|,
literal|"The new y coordinate of upper-right corner of original bounding box"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"x2"
argument_list|,
literal|"x2"
argument_list|,
literal|"The new x coordinate of lower-left corner of original bounding box"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"y2"
argument_list|,
literal|"y2"
argument_list|,
literal|"The new y coordinate of lower-left corner of original bounding box"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"x3"
argument_list|,
literal|"x3"
argument_list|,
literal|"The new x coordinate of lower-right corner of original bounding box"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"y3"
argument_list|,
literal|"y3"
argument_list|,
literal|"The new y coordinate of lower-right corner of original bounding box"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_enum
argument_list|(
literal|"transform-direction"
argument_list|,
literal|"transform direction"
argument_list|,
literal|"Direction of Transformation: { GIMP_TRANSFORM_FORWARD (0), GIMP_TRANSFORM_BACKWARD (1) }"
argument_list|,
name|GIMP_TYPE_TRANSFORM_DIRECTION
argument_list|,
name|GIMP_TRANSFORM_FORWARD
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_enum
argument_list|(
literal|"interpolation"
argument_list|,
literal|"interpolation"
argument_list|,
literal|"Type of interpolation: { GIMP_INTERPOLATION_NONE (0), GIMP_INTERPOLATION_LINEAR (1), GIMP_INTERPOLATION_CUBIC (2), GIMP_INTERPOLATION_LANCZOS (3) }"
argument_list|,
name|GIMP_TYPE_INTERPOLATION_TYPE
argument_list|,
name|GIMP_INTERPOLATION_NONE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"supersample"
argument_list|,
literal|"supersample"
argument_list|,
literal|"Whether to perform supersample"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"recursion-level"
argument_list|,
literal|"recursion level"
argument_list|,
literal|"Level of recursion (3 is a nice default)"
argument_list|,
literal|1
argument_list|,
name|G_MAXINT32
argument_list|,
literal|1
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"clip-result"
argument_list|,
literal|"clip result"
argument_list|,
literal|"Whether to clip results"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The newly mapped drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * drawable_transform_perspective_default    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|drawable_transform_perspective_default_proc
argument_list|,
literal|11
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The affected drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"x0"
argument_list|,
literal|"x0"
argument_list|,
literal|"The new x coordinate of upper-left corner of original bounding box"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"y0"
argument_list|,
literal|"y0"
argument_list|,
literal|"The new y coordinate of upper-left corner of original bounding box"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"x1"
argument_list|,
literal|"x1"
argument_list|,
literal|"The new x coordinate of upper-right corner of original bounding box"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"y1"
argument_list|,
literal|"y1"
argument_list|,
literal|"The new y coordinate of upper-right corner of original bounding box"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"x2"
argument_list|,
literal|"x2"
argument_list|,
literal|"The new x coordinate of lower-left corner of original bounding box"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"y2"
argument_list|,
literal|"y2"
argument_list|,
literal|"The new y coordinate of lower-left corner of original bounding box"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"x3"
argument_list|,
literal|"x3"
argument_list|,
literal|"The new x coordinate of lower-right corner of original bounding box"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"y3"
argument_list|,
literal|"y3"
argument_list|,
literal|"The new y coordinate of lower-right corner of original bounding box"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"interpolate"
argument_list|,
literal|"interpolate"
argument_list|,
literal|"Whether to use interpolation and supersampling"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"clip-result"
argument_list|,
literal|"clip result"
argument_list|,
literal|"Whether to clip results"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The newly mapped drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * drawable_transform_rotate_simple    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|drawable_transform_rotate_simple_proc
argument_list|,
literal|6
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The affected drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_enum
argument_list|(
literal|"rotate-type"
argument_list|,
literal|"rotate type"
argument_list|,
literal|"Type of rotation: { GIMP_ROTATE_90 (0), GIMP_ROTATE_180 (1), GIMP_ROTATE_270 (2) }"
argument_list|,
name|GIMP_TYPE_ROTATION_TYPE
argument_list|,
name|GIMP_ROTATE_90
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"auto-center"
argument_list|,
literal|"auto center"
argument_list|,
literal|"Whether to automatically rotate around the selection center"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"center-x"
argument_list|,
literal|"center x"
argument_list|,
literal|"The hor. coordinate of the center of rotation"
argument_list|,
name|G_MININT32
argument_list|,
name|G_MAXINT32
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"center-y"
argument_list|,
literal|"center y"
argument_list|,
literal|"The vert. coordinate of the center of rotation"
argument_list|,
name|G_MININT32
argument_list|,
name|G_MAXINT32
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"clip-result"
argument_list|,
literal|"clip result"
argument_list|,
literal|"Whether to clip results"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The rotated drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * drawable_transform_rotate    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|drawable_transform_rotate_proc
argument_list|,
literal|10
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The affected drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"angle"
argument_list|,
literal|"angle"
argument_list|,
literal|"The angle of rotation (radians)"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"auto-center"
argument_list|,
literal|"auto center"
argument_list|,
literal|"Whether to automatically rotate around the selection center"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"center-x"
argument_list|,
literal|"center x"
argument_list|,
literal|"The hor. coordinate of the center of rotation"
argument_list|,
name|G_MININT32
argument_list|,
name|G_MAXINT32
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"center-y"
argument_list|,
literal|"center y"
argument_list|,
literal|"The vert. coordinate of the center of rotation"
argument_list|,
name|G_MININT32
argument_list|,
name|G_MAXINT32
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_enum
argument_list|(
literal|"transform-direction"
argument_list|,
literal|"transform direction"
argument_list|,
literal|"Direction of Transformation: { GIMP_TRANSFORM_FORWARD (0), GIMP_TRANSFORM_BACKWARD (1) }"
argument_list|,
name|GIMP_TYPE_TRANSFORM_DIRECTION
argument_list|,
name|GIMP_TRANSFORM_FORWARD
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_enum
argument_list|(
literal|"interpolation"
argument_list|,
literal|"interpolation"
argument_list|,
literal|"Type of interpolation: { GIMP_INTERPOLATION_NONE (0), GIMP_INTERPOLATION_LINEAR (1), GIMP_INTERPOLATION_CUBIC (2), GIMP_INTERPOLATION_LANCZOS (3) }"
argument_list|,
name|GIMP_TYPE_INTERPOLATION_TYPE
argument_list|,
name|GIMP_INTERPOLATION_NONE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"supersample"
argument_list|,
literal|"supersample"
argument_list|,
literal|"Whether to perform supersample"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"recursion-level"
argument_list|,
literal|"recursion level"
argument_list|,
literal|"Level of recursion (3 is a nice default)"
argument_list|,
literal|1
argument_list|,
name|G_MAXINT32
argument_list|,
literal|1
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"clip-result"
argument_list|,
literal|"clip result"
argument_list|,
literal|"Whether to clip results"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The rotated drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * drawable_transform_rotate_default    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|drawable_transform_rotate_default_proc
argument_list|,
literal|7
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The affected drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"angle"
argument_list|,
literal|"angle"
argument_list|,
literal|"The angle of rotation (radians)"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"auto-center"
argument_list|,
literal|"auto center"
argument_list|,
literal|"Whether to automatically rotate around the selection center"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"center-x"
argument_list|,
literal|"center x"
argument_list|,
literal|"The hor. coordinate of the center of rotation"
argument_list|,
name|G_MININT32
argument_list|,
name|G_MAXINT32
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"center-y"
argument_list|,
literal|"center y"
argument_list|,
literal|"The vert. coordinate of the center of rotation"
argument_list|,
name|G_MININT32
argument_list|,
name|G_MAXINT32
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"interpolate"
argument_list|,
literal|"interpolate"
argument_list|,
literal|"Whether to use interpolation and supersampling"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"clip-result"
argument_list|,
literal|"clip result"
argument_list|,
literal|"Whether to clip results"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The rotated drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * drawable_transform_scale    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|drawable_transform_scale_proc
argument_list|,
literal|10
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The affected drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"x0"
argument_list|,
literal|"x0"
argument_list|,
literal|"The new x coordinate of the upper-left corner of the scaled region"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"y0"
argument_list|,
literal|"y0"
argument_list|,
literal|"The new y coordinate of the upper-left corner of the scaled region"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"x1"
argument_list|,
literal|"x1"
argument_list|,
literal|"The new x coordinate of the lower-right corner of the scaled region"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"y1"
argument_list|,
literal|"y1"
argument_list|,
literal|"The new y coordinate of the lower-right corner of the scaled region"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_enum
argument_list|(
literal|"transform-direction"
argument_list|,
literal|"transform direction"
argument_list|,
literal|"Direction of Transformation: { GIMP_TRANSFORM_FORWARD (0), GIMP_TRANSFORM_BACKWARD (1) }"
argument_list|,
name|GIMP_TYPE_TRANSFORM_DIRECTION
argument_list|,
name|GIMP_TRANSFORM_FORWARD
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_enum
argument_list|(
literal|"interpolation"
argument_list|,
literal|"interpolation"
argument_list|,
literal|"Type of interpolation: { GIMP_INTERPOLATION_NONE (0), GIMP_INTERPOLATION_LINEAR (1), GIMP_INTERPOLATION_CUBIC (2), GIMP_INTERPOLATION_LANCZOS (3) }"
argument_list|,
name|GIMP_TYPE_INTERPOLATION_TYPE
argument_list|,
name|GIMP_INTERPOLATION_NONE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"supersample"
argument_list|,
literal|"supersample"
argument_list|,
literal|"Whether to perform supersample"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"recursion-level"
argument_list|,
literal|"recursion level"
argument_list|,
literal|"Level of recursion (3 is a nice default)"
argument_list|,
literal|1
argument_list|,
name|G_MAXINT32
argument_list|,
literal|1
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"clip-result"
argument_list|,
literal|"clip result"
argument_list|,
literal|"Whether to clip results"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The scaled drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * drawable_transform_scale_default    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|drawable_transform_scale_default_proc
argument_list|,
literal|7
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The affected drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"x0"
argument_list|,
literal|"x0"
argument_list|,
literal|"The new x coordinate of the upper-left corner of the scaled region"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"y0"
argument_list|,
literal|"y0"
argument_list|,
literal|"The new y coordinate of the upper-left corner of the scaled region"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"x1"
argument_list|,
literal|"x1"
argument_list|,
literal|"The new x coordinate of the lower-right corner of the scaled region"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"y1"
argument_list|,
literal|"y1"
argument_list|,
literal|"The new y coordinate of the lower-right corner of the scaled region"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"interpolate"
argument_list|,
literal|"interpolate"
argument_list|,
literal|"Whether to use interpolation and supersampling"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"clip-result"
argument_list|,
literal|"clip result"
argument_list|,
literal|"Whether to clip results"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The scaled drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * drawable_transform_shear    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|drawable_transform_shear_proc
argument_list|,
literal|8
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The affected drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_enum
argument_list|(
literal|"shear-type"
argument_list|,
literal|"shear type"
argument_list|,
literal|"Type of shear: { GIMP_ORIENTATION_HORIZONTAL (0), GIMP_ORIENTATION_VERTICAL (1) }"
argument_list|,
name|GIMP_TYPE_ORIENTATION_TYPE
argument_list|,
name|GIMP_ORIENTATION_HORIZONTAL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_param_spec_enum_exclude_value
argument_list|(
name|GIMP_PARAM_SPEC_ENUM
argument_list|(
name|procedure
operator|->
name|args
index|[
literal|1
index|]
argument_list|)
argument_list|,
name|GIMP_ORIENTATION_UNKNOWN
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"magnitude"
argument_list|,
literal|"magnitude"
argument_list|,
literal|"The magnitude of the shear"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_enum
argument_list|(
literal|"transform-direction"
argument_list|,
literal|"transform direction"
argument_list|,
literal|"Direction of Transformation: { GIMP_TRANSFORM_FORWARD (0), GIMP_TRANSFORM_BACKWARD (1) }"
argument_list|,
name|GIMP_TYPE_TRANSFORM_DIRECTION
argument_list|,
name|GIMP_TRANSFORM_FORWARD
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_enum
argument_list|(
literal|"interpolation"
argument_list|,
literal|"interpolation"
argument_list|,
literal|"Type of interpolation: { GIMP_INTERPOLATION_NONE (0), GIMP_INTERPOLATION_LINEAR (1), GIMP_INTERPOLATION_CUBIC (2), GIMP_INTERPOLATION_LANCZOS (3) }"
argument_list|,
name|GIMP_TYPE_INTERPOLATION_TYPE
argument_list|,
name|GIMP_INTERPOLATION_NONE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"supersample"
argument_list|,
literal|"supersample"
argument_list|,
literal|"Whether to perform supersample"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"recursion-level"
argument_list|,
literal|"recursion level"
argument_list|,
literal|"Level of recursion (3 is a nice default)"
argument_list|,
literal|1
argument_list|,
name|G_MAXINT32
argument_list|,
literal|1
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"clip-result"
argument_list|,
literal|"clip result"
argument_list|,
literal|"Whether to clip results"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The sheared drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * drawable_transform_shear_default    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|drawable_transform_shear_default_proc
argument_list|,
literal|5
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The affected drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_enum
argument_list|(
literal|"shear-type"
argument_list|,
literal|"shear type"
argument_list|,
literal|"Type of shear: { GIMP_ORIENTATION_HORIZONTAL (0), GIMP_ORIENTATION_VERTICAL (1) }"
argument_list|,
name|GIMP_TYPE_ORIENTATION_TYPE
argument_list|,
name|GIMP_ORIENTATION_HORIZONTAL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_param_spec_enum_exclude_value
argument_list|(
name|GIMP_PARAM_SPEC_ENUM
argument_list|(
name|procedure
operator|->
name|args
index|[
literal|1
index|]
argument_list|)
argument_list|,
name|GIMP_ORIENTATION_UNKNOWN
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"magnitude"
argument_list|,
literal|"magnitude"
argument_list|,
literal|"The magnitude of the shear"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"interpolate"
argument_list|,
literal|"interpolate"
argument_list|,
literal|"Whether to use interpolation and supersampling"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"clip-result"
argument_list|,
literal|"clip result"
argument_list|,
literal|"Whether to clip results"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The sheared drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * drawable_transform_2d    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|drawable_transform_2d_proc
argument_list|,
literal|13
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The affected drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"source-x"
argument_list|,
literal|"source x"
argument_list|,
literal|"X coordinate of the transformation center"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"source-y"
argument_list|,
literal|"source y"
argument_list|,
literal|"Y coordinate of the transformation center"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"scale-x"
argument_list|,
literal|"scale x"
argument_list|,
literal|"Amount to scale in x direction"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"scale-y"
argument_list|,
literal|"scale y"
argument_list|,
literal|"Amount to scale in y direction"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"angle"
argument_list|,
literal|"angle"
argument_list|,
literal|"The angle of rotation (radians)"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"dest-x"
argument_list|,
literal|"dest x"
argument_list|,
literal|"X coordinate of where the center goes"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"dest-y"
argument_list|,
literal|"dest y"
argument_list|,
literal|"Y coordinate of where the center goes"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_enum
argument_list|(
literal|"transform-direction"
argument_list|,
literal|"transform direction"
argument_list|,
literal|"Direction of Transformation: { GIMP_TRANSFORM_FORWARD (0), GIMP_TRANSFORM_BACKWARD (1) }"
argument_list|,
name|GIMP_TYPE_TRANSFORM_DIRECTION
argument_list|,
name|GIMP_TRANSFORM_FORWARD
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_enum
argument_list|(
literal|"interpolation"
argument_list|,
literal|"interpolation"
argument_list|,
literal|"Type of interpolation: { GIMP_INTERPOLATION_NONE (0), GIMP_INTERPOLATION_LINEAR (1), GIMP_INTERPOLATION_CUBIC (2), GIMP_INTERPOLATION_LANCZOS (3) }"
argument_list|,
name|GIMP_TYPE_INTERPOLATION_TYPE
argument_list|,
name|GIMP_INTERPOLATION_NONE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"supersample"
argument_list|,
literal|"supersample"
argument_list|,
literal|"Whether to perform supersample"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"recursion-level"
argument_list|,
literal|"recursion level"
argument_list|,
literal|"Level of recursion (3 is a nice default)"
argument_list|,
literal|1
argument_list|,
name|G_MAXINT32
argument_list|,
literal|1
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"clip-result"
argument_list|,
literal|"clip result"
argument_list|,
literal|"Whether to clip results"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The transformed drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * drawable_transform_2d_default    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|drawable_transform_2d_default_proc
argument_list|,
literal|10
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The affected drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"source-x"
argument_list|,
literal|"source x"
argument_list|,
literal|"X coordinate of the transformation center"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"source-y"
argument_list|,
literal|"source y"
argument_list|,
literal|"Y coordinate of the transformation center"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"scale-x"
argument_list|,
literal|"scale x"
argument_list|,
literal|"Amount to scale in x direction"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"scale-y"
argument_list|,
literal|"scale y"
argument_list|,
literal|"Amount to scale in y direction"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"angle"
argument_list|,
literal|"angle"
argument_list|,
literal|"The angle of rotation (radians)"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"dest-x"
argument_list|,
literal|"dest x"
argument_list|,
literal|"X coordinate of where the center goes"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"dest-y"
argument_list|,
literal|"dest y"
argument_list|,
literal|"Y coordinate of where the center goes"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"interpolate"
argument_list|,
literal|"interpolate"
argument_list|,
literal|"Whether to use interpolation and supersampling"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"clip-result"
argument_list|,
literal|"clip result"
argument_list|,
literal|"Whether to clip results"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The transformed drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * drawable_transform_matrix    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|drawable_transform_matrix_proc
argument_list|,
literal|15
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The affected drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"coeff-0-0"
argument_list|,
literal|"coeff 0 0"
argument_list|,
literal|"coefficient (0,0) of the transformation matrix"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"coeff-0-1"
argument_list|,
literal|"coeff 0 1"
argument_list|,
literal|"coefficient (0,1) of the transformation matrix"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"coeff-0-2"
argument_list|,
literal|"coeff 0 2"
argument_list|,
literal|"coefficient (0,2) of the transformation matrix"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"coeff-1-0"
argument_list|,
literal|"coeff 1 0"
argument_list|,
literal|"coefficient (1,0) of the transformation matrix"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"coeff-1-1"
argument_list|,
literal|"coeff 1 1"
argument_list|,
literal|"coefficient (1,1) of the transformation matrix"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"coeff-1-2"
argument_list|,
literal|"coeff 1 2"
argument_list|,
literal|"coefficient (1,2) of the transformation matrix"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"coeff-2-0"
argument_list|,
literal|"coeff 2 0"
argument_list|,
literal|"coefficient (2,0) of the transformation matrix"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"coeff-2-1"
argument_list|,
literal|"coeff 2 1"
argument_list|,
literal|"coefficient (2,1) of the transformation matrix"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"coeff-2-2"
argument_list|,
literal|"coeff 2 2"
argument_list|,
literal|"coefficient (2,2) of the transformation matrix"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_enum
argument_list|(
literal|"transform-direction"
argument_list|,
literal|"transform direction"
argument_list|,
literal|"Direction of Transformation: { GIMP_TRANSFORM_FORWARD (0), GIMP_TRANSFORM_BACKWARD (1) }"
argument_list|,
name|GIMP_TYPE_TRANSFORM_DIRECTION
argument_list|,
name|GIMP_TRANSFORM_FORWARD
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_enum
argument_list|(
literal|"interpolation"
argument_list|,
literal|"interpolation"
argument_list|,
literal|"Type of interpolation: { GIMP_INTERPOLATION_NONE (0), GIMP_INTERPOLATION_LINEAR (1), GIMP_INTERPOLATION_CUBIC (2), GIMP_INTERPOLATION_LANCZOS (3) }"
argument_list|,
name|GIMP_TYPE_INTERPOLATION_TYPE
argument_list|,
name|GIMP_INTERPOLATION_NONE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"supersample"
argument_list|,
literal|"supersample"
argument_list|,
literal|"Whether to perform supersample"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"recursion-level"
argument_list|,
literal|"recursion level"
argument_list|,
literal|"Level of recursion (3 is a nice default)"
argument_list|,
literal|1
argument_list|,
name|G_MAXINT32
argument_list|,
literal|1
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"clip-result"
argument_list|,
literal|"clip result"
argument_list|,
literal|"Whether to clip results"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The transformed drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * drawable_transform_matrix_default    */
name|procedure
operator|=
name|gimp_procedure_init
argument_list|(
operator|&
name|drawable_transform_matrix_default_proc
argument_list|,
literal|12
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The affected drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"coeff-0-0"
argument_list|,
literal|"coeff 0 0"
argument_list|,
literal|"coefficient (0,0) of the transformation matrix"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"coeff-0-1"
argument_list|,
literal|"coeff 0 1"
argument_list|,
literal|"coefficient (0,1) of the transformation matrix"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"coeff-0-2"
argument_list|,
literal|"coeff 0 2"
argument_list|,
literal|"coefficient (0,2) of the transformation matrix"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"coeff-1-0"
argument_list|,
literal|"coeff 1 0"
argument_list|,
literal|"coefficient (1,0) of the transformation matrix"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"coeff-1-1"
argument_list|,
literal|"coeff 1 1"
argument_list|,
literal|"coefficient (1,1) of the transformation matrix"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"coeff-1-2"
argument_list|,
literal|"coeff 1 2"
argument_list|,
literal|"coefficient (1,2) of the transformation matrix"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"coeff-2-0"
argument_list|,
literal|"coeff 2 0"
argument_list|,
literal|"coefficient (2,0) of the transformation matrix"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"coeff-2-1"
argument_list|,
literal|"coeff 2 1"
argument_list|,
literal|"coefficient (2,1) of the transformation matrix"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_double
argument_list|(
literal|"coeff-2-2"
argument_list|,
literal|"coeff 2 2"
argument_list|,
literal|"coefficient (2,2) of the transformation matrix"
argument_list|,
operator|-
name|G_MAXDOUBLE
argument_list|,
name|G_MAXDOUBLE
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"interpolate"
argument_list|,
literal|"interpolate"
argument_list|,
literal|"Whether to use interpolation and supersampling"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_boolean
argument_list|(
literal|"clip-result"
argument_list|,
literal|"clip result"
argument_list|,
literal|"Whether to clip results"
argument_list|,
name|FALSE
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_drawable_id
argument_list|(
literal|"drawable"
argument_list|,
literal|"drawable"
argument_list|,
literal|"The transformed drawable"
argument_list|,
name|gimp
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|drawable_transform_flip_simple_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|drawable_transform_flip_simple_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
name|GimpDrawable
modifier|*
name|drawable
decl_stmt|;
name|gint32
name|flip_type
decl_stmt|;
name|gboolean
name|auto_center
decl_stmt|;
name|gdouble
name|axis
decl_stmt|;
name|gboolean
name|clip_result
decl_stmt|;
name|drawable
operator|=
name|gimp_value_get_drawable
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|flip_type
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
name|auto_center
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
name|axis
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|3
index|]
argument_list|)
expr_stmt|;
name|clip_result
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|4
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gint
name|x
decl_stmt|,
name|y
decl_stmt|,
name|width
decl_stmt|,
name|height
decl_stmt|;
name|success
operator|=
name|gimp_item_is_attached
argument_list|(
name|GIMP_ITEM
argument_list|(
name|drawable
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
operator|&&
name|gimp_drawable_mask_intersect
argument_list|(
name|drawable
argument_list|,
operator|&
name|x
argument_list|,
operator|&
name|y
argument_list|,
operator|&
name|width
argument_list|,
operator|&
name|height
argument_list|)
condition|)
block|{
name|success
operator|=
name|gimp_drawable_transform_flip
argument_list|(
name|drawable
argument_list|,
name|context
argument_list|,
name|flip_type
argument_list|,
name|auto_center
argument_list|,
name|axis
argument_list|,
name|clip_result
argument_list|)
expr_stmt|;
block|}
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_drawable
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|drawable
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|drawable_transform_flip_simple_proc
specifier|static
name|GimpProcedure
name|drawable_transform_flip_simple_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-drawable-transform-flip-simple"
block|,
literal|"gimp-drawable-transform-flip-simple"
block|,
literal|"Flip the specified drawable either vertically or horizontally."
block|,
literal|"This procedure flips the specified drawable if no selection exists. If a selection exists, the portion of the drawable which lies under the selection is cut from the drawable and made into a floating selection which is then flipped. If auto_center is set to TRUE, the flip is around the selection's center. Otherwise, the coordinate of the axis needs to be specified. The return value is the ID of the flipped drawable. If there was no selection, this will be equal to the drawable ID supplied as input. Otherwise, this will be the newly created and flipped drawable."
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|drawable_transform_flip_simple_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|drawable_transform_flip_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|drawable_transform_flip_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
name|GimpDrawable
modifier|*
name|drawable
decl_stmt|;
name|gdouble
name|x0
decl_stmt|;
name|gdouble
name|y0
decl_stmt|;
name|gdouble
name|x1
decl_stmt|;
name|gdouble
name|y1
decl_stmt|;
name|gint32
name|transform_direction
decl_stmt|;
name|gint32
name|interpolation
decl_stmt|;
name|gboolean
name|supersample
decl_stmt|;
name|gint32
name|recursion_level
decl_stmt|;
name|gboolean
name|clip_result
decl_stmt|;
name|drawable
operator|=
name|gimp_value_get_drawable
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|x0
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
name|y0
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
name|x1
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|3
index|]
argument_list|)
expr_stmt|;
name|y1
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|4
index|]
argument_list|)
expr_stmt|;
name|transform_direction
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|5
index|]
argument_list|)
expr_stmt|;
name|interpolation
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|6
index|]
argument_list|)
expr_stmt|;
name|supersample
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|7
index|]
argument_list|)
expr_stmt|;
name|recursion_level
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|8
index|]
argument_list|)
expr_stmt|;
name|clip_result
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|9
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gint
name|x
decl_stmt|,
name|y
decl_stmt|,
name|width
decl_stmt|,
name|height
decl_stmt|;
name|success
operator|=
name|gimp_item_is_attached
argument_list|(
name|GIMP_ITEM
argument_list|(
name|drawable
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
operator|&&
name|gimp_drawable_mask_intersect
argument_list|(
name|drawable
argument_list|,
operator|&
name|x
argument_list|,
operator|&
name|y
argument_list|,
operator|&
name|width
argument_list|,
operator|&
name|height
argument_list|)
condition|)
block|{
name|GimpMatrix3
name|matrix
decl_stmt|;
comment|/* Assemble the transformation matrix */
name|gimp_matrix3_identity
argument_list|(
operator|&
name|matrix
argument_list|)
expr_stmt|;
name|gimp_transform_matrix_flip_free
argument_list|(
operator|&
name|matrix
argument_list|,
name|x
argument_list|,
name|y
argument_list|,
name|width
argument_list|,
name|height
argument_list|,
name|x0
argument_list|,
name|y0
argument_list|,
name|x1
argument_list|,
name|y1
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_start
argument_list|(
name|progress
argument_list|,
name|_
argument_list|(
literal|"Flipping"
argument_list|)
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
comment|/* Transform the selection */
name|success
operator|=
name|gimp_drawable_transform_affine
argument_list|(
name|drawable
argument_list|,
name|context
argument_list|,
operator|&
name|matrix
argument_list|,
name|transform_direction
argument_list|,
name|interpolation
argument_list|,
name|supersample
argument_list|,
name|recursion_level
argument_list|,
name|clip_result
argument_list|,
name|progress
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_end
argument_list|(
name|progress
argument_list|)
expr_stmt|;
block|}
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_drawable
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|drawable
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|drawable_transform_flip_proc
specifier|static
name|GimpProcedure
name|drawable_transform_flip_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-drawable-transform-flip"
block|,
literal|"gimp-drawable-transform-flip"
block|,
literal|"Flip the specified drawable around a given line."
block|,
literal|"This procedure flips the specified drawable if no selection exists. If a selection exists, the portion of the drawable which lies under the selection is cut from the drawable and made into a floating selection which is then flipped. The axis to flip around is specified by specifying two points from that line. The return value is the ID of the flipped drawable. If there was no selection, this will be equal to the drawable ID supplied as input. Otherwise, this will be the newly created and flipped drawable. The clip results parameter specifies wheter current selection will affect the transform."
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|drawable_transform_flip_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|drawable_transform_flip_default_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|drawable_transform_flip_default_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
name|GimpDrawable
modifier|*
name|drawable
decl_stmt|;
name|gdouble
name|x0
decl_stmt|;
name|gdouble
name|y0
decl_stmt|;
name|gdouble
name|x1
decl_stmt|;
name|gdouble
name|y1
decl_stmt|;
name|gboolean
name|interpolate
decl_stmt|;
name|gboolean
name|clip_result
decl_stmt|;
name|drawable
operator|=
name|gimp_value_get_drawable
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|x0
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
name|y0
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
name|x1
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|3
index|]
argument_list|)
expr_stmt|;
name|y1
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|4
index|]
argument_list|)
expr_stmt|;
name|interpolate
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|5
index|]
argument_list|)
expr_stmt|;
name|clip_result
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|6
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gint
name|x
decl_stmt|,
name|y
decl_stmt|,
name|width
decl_stmt|,
name|height
decl_stmt|;
name|success
operator|=
name|gimp_item_is_attached
argument_list|(
name|GIMP_ITEM
argument_list|(
name|drawable
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
operator|&&
name|gimp_drawable_mask_intersect
argument_list|(
name|drawable
argument_list|,
operator|&
name|x
argument_list|,
operator|&
name|y
argument_list|,
operator|&
name|width
argument_list|,
operator|&
name|height
argument_list|)
condition|)
block|{
name|GimpMatrix3
name|matrix
decl_stmt|;
name|GimpInterpolationType
name|interpolation_type
init|=
name|GIMP_INTERPOLATION_NONE
decl_stmt|;
comment|/* Assemble the transformation matrix */
name|gimp_matrix3_identity
argument_list|(
operator|&
name|matrix
argument_list|)
expr_stmt|;
name|gimp_transform_matrix_flip_free
argument_list|(
operator|&
name|matrix
argument_list|,
name|x
argument_list|,
name|y
argument_list|,
name|width
argument_list|,
name|height
argument_list|,
name|x0
argument_list|,
name|y0
argument_list|,
name|x1
argument_list|,
name|y1
argument_list|)
expr_stmt|;
if|if
condition|(
name|interpolate
condition|)
name|interpolation_type
operator|=
name|gimp
operator|->
name|config
operator|->
name|interpolation_type
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_start
argument_list|(
name|progress
argument_list|,
name|_
argument_list|(
literal|"Flipping"
argument_list|)
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
comment|/* Transform the selection */
name|success
operator|=
name|gimp_drawable_transform_affine
argument_list|(
name|drawable
argument_list|,
name|context
argument_list|,
operator|&
name|matrix
argument_list|,
name|GIMP_TRANSFORM_FORWARD
argument_list|,
name|interpolation_type
argument_list|,
name|interpolate
argument_list|,
literal|3
argument_list|,
name|clip_result
argument_list|,
name|progress
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_end
argument_list|(
name|progress
argument_list|)
expr_stmt|;
block|}
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_drawable
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|drawable
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|drawable_transform_flip_default_proc
specifier|static
name|GimpProcedure
name|drawable_transform_flip_default_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-drawable-transform-flip-default"
block|,
literal|"gimp-drawable-transform-flip-default"
block|,
literal|"Flip the specified drawable around a given line."
block|,
literal|"This procedure is a variant of gimp_drawable_transform_flip() which uses no interpolation/supersampling at all, or default values (depending on the 'interpolate' parameter)."
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|drawable_transform_flip_default_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|drawable_transform_perspective_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|drawable_transform_perspective_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
name|GimpDrawable
modifier|*
name|drawable
decl_stmt|;
name|gdouble
name|x0
decl_stmt|;
name|gdouble
name|y0
decl_stmt|;
name|gdouble
name|x1
decl_stmt|;
name|gdouble
name|y1
decl_stmt|;
name|gdouble
name|x2
decl_stmt|;
name|gdouble
name|y2
decl_stmt|;
name|gdouble
name|x3
decl_stmt|;
name|gdouble
name|y3
decl_stmt|;
name|gint32
name|transform_direction
decl_stmt|;
name|gint32
name|interpolation
decl_stmt|;
name|gboolean
name|supersample
decl_stmt|;
name|gint32
name|recursion_level
decl_stmt|;
name|gboolean
name|clip_result
decl_stmt|;
name|drawable
operator|=
name|gimp_value_get_drawable
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|x0
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
name|y0
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
name|x1
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|3
index|]
argument_list|)
expr_stmt|;
name|y1
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|4
index|]
argument_list|)
expr_stmt|;
name|x2
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|5
index|]
argument_list|)
expr_stmt|;
name|y2
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|6
index|]
argument_list|)
expr_stmt|;
name|x3
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|7
index|]
argument_list|)
expr_stmt|;
name|y3
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|8
index|]
argument_list|)
expr_stmt|;
name|transform_direction
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|9
index|]
argument_list|)
expr_stmt|;
name|interpolation
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|10
index|]
argument_list|)
expr_stmt|;
name|supersample
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|11
index|]
argument_list|)
expr_stmt|;
name|recursion_level
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|12
index|]
argument_list|)
expr_stmt|;
name|clip_result
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|13
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gint
name|x
decl_stmt|,
name|y
decl_stmt|,
name|width
decl_stmt|,
name|height
decl_stmt|;
name|success
operator|=
name|gimp_item_is_attached
argument_list|(
name|GIMP_ITEM
argument_list|(
name|drawable
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
operator|&&
name|gimp_drawable_mask_intersect
argument_list|(
name|drawable
argument_list|,
operator|&
name|x
argument_list|,
operator|&
name|y
argument_list|,
operator|&
name|width
argument_list|,
operator|&
name|height
argument_list|)
condition|)
block|{
name|GimpMatrix3
name|matrix
decl_stmt|;
comment|/* Assemble the transformation matrix */
name|gimp_matrix3_identity
argument_list|(
operator|&
name|matrix
argument_list|)
expr_stmt|;
name|gimp_transform_matrix_perspective
argument_list|(
operator|&
name|matrix
argument_list|,
name|x
argument_list|,
name|y
argument_list|,
name|width
argument_list|,
name|height
argument_list|,
name|x0
argument_list|,
name|y0
argument_list|,
name|x1
argument_list|,
name|y1
argument_list|,
name|x2
argument_list|,
name|y2
argument_list|,
name|x3
argument_list|,
name|y3
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_start
argument_list|(
name|progress
argument_list|,
name|_
argument_list|(
literal|"Perspective"
argument_list|)
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
comment|/* Transform the selection */
name|success
operator|=
name|gimp_drawable_transform_affine
argument_list|(
name|drawable
argument_list|,
name|context
argument_list|,
operator|&
name|matrix
argument_list|,
name|transform_direction
argument_list|,
name|interpolation
argument_list|,
name|supersample
argument_list|,
name|recursion_level
argument_list|,
name|clip_result
argument_list|,
name|progress
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_end
argument_list|(
name|progress
argument_list|)
expr_stmt|;
block|}
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_drawable
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|drawable
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|drawable_transform_perspective_proc
specifier|static
name|GimpProcedure
name|drawable_transform_perspective_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-drawable-transform-perspective"
block|,
literal|"gimp-drawable-transform-perspective"
block|,
literal|"Perform a possibly non-affine transformation on the specified drawable, with extra parameters."
block|,
literal|"This procedure performs a possibly non-affine transformation on the specified drawable by allowing the corners of the original bounding box to be arbitrarily remapped to any values. The specified drawable is remapped if no selection exists. However, if a selection exists, the portion of the drawable which lies under the selection is cut from the drawable and made into a floating selection which is then remapped as specified. The return value is the ID of the remapped drawable. If there was no selection, this will be equal to the drawable ID supplied as input. Otherwise, this will be the newly created and remapped drawable. The 4 coordinates specify the new locations of each corner of the original bounding box. By specifying these values, any affine transformation (rotation, scaling, translation) can be affected. Additionally, these values can be specified such that the resulting transformed drawable will appear to have been projected via a perspective transform."
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|drawable_transform_perspective_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|drawable_transform_perspective_default_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|drawable_transform_perspective_default_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
name|GimpDrawable
modifier|*
name|drawable
decl_stmt|;
name|gdouble
name|x0
decl_stmt|;
name|gdouble
name|y0
decl_stmt|;
name|gdouble
name|x1
decl_stmt|;
name|gdouble
name|y1
decl_stmt|;
name|gdouble
name|x2
decl_stmt|;
name|gdouble
name|y2
decl_stmt|;
name|gdouble
name|x3
decl_stmt|;
name|gdouble
name|y3
decl_stmt|;
name|gboolean
name|interpolate
decl_stmt|;
name|gboolean
name|clip_result
decl_stmt|;
name|drawable
operator|=
name|gimp_value_get_drawable
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|x0
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
name|y0
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
name|x1
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|3
index|]
argument_list|)
expr_stmt|;
name|y1
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|4
index|]
argument_list|)
expr_stmt|;
name|x2
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|5
index|]
argument_list|)
expr_stmt|;
name|y2
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|6
index|]
argument_list|)
expr_stmt|;
name|x3
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|7
index|]
argument_list|)
expr_stmt|;
name|y3
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|8
index|]
argument_list|)
expr_stmt|;
name|interpolate
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|9
index|]
argument_list|)
expr_stmt|;
name|clip_result
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|10
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gint
name|x
decl_stmt|,
name|y
decl_stmt|,
name|width
decl_stmt|,
name|height
decl_stmt|;
name|success
operator|=
name|gimp_item_is_attached
argument_list|(
name|GIMP_ITEM
argument_list|(
name|drawable
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
operator|&&
name|gimp_drawable_mask_intersect
argument_list|(
name|drawable
argument_list|,
operator|&
name|x
argument_list|,
operator|&
name|y
argument_list|,
operator|&
name|width
argument_list|,
operator|&
name|height
argument_list|)
condition|)
block|{
name|GimpMatrix3
name|matrix
decl_stmt|;
name|GimpInterpolationType
name|interpolation_type
init|=
name|GIMP_INTERPOLATION_NONE
decl_stmt|;
comment|/* Assemble the transformation matrix */
name|gimp_matrix3_identity
argument_list|(
operator|&
name|matrix
argument_list|)
expr_stmt|;
name|gimp_transform_matrix_perspective
argument_list|(
operator|&
name|matrix
argument_list|,
name|x
argument_list|,
name|y
argument_list|,
name|width
argument_list|,
name|height
argument_list|,
name|x0
argument_list|,
name|y0
argument_list|,
name|x1
argument_list|,
name|y1
argument_list|,
name|x2
argument_list|,
name|y2
argument_list|,
name|x3
argument_list|,
name|y3
argument_list|)
expr_stmt|;
if|if
condition|(
name|interpolate
condition|)
name|interpolation_type
operator|=
name|gimp
operator|->
name|config
operator|->
name|interpolation_type
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_start
argument_list|(
name|progress
argument_list|,
name|_
argument_list|(
literal|"Perspective"
argument_list|)
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
comment|/* Transform the selection */
name|success
operator|=
name|gimp_drawable_transform_affine
argument_list|(
name|drawable
argument_list|,
name|context
argument_list|,
operator|&
name|matrix
argument_list|,
name|GIMP_TRANSFORM_FORWARD
argument_list|,
name|interpolation_type
argument_list|,
name|interpolate
argument_list|,
literal|3
argument_list|,
name|clip_result
argument_list|,
name|progress
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_end
argument_list|(
name|progress
argument_list|)
expr_stmt|;
block|}
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_drawable
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|drawable
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|drawable_transform_perspective_default_proc
specifier|static
name|GimpProcedure
name|drawable_transform_perspective_default_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-drawable-transform-perspective-default"
block|,
literal|"gimp-drawable-transform-perspective-default"
block|,
literal|"Perform a possibly non-affine transformation on the specified drawable, with extra parameters."
block|,
literal|"This procedure is a variant of gimp_drawable_transform_perspective() which uses no interpolation/supersampling at all, or default values (depending on the 'interpolate' parameter)."
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|drawable_transform_perspective_default_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|drawable_transform_rotate_simple_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|drawable_transform_rotate_simple_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
name|GimpDrawable
modifier|*
name|drawable
decl_stmt|;
name|gint32
name|rotate_type
decl_stmt|;
name|gboolean
name|auto_center
decl_stmt|;
name|gint32
name|center_x
decl_stmt|;
name|gint32
name|center_y
decl_stmt|;
name|gboolean
name|clip_result
decl_stmt|;
name|drawable
operator|=
name|gimp_value_get_drawable
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|rotate_type
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
name|auto_center
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
name|center_x
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|3
index|]
argument_list|)
expr_stmt|;
name|center_y
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|4
index|]
argument_list|)
expr_stmt|;
name|clip_result
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|5
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gint
name|x
decl_stmt|,
name|y
decl_stmt|,
name|width
decl_stmt|,
name|height
decl_stmt|;
name|success
operator|=
name|gimp_item_is_attached
argument_list|(
name|GIMP_ITEM
argument_list|(
name|drawable
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
operator|&&
name|gimp_drawable_mask_intersect
argument_list|(
name|drawable
argument_list|,
operator|&
name|x
argument_list|,
operator|&
name|y
argument_list|,
operator|&
name|width
argument_list|,
operator|&
name|height
argument_list|)
condition|)
block|{
name|success
operator|=
name|gimp_drawable_transform_rotate
argument_list|(
name|drawable
argument_list|,
name|context
argument_list|,
name|rotate_type
argument_list|,
name|auto_center
argument_list|,
name|center_x
argument_list|,
name|center_y
argument_list|,
name|clip_result
argument_list|)
expr_stmt|;
block|}
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_drawable
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|drawable
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|drawable_transform_rotate_simple_proc
specifier|static
name|GimpProcedure
name|drawable_transform_rotate_simple_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-drawable-transform-rotate-simple"
block|,
literal|"gimp-drawable-transform-rotate-simple"
block|,
literal|"Rotate the specified drawable about given coordinates through the specified angle."
block|,
literal|"This function rotates the specified drawable if no selection exists. If a selection exists, the portion of the drawable which lies under the selection is cut from the drawable and made into a floating selection which is then rotated by the specified amount. The return value is the ID of the rotated drawable. If there was no selection, this will be equal to the drawable ID supplied as input. Otherwise, this will be the newly created and rotated drawable."
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|drawable_transform_rotate_simple_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|drawable_transform_rotate_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|drawable_transform_rotate_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
name|GimpDrawable
modifier|*
name|drawable
decl_stmt|;
name|gdouble
name|angle
decl_stmt|;
name|gboolean
name|auto_center
decl_stmt|;
name|gint32
name|center_x
decl_stmt|;
name|gint32
name|center_y
decl_stmt|;
name|gint32
name|transform_direction
decl_stmt|;
name|gint32
name|interpolation
decl_stmt|;
name|gboolean
name|supersample
decl_stmt|;
name|gint32
name|recursion_level
decl_stmt|;
name|gboolean
name|clip_result
decl_stmt|;
name|drawable
operator|=
name|gimp_value_get_drawable
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|angle
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
name|auto_center
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
name|center_x
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|3
index|]
argument_list|)
expr_stmt|;
name|center_y
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|4
index|]
argument_list|)
expr_stmt|;
name|transform_direction
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|5
index|]
argument_list|)
expr_stmt|;
name|interpolation
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|6
index|]
argument_list|)
expr_stmt|;
name|supersample
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|7
index|]
argument_list|)
expr_stmt|;
name|recursion_level
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|8
index|]
argument_list|)
expr_stmt|;
name|clip_result
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|9
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gint
name|x
decl_stmt|,
name|y
decl_stmt|,
name|width
decl_stmt|,
name|height
decl_stmt|;
name|success
operator|=
name|gimp_item_is_attached
argument_list|(
name|GIMP_ITEM
argument_list|(
name|drawable
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
operator|&&
name|gimp_drawable_mask_intersect
argument_list|(
name|drawable
argument_list|,
operator|&
name|x
argument_list|,
operator|&
name|y
argument_list|,
operator|&
name|width
argument_list|,
operator|&
name|height
argument_list|)
condition|)
block|{
name|GimpMatrix3
name|matrix
decl_stmt|;
comment|/* Assemble the transformation matrix */
name|gimp_matrix3_identity
argument_list|(
operator|&
name|matrix
argument_list|)
expr_stmt|;
if|if
condition|(
name|auto_center
condition|)
name|gimp_transform_matrix_rotate_rect
argument_list|(
operator|&
name|matrix
argument_list|,
name|x
argument_list|,
name|y
argument_list|,
name|width
argument_list|,
name|height
argument_list|,
name|angle
argument_list|)
expr_stmt|;
else|else
name|gimp_transform_matrix_rotate_center
argument_list|(
operator|&
name|matrix
argument_list|,
name|center_x
argument_list|,
name|center_y
argument_list|,
name|angle
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_start
argument_list|(
name|progress
argument_list|,
name|_
argument_list|(
literal|"Rotating"
argument_list|)
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
comment|/* Transform the selection */
name|success
operator|=
name|gimp_drawable_transform_affine
argument_list|(
name|drawable
argument_list|,
name|context
argument_list|,
operator|&
name|matrix
argument_list|,
name|transform_direction
argument_list|,
name|interpolation
argument_list|,
name|supersample
argument_list|,
name|recursion_level
argument_list|,
name|clip_result
argument_list|,
name|progress
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_end
argument_list|(
name|progress
argument_list|)
expr_stmt|;
block|}
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_drawable
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|drawable
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|drawable_transform_rotate_proc
specifier|static
name|GimpProcedure
name|drawable_transform_rotate_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-drawable-transform-rotate"
block|,
literal|"gimp-drawable-transform-rotate"
block|,
literal|"Rotate the specified drawable about given coordinates through the specified angle."
block|,
literal|"This function rotates the specified drawable if no selection exists. If a selection exists, the portion of the drawable which lies under the selection is cut from the drawable and made into a floating selection which is then rotated by the specified amount. The return value is the ID of the rotated drawable. If there was no selection, this will be equal to the drawable ID supplied as input. Otherwise, this will be the newly created and rotated drawable."
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|drawable_transform_rotate_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|drawable_transform_rotate_default_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|drawable_transform_rotate_default_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
name|GimpDrawable
modifier|*
name|drawable
decl_stmt|;
name|gdouble
name|angle
decl_stmt|;
name|gboolean
name|auto_center
decl_stmt|;
name|gint32
name|center_x
decl_stmt|;
name|gint32
name|center_y
decl_stmt|;
name|gboolean
name|interpolate
decl_stmt|;
name|gboolean
name|clip_result
decl_stmt|;
name|drawable
operator|=
name|gimp_value_get_drawable
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|angle
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
name|auto_center
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
name|center_x
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|3
index|]
argument_list|)
expr_stmt|;
name|center_y
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|4
index|]
argument_list|)
expr_stmt|;
name|interpolate
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|5
index|]
argument_list|)
expr_stmt|;
name|clip_result
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|6
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gint
name|x
decl_stmt|,
name|y
decl_stmt|,
name|width
decl_stmt|,
name|height
decl_stmt|;
name|success
operator|=
name|gimp_item_is_attached
argument_list|(
name|GIMP_ITEM
argument_list|(
name|drawable
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
operator|&&
name|gimp_drawable_mask_intersect
argument_list|(
name|drawable
argument_list|,
operator|&
name|x
argument_list|,
operator|&
name|y
argument_list|,
operator|&
name|width
argument_list|,
operator|&
name|height
argument_list|)
condition|)
block|{
name|GimpMatrix3
name|matrix
decl_stmt|;
name|GimpInterpolationType
name|interpolation_type
init|=
name|GIMP_INTERPOLATION_NONE
decl_stmt|;
comment|/* Assemble the transformation matrix */
name|gimp_matrix3_identity
argument_list|(
operator|&
name|matrix
argument_list|)
expr_stmt|;
if|if
condition|(
name|auto_center
condition|)
name|gimp_transform_matrix_rotate_rect
argument_list|(
operator|&
name|matrix
argument_list|,
name|x
argument_list|,
name|y
argument_list|,
name|width
argument_list|,
name|height
argument_list|,
name|angle
argument_list|)
expr_stmt|;
else|else
name|gimp_transform_matrix_rotate_center
argument_list|(
operator|&
name|matrix
argument_list|,
name|center_x
argument_list|,
name|center_y
argument_list|,
name|angle
argument_list|)
expr_stmt|;
if|if
condition|(
name|interpolate
condition|)
name|interpolation_type
operator|=
name|gimp
operator|->
name|config
operator|->
name|interpolation_type
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_start
argument_list|(
name|progress
argument_list|,
name|_
argument_list|(
literal|"Rotating"
argument_list|)
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
comment|/* Transform the selection */
name|success
operator|=
name|gimp_drawable_transform_affine
argument_list|(
name|drawable
argument_list|,
name|context
argument_list|,
operator|&
name|matrix
argument_list|,
name|GIMP_TRANSFORM_FORWARD
argument_list|,
name|interpolation_type
argument_list|,
name|interpolate
argument_list|,
literal|3
argument_list|,
name|clip_result
argument_list|,
name|progress
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_end
argument_list|(
name|progress
argument_list|)
expr_stmt|;
block|}
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_drawable
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|drawable
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|drawable_transform_rotate_default_proc
specifier|static
name|GimpProcedure
name|drawable_transform_rotate_default_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-drawable-transform-rotate-default"
block|,
literal|"gimp-drawable-transform-rotate-default"
block|,
literal|"Rotate the specified drawable about given coordinates through the specified angle."
block|,
literal|"This procedure is a variant of gimp_drawable_transform_rotate() which uses no interpolation/supersampling at all, or default values (depending on the 'interpolate' parameter)."
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|drawable_transform_rotate_default_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|drawable_transform_scale_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|drawable_transform_scale_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
name|GimpDrawable
modifier|*
name|drawable
decl_stmt|;
name|gdouble
name|x0
decl_stmt|;
name|gdouble
name|y0
decl_stmt|;
name|gdouble
name|x1
decl_stmt|;
name|gdouble
name|y1
decl_stmt|;
name|gint32
name|transform_direction
decl_stmt|;
name|gint32
name|interpolation
decl_stmt|;
name|gboolean
name|supersample
decl_stmt|;
name|gint32
name|recursion_level
decl_stmt|;
name|gboolean
name|clip_result
decl_stmt|;
name|drawable
operator|=
name|gimp_value_get_drawable
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|x0
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
name|y0
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
name|x1
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|3
index|]
argument_list|)
expr_stmt|;
name|y1
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|4
index|]
argument_list|)
expr_stmt|;
name|transform_direction
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|5
index|]
argument_list|)
expr_stmt|;
name|interpolation
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|6
index|]
argument_list|)
expr_stmt|;
name|supersample
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|7
index|]
argument_list|)
expr_stmt|;
name|recursion_level
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|8
index|]
argument_list|)
expr_stmt|;
name|clip_result
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|9
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gint
name|x
decl_stmt|,
name|y
decl_stmt|,
name|width
decl_stmt|,
name|height
decl_stmt|;
name|success
operator|=
operator|(
name|gimp_item_is_attached
argument_list|(
name|GIMP_ITEM
argument_list|(
name|drawable
argument_list|)
argument_list|)
operator|&&
name|x0
operator|<
name|x1
operator|&&
name|y0
operator|<
name|y1
operator|)
expr_stmt|;
if|if
condition|(
name|success
operator|&&
name|gimp_drawable_mask_intersect
argument_list|(
name|drawable
argument_list|,
operator|&
name|x
argument_list|,
operator|&
name|y
argument_list|,
operator|&
name|width
argument_list|,
operator|&
name|height
argument_list|)
condition|)
block|{
name|GimpMatrix3
name|matrix
decl_stmt|;
comment|/* Assemble the transformation matrix */
name|gimp_matrix3_identity
argument_list|(
operator|&
name|matrix
argument_list|)
expr_stmt|;
name|gimp_transform_matrix_scale
argument_list|(
operator|&
name|matrix
argument_list|,
name|x
argument_list|,
name|y
argument_list|,
name|width
argument_list|,
name|height
argument_list|,
name|x0
argument_list|,
name|y0
argument_list|,
name|x1
operator|-
name|x0
argument_list|,
name|y1
operator|-
name|y0
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_start
argument_list|(
name|progress
argument_list|,
name|_
argument_list|(
literal|"Scaling"
argument_list|)
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
comment|/* Transform the selection */
name|success
operator|=
name|gimp_drawable_transform_affine
argument_list|(
name|drawable
argument_list|,
name|context
argument_list|,
operator|&
name|matrix
argument_list|,
name|transform_direction
argument_list|,
name|interpolation
argument_list|,
name|supersample
argument_list|,
name|recursion_level
argument_list|,
name|clip_result
argument_list|,
name|progress
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_end
argument_list|(
name|progress
argument_list|)
expr_stmt|;
block|}
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_drawable
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|drawable
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|drawable_transform_scale_proc
specifier|static
name|GimpProcedure
name|drawable_transform_scale_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-drawable-transform-scale"
block|,
literal|"gimp-drawable-transform-scale"
block|,
literal|"Scale the specified drawable with extra parameters"
block|,
literal|"This procedure scales the specified drawable if no selection exists. If a selection exists, the portion of the drawable which lies under the selection is cut from the drawable and made into a floating selection which is then scaled by the specified amount. The return value is the ID of the scaled drawable. If there was no selection, this will be equal to the drawable ID supplied as input. Otherwise, this will be the newly created and scaled drawable."
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|drawable_transform_scale_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|drawable_transform_scale_default_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|drawable_transform_scale_default_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
name|GimpDrawable
modifier|*
name|drawable
decl_stmt|;
name|gdouble
name|x0
decl_stmt|;
name|gdouble
name|y0
decl_stmt|;
name|gdouble
name|x1
decl_stmt|;
name|gdouble
name|y1
decl_stmt|;
name|gboolean
name|interpolate
decl_stmt|;
name|gboolean
name|clip_result
decl_stmt|;
name|drawable
operator|=
name|gimp_value_get_drawable
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|x0
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
name|y0
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
name|x1
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|3
index|]
argument_list|)
expr_stmt|;
name|y1
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|4
index|]
argument_list|)
expr_stmt|;
name|interpolate
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|5
index|]
argument_list|)
expr_stmt|;
name|clip_result
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|6
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gint
name|x
decl_stmt|,
name|y
decl_stmt|,
name|width
decl_stmt|,
name|height
decl_stmt|;
name|success
operator|=
operator|(
name|gimp_item_is_attached
argument_list|(
name|GIMP_ITEM
argument_list|(
name|drawable
argument_list|)
argument_list|)
operator|&&
name|x0
operator|<
name|x1
operator|&&
name|y0
operator|<
name|y1
operator|)
expr_stmt|;
if|if
condition|(
name|success
operator|&&
name|gimp_drawable_mask_intersect
argument_list|(
name|drawable
argument_list|,
operator|&
name|x
argument_list|,
operator|&
name|y
argument_list|,
operator|&
name|width
argument_list|,
operator|&
name|height
argument_list|)
condition|)
block|{
name|GimpMatrix3
name|matrix
decl_stmt|;
name|GimpInterpolationType
name|interpolation_type
init|=
name|GIMP_INTERPOLATION_NONE
decl_stmt|;
comment|/* Assemble the transformation matrix */
name|gimp_matrix3_identity
argument_list|(
operator|&
name|matrix
argument_list|)
expr_stmt|;
name|gimp_transform_matrix_scale
argument_list|(
operator|&
name|matrix
argument_list|,
name|x
argument_list|,
name|y
argument_list|,
name|width
argument_list|,
name|height
argument_list|,
name|x0
argument_list|,
name|y0
argument_list|,
name|x1
operator|-
name|x0
argument_list|,
name|y1
operator|-
name|y0
argument_list|)
expr_stmt|;
if|if
condition|(
name|interpolate
condition|)
name|interpolation_type
operator|=
name|gimp
operator|->
name|config
operator|->
name|interpolation_type
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_start
argument_list|(
name|progress
argument_list|,
name|_
argument_list|(
literal|"Scaling"
argument_list|)
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
comment|/* Transform the selection */
name|success
operator|=
name|gimp_drawable_transform_affine
argument_list|(
name|drawable
argument_list|,
name|context
argument_list|,
operator|&
name|matrix
argument_list|,
name|GIMP_TRANSFORM_FORWARD
argument_list|,
name|interpolation_type
argument_list|,
name|interpolate
argument_list|,
literal|3
argument_list|,
name|clip_result
argument_list|,
name|progress
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_end
argument_list|(
name|progress
argument_list|)
expr_stmt|;
block|}
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_drawable
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|drawable
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|drawable_transform_scale_default_proc
specifier|static
name|GimpProcedure
name|drawable_transform_scale_default_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-drawable-transform-scale-default"
block|,
literal|"gimp-drawable-transform-scale-default"
block|,
literal|"Scale the specified drawable with extra parameters"
block|,
literal|"This procedure is a variant of gimp_drawable_transform_scale() which uses no interpolation/supersampling at all, or default values (depending on the 'interpolate' parameter)."
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|drawable_transform_scale_default_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|drawable_transform_shear_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|drawable_transform_shear_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
name|GimpDrawable
modifier|*
name|drawable
decl_stmt|;
name|gint32
name|shear_type
decl_stmt|;
name|gdouble
name|magnitude
decl_stmt|;
name|gint32
name|transform_direction
decl_stmt|;
name|gint32
name|interpolation
decl_stmt|;
name|gboolean
name|supersample
decl_stmt|;
name|gint32
name|recursion_level
decl_stmt|;
name|gboolean
name|clip_result
decl_stmt|;
name|drawable
operator|=
name|gimp_value_get_drawable
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|shear_type
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
name|magnitude
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
name|transform_direction
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|3
index|]
argument_list|)
expr_stmt|;
name|interpolation
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|4
index|]
argument_list|)
expr_stmt|;
name|supersample
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|5
index|]
argument_list|)
expr_stmt|;
name|recursion_level
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|6
index|]
argument_list|)
expr_stmt|;
name|clip_result
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|7
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gint
name|x
decl_stmt|,
name|y
decl_stmt|,
name|width
decl_stmt|,
name|height
decl_stmt|;
name|success
operator|=
name|gimp_item_is_attached
argument_list|(
name|GIMP_ITEM
argument_list|(
name|drawable
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
operator|&&
name|gimp_drawable_mask_intersect
argument_list|(
name|drawable
argument_list|,
operator|&
name|x
argument_list|,
operator|&
name|y
argument_list|,
operator|&
name|width
argument_list|,
operator|&
name|height
argument_list|)
condition|)
block|{
name|GimpMatrix3
name|matrix
decl_stmt|;
comment|/* Assemble the transformation matrix */
name|gimp_matrix3_identity
argument_list|(
operator|&
name|matrix
argument_list|)
expr_stmt|;
name|gimp_transform_matrix_shear
argument_list|(
operator|&
name|matrix
argument_list|,
name|x
argument_list|,
name|y
argument_list|,
name|width
argument_list|,
name|height
argument_list|,
name|shear_type
argument_list|,
name|magnitude
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_start
argument_list|(
name|progress
argument_list|,
name|_
argument_list|(
literal|"Shearing"
argument_list|)
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
comment|/* Transform the selection */
name|success
operator|=
name|gimp_drawable_transform_affine
argument_list|(
name|drawable
argument_list|,
name|context
argument_list|,
operator|&
name|matrix
argument_list|,
name|transform_direction
argument_list|,
name|interpolation
argument_list|,
name|supersample
argument_list|,
name|recursion_level
argument_list|,
name|clip_result
argument_list|,
name|progress
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_end
argument_list|(
name|progress
argument_list|)
expr_stmt|;
block|}
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_drawable
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|drawable
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|drawable_transform_shear_proc
specifier|static
name|GimpProcedure
name|drawable_transform_shear_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-drawable-transform-shear"
block|,
literal|"gimp-drawable-transform-shear"
block|,
literal|"Shear the specified drawable about its center by the specified magnitude, with extra parameters."
block|,
literal|"This procedure shears the specified drawable if no selection exists. If a selection exists, the portion of the drawable which lies under the selection is cut from the drawable and made into a floating selection which is then sheard by the specified amount. The return value is the ID of the sheard drawable. If there was no selection, this will be equal to the drawable ID supplied as input. Otherwise, this will be the newly created and sheard drawable. The shear type parameter indicates whether the shear will be applied horizontally or vertically. The magnitude can be either positive or negative and indicates the extent (in pixels) to shear by."
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|drawable_transform_shear_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|drawable_transform_shear_default_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|drawable_transform_shear_default_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
name|GimpDrawable
modifier|*
name|drawable
decl_stmt|;
name|gint32
name|shear_type
decl_stmt|;
name|gdouble
name|magnitude
decl_stmt|;
name|gboolean
name|interpolate
decl_stmt|;
name|gboolean
name|clip_result
decl_stmt|;
name|drawable
operator|=
name|gimp_value_get_drawable
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|shear_type
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
name|magnitude
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
name|interpolate
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|3
index|]
argument_list|)
expr_stmt|;
name|clip_result
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|4
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gint
name|x
decl_stmt|,
name|y
decl_stmt|,
name|width
decl_stmt|,
name|height
decl_stmt|;
name|success
operator|=
name|gimp_item_is_attached
argument_list|(
name|GIMP_ITEM
argument_list|(
name|drawable
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
operator|&&
name|gimp_drawable_mask_intersect
argument_list|(
name|drawable
argument_list|,
operator|&
name|x
argument_list|,
operator|&
name|y
argument_list|,
operator|&
name|width
argument_list|,
operator|&
name|height
argument_list|)
condition|)
block|{
name|GimpMatrix3
name|matrix
decl_stmt|;
name|GimpInterpolationType
name|interpolation_type
init|=
name|GIMP_INTERPOLATION_NONE
decl_stmt|;
comment|/* Assemble the transformation matrix */
name|gimp_matrix3_identity
argument_list|(
operator|&
name|matrix
argument_list|)
expr_stmt|;
name|gimp_transform_matrix_shear
argument_list|(
operator|&
name|matrix
argument_list|,
name|x
argument_list|,
name|y
argument_list|,
name|width
argument_list|,
name|height
argument_list|,
name|shear_type
argument_list|,
name|magnitude
argument_list|)
expr_stmt|;
if|if
condition|(
name|interpolate
condition|)
name|interpolation_type
operator|=
name|gimp
operator|->
name|config
operator|->
name|interpolation_type
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_start
argument_list|(
name|progress
argument_list|,
name|_
argument_list|(
literal|"Shearing"
argument_list|)
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
comment|/* Transform the selection */
name|success
operator|=
name|gimp_drawable_transform_affine
argument_list|(
name|drawable
argument_list|,
name|context
argument_list|,
operator|&
name|matrix
argument_list|,
name|GIMP_TRANSFORM_FORWARD
argument_list|,
name|interpolation_type
argument_list|,
name|interpolate
argument_list|,
literal|3
argument_list|,
name|clip_result
argument_list|,
name|progress
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_end
argument_list|(
name|progress
argument_list|)
expr_stmt|;
block|}
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_drawable
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|drawable
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|drawable_transform_shear_default_proc
specifier|static
name|GimpProcedure
name|drawable_transform_shear_default_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-drawable-transform-shear-default"
block|,
literal|"gimp-drawable-transform-shear-default"
block|,
literal|"Shear the specified drawable about its center by the specified magnitude, with extra parameters."
block|,
literal|"This procedure is a variant of gimp_drawable_transform_shear() which uses no interpolation/supersampling at all, or default values (depending on the 'interpolate' parameter)."
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|drawable_transform_shear_default_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|drawable_transform_2d_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|drawable_transform_2d_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
name|GimpDrawable
modifier|*
name|drawable
decl_stmt|;
name|gdouble
name|source_x
decl_stmt|;
name|gdouble
name|source_y
decl_stmt|;
name|gdouble
name|scale_x
decl_stmt|;
name|gdouble
name|scale_y
decl_stmt|;
name|gdouble
name|angle
decl_stmt|;
name|gdouble
name|dest_x
decl_stmt|;
name|gdouble
name|dest_y
decl_stmt|;
name|gint32
name|transform_direction
decl_stmt|;
name|gint32
name|interpolation
decl_stmt|;
name|gboolean
name|supersample
decl_stmt|;
name|gint32
name|recursion_level
decl_stmt|;
name|gboolean
name|clip_result
decl_stmt|;
name|drawable
operator|=
name|gimp_value_get_drawable
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|source_x
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
name|source_y
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
name|scale_x
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|3
index|]
argument_list|)
expr_stmt|;
name|scale_y
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|4
index|]
argument_list|)
expr_stmt|;
name|angle
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|5
index|]
argument_list|)
expr_stmt|;
name|dest_x
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|6
index|]
argument_list|)
expr_stmt|;
name|dest_y
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|7
index|]
argument_list|)
expr_stmt|;
name|transform_direction
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|8
index|]
argument_list|)
expr_stmt|;
name|interpolation
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|9
index|]
argument_list|)
expr_stmt|;
name|supersample
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|10
index|]
argument_list|)
expr_stmt|;
name|recursion_level
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|11
index|]
argument_list|)
expr_stmt|;
name|clip_result
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|12
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gint
name|x
decl_stmt|,
name|y
decl_stmt|,
name|width
decl_stmt|,
name|height
decl_stmt|;
name|success
operator|=
name|gimp_item_is_attached
argument_list|(
name|GIMP_ITEM
argument_list|(
name|drawable
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
operator|&&
name|gimp_drawable_mask_intersect
argument_list|(
name|drawable
argument_list|,
operator|&
name|x
argument_list|,
operator|&
name|y
argument_list|,
operator|&
name|width
argument_list|,
operator|&
name|height
argument_list|)
condition|)
block|{
name|GimpMatrix3
name|matrix
decl_stmt|;
comment|/* Assemble the transformation matrix */
name|gimp_matrix3_identity
argument_list|(
operator|&
name|matrix
argument_list|)
expr_stmt|;
name|gimp_matrix3_translate
argument_list|(
operator|&
name|matrix
argument_list|,
operator|-
name|source_x
argument_list|,
operator|-
name|source_y
argument_list|)
expr_stmt|;
name|gimp_matrix3_scale
argument_list|(
operator|&
name|matrix
argument_list|,
name|scale_x
argument_list|,
name|scale_y
argument_list|)
expr_stmt|;
name|gimp_matrix3_rotate
argument_list|(
operator|&
name|matrix
argument_list|,
name|angle
argument_list|)
expr_stmt|;
name|gimp_matrix3_translate
argument_list|(
operator|&
name|matrix
argument_list|,
name|dest_x
argument_list|,
name|dest_y
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_start
argument_list|(
name|progress
argument_list|,
name|_
argument_list|(
literal|"2D Transform"
argument_list|)
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
comment|/* Transform the selection */
name|success
operator|=
name|gimp_drawable_transform_affine
argument_list|(
name|drawable
argument_list|,
name|context
argument_list|,
operator|&
name|matrix
argument_list|,
name|transform_direction
argument_list|,
name|interpolation
argument_list|,
name|supersample
argument_list|,
name|recursion_level
argument_list|,
name|clip_result
argument_list|,
name|progress
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_end
argument_list|(
name|progress
argument_list|)
expr_stmt|;
block|}
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_drawable
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|drawable
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|drawable_transform_2d_proc
specifier|static
name|GimpProcedure
name|drawable_transform_2d_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-drawable-transform-2d"
block|,
literal|"gimp-drawable-transform-2d"
block|,
literal|"Transform the specified drawable in 2d, with extra parameters."
block|,
literal|"This procedure transforms the specified drawable if no selection exists. If a selection exists, the portion of the drawable which lies under the selection is cut from the drawable and made into a floating selection which is then transformed. The transformation is done by scaling the image by the x and y scale factors about the point (source_x, source_y), then rotating around the same point, then translating that point to the new position (dest_x, dest_y). The return value is the ID of the rotated drawable. If there was no selection, this will be equal to the drawable ID supplied as input. Otherwise, this will be the newly created and transformed drawable."
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|drawable_transform_2d_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|drawable_transform_2d_default_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|drawable_transform_2d_default_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
name|GimpDrawable
modifier|*
name|drawable
decl_stmt|;
name|gdouble
name|source_x
decl_stmt|;
name|gdouble
name|source_y
decl_stmt|;
name|gdouble
name|scale_x
decl_stmt|;
name|gdouble
name|scale_y
decl_stmt|;
name|gdouble
name|angle
decl_stmt|;
name|gdouble
name|dest_x
decl_stmt|;
name|gdouble
name|dest_y
decl_stmt|;
name|gboolean
name|interpolate
decl_stmt|;
name|gboolean
name|clip_result
decl_stmt|;
name|drawable
operator|=
name|gimp_value_get_drawable
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|source_x
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
name|source_y
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
name|scale_x
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|3
index|]
argument_list|)
expr_stmt|;
name|scale_y
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|4
index|]
argument_list|)
expr_stmt|;
name|angle
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|5
index|]
argument_list|)
expr_stmt|;
name|dest_x
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|6
index|]
argument_list|)
expr_stmt|;
name|dest_y
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|7
index|]
argument_list|)
expr_stmt|;
name|interpolate
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|8
index|]
argument_list|)
expr_stmt|;
name|clip_result
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|9
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gint
name|x
decl_stmt|,
name|y
decl_stmt|,
name|width
decl_stmt|,
name|height
decl_stmt|;
name|success
operator|=
name|gimp_item_is_attached
argument_list|(
name|GIMP_ITEM
argument_list|(
name|drawable
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
operator|&&
name|gimp_drawable_mask_intersect
argument_list|(
name|drawable
argument_list|,
operator|&
name|x
argument_list|,
operator|&
name|y
argument_list|,
operator|&
name|width
argument_list|,
operator|&
name|height
argument_list|)
condition|)
block|{
name|GimpMatrix3
name|matrix
decl_stmt|;
name|GimpInterpolationType
name|interpolation_type
init|=
name|GIMP_INTERPOLATION_NONE
decl_stmt|;
comment|/* Assemble the transformation matrix */
name|gimp_matrix3_identity
argument_list|(
operator|&
name|matrix
argument_list|)
expr_stmt|;
name|gimp_matrix3_translate
argument_list|(
operator|&
name|matrix
argument_list|,
operator|-
name|source_x
argument_list|,
operator|-
name|source_y
argument_list|)
expr_stmt|;
name|gimp_matrix3_scale
argument_list|(
operator|&
name|matrix
argument_list|,
name|scale_x
argument_list|,
name|scale_y
argument_list|)
expr_stmt|;
name|gimp_matrix3_rotate
argument_list|(
operator|&
name|matrix
argument_list|,
name|angle
argument_list|)
expr_stmt|;
name|gimp_matrix3_translate
argument_list|(
operator|&
name|matrix
argument_list|,
name|dest_x
argument_list|,
name|dest_y
argument_list|)
expr_stmt|;
if|if
condition|(
name|interpolate
condition|)
name|interpolation_type
operator|=
name|gimp
operator|->
name|config
operator|->
name|interpolation_type
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_start
argument_list|(
name|progress
argument_list|,
name|_
argument_list|(
literal|"2D Transforming"
argument_list|)
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
comment|/* Transform the selection */
name|success
operator|=
name|gimp_drawable_transform_affine
argument_list|(
name|drawable
argument_list|,
name|context
argument_list|,
operator|&
name|matrix
argument_list|,
name|GIMP_TRANSFORM_FORWARD
argument_list|,
name|interpolation_type
argument_list|,
name|interpolate
argument_list|,
literal|3
argument_list|,
name|clip_result
argument_list|,
name|progress
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_end
argument_list|(
name|progress
argument_list|)
expr_stmt|;
block|}
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_drawable
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|drawable
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|drawable_transform_2d_default_proc
specifier|static
name|GimpProcedure
name|drawable_transform_2d_default_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-drawable-transform-2d-default"
block|,
literal|"gimp-drawable-transform-2d-default"
block|,
literal|"Transform the specified drawable in 2d, with extra parameters."
block|,
literal|"This procedure is a variant of gimp_drawable_transform_2d() which uses no interpolation/supersampling at all, or default values (depending on the 'interpolate' parameter)."
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|drawable_transform_2d_default_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|drawable_transform_matrix_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|drawable_transform_matrix_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
name|GimpDrawable
modifier|*
name|drawable
decl_stmt|;
name|gdouble
name|coeff_0_0
decl_stmt|;
name|gdouble
name|coeff_0_1
decl_stmt|;
name|gdouble
name|coeff_0_2
decl_stmt|;
name|gdouble
name|coeff_1_0
decl_stmt|;
name|gdouble
name|coeff_1_1
decl_stmt|;
name|gdouble
name|coeff_1_2
decl_stmt|;
name|gdouble
name|coeff_2_0
decl_stmt|;
name|gdouble
name|coeff_2_1
decl_stmt|;
name|gdouble
name|coeff_2_2
decl_stmt|;
name|gint32
name|transform_direction
decl_stmt|;
name|gint32
name|interpolation
decl_stmt|;
name|gboolean
name|supersample
decl_stmt|;
name|gint32
name|recursion_level
decl_stmt|;
name|gboolean
name|clip_result
decl_stmt|;
name|drawable
operator|=
name|gimp_value_get_drawable
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|coeff_0_0
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
name|coeff_0_1
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
name|coeff_0_2
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|3
index|]
argument_list|)
expr_stmt|;
name|coeff_1_0
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|4
index|]
argument_list|)
expr_stmt|;
name|coeff_1_1
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|5
index|]
argument_list|)
expr_stmt|;
name|coeff_1_2
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|6
index|]
argument_list|)
expr_stmt|;
name|coeff_2_0
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|7
index|]
argument_list|)
expr_stmt|;
name|coeff_2_1
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|8
index|]
argument_list|)
expr_stmt|;
name|coeff_2_2
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|9
index|]
argument_list|)
expr_stmt|;
name|transform_direction
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|10
index|]
argument_list|)
expr_stmt|;
name|interpolation
operator|=
name|g_value_get_enum
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|11
index|]
argument_list|)
expr_stmt|;
name|supersample
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|12
index|]
argument_list|)
expr_stmt|;
name|recursion_level
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|13
index|]
argument_list|)
expr_stmt|;
name|clip_result
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|14
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gint
name|x
decl_stmt|,
name|y
decl_stmt|,
name|width
decl_stmt|,
name|height
decl_stmt|;
name|success
operator|=
name|gimp_item_is_attached
argument_list|(
name|GIMP_ITEM
argument_list|(
name|drawable
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
operator|&&
name|gimp_drawable_mask_intersect
argument_list|(
name|drawable
argument_list|,
operator|&
name|x
argument_list|,
operator|&
name|y
argument_list|,
operator|&
name|width
argument_list|,
operator|&
name|height
argument_list|)
condition|)
block|{
name|GimpMatrix3
name|matrix
decl_stmt|;
comment|/* Assemble the transformation matrix */
name|matrix
operator|.
name|coeff
index|[
literal|0
index|]
index|[
literal|0
index|]
operator|=
name|coeff_0_0
expr_stmt|;
name|matrix
operator|.
name|coeff
index|[
literal|0
index|]
index|[
literal|1
index|]
operator|=
name|coeff_0_1
expr_stmt|;
name|matrix
operator|.
name|coeff
index|[
literal|0
index|]
index|[
literal|2
index|]
operator|=
name|coeff_0_2
expr_stmt|;
name|matrix
operator|.
name|coeff
index|[
literal|1
index|]
index|[
literal|0
index|]
operator|=
name|coeff_1_0
expr_stmt|;
name|matrix
operator|.
name|coeff
index|[
literal|1
index|]
index|[
literal|1
index|]
operator|=
name|coeff_1_1
expr_stmt|;
name|matrix
operator|.
name|coeff
index|[
literal|1
index|]
index|[
literal|2
index|]
operator|=
name|coeff_1_2
expr_stmt|;
name|matrix
operator|.
name|coeff
index|[
literal|2
index|]
index|[
literal|0
index|]
operator|=
name|coeff_2_0
expr_stmt|;
name|matrix
operator|.
name|coeff
index|[
literal|2
index|]
index|[
literal|1
index|]
operator|=
name|coeff_2_1
expr_stmt|;
name|matrix
operator|.
name|coeff
index|[
literal|2
index|]
index|[
literal|2
index|]
operator|=
name|coeff_2_2
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_start
argument_list|(
name|progress
argument_list|,
name|_
argument_list|(
literal|"2D Transforming"
argument_list|)
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
comment|/* Transform the selection */
name|success
operator|=
name|gimp_drawable_transform_affine
argument_list|(
name|drawable
argument_list|,
name|context
argument_list|,
operator|&
name|matrix
argument_list|,
name|transform_direction
argument_list|,
name|interpolation
argument_list|,
name|supersample
argument_list|,
name|recursion_level
argument_list|,
name|clip_result
argument_list|,
name|progress
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_end
argument_list|(
name|progress
argument_list|)
expr_stmt|;
block|}
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_drawable
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|drawable
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|drawable_transform_matrix_proc
specifier|static
name|GimpProcedure
name|drawable_transform_matrix_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-drawable-transform-matrix"
block|,
literal|"gimp-drawable-transform-matrix"
block|,
literal|"Transform the specified drawable in 2d, with extra parameters."
block|,
literal|"This procedure transforms the specified drawable if no selection exists. If a selection exists, the portion of the drawable which lies under the selection is cut from the drawable and made into a floating selection which is then transformed. The transformation is done by assembling a 3x3 matrix from the coefficients passed. The return value is the ID of the rotated drawable. If there was no selection, this will be equal to the drawable ID supplied as input. Otherwise, this will be the newly created and transformed drawable."
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|drawable_transform_matrix_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|drawable_transform_matrix_default_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|drawable_transform_matrix_default_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
name|GimpDrawable
modifier|*
name|drawable
decl_stmt|;
name|gdouble
name|coeff_0_0
decl_stmt|;
name|gdouble
name|coeff_0_1
decl_stmt|;
name|gdouble
name|coeff_0_2
decl_stmt|;
name|gdouble
name|coeff_1_0
decl_stmt|;
name|gdouble
name|coeff_1_1
decl_stmt|;
name|gdouble
name|coeff_1_2
decl_stmt|;
name|gdouble
name|coeff_2_0
decl_stmt|;
name|gdouble
name|coeff_2_1
decl_stmt|;
name|gdouble
name|coeff_2_2
decl_stmt|;
name|gboolean
name|interpolate
decl_stmt|;
name|gboolean
name|clip_result
decl_stmt|;
name|drawable
operator|=
name|gimp_value_get_drawable
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|,
name|gimp
argument_list|)
expr_stmt|;
name|coeff_0_0
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
name|coeff_0_1
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
name|coeff_0_2
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|3
index|]
argument_list|)
expr_stmt|;
name|coeff_1_0
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|4
index|]
argument_list|)
expr_stmt|;
name|coeff_1_1
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|5
index|]
argument_list|)
expr_stmt|;
name|coeff_1_2
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|6
index|]
argument_list|)
expr_stmt|;
name|coeff_2_0
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|7
index|]
argument_list|)
expr_stmt|;
name|coeff_2_1
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|8
index|]
argument_list|)
expr_stmt|;
name|coeff_2_2
operator|=
name|g_value_get_double
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|9
index|]
argument_list|)
expr_stmt|;
name|interpolate
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|10
index|]
argument_list|)
expr_stmt|;
name|clip_result
operator|=
name|g_value_get_boolean
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|11
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gint
name|x
decl_stmt|,
name|y
decl_stmt|,
name|width
decl_stmt|,
name|height
decl_stmt|;
name|success
operator|=
name|gimp_item_is_attached
argument_list|(
name|GIMP_ITEM
argument_list|(
name|drawable
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
operator|&&
name|gimp_drawable_mask_intersect
argument_list|(
name|drawable
argument_list|,
operator|&
name|x
argument_list|,
operator|&
name|y
argument_list|,
operator|&
name|width
argument_list|,
operator|&
name|height
argument_list|)
condition|)
block|{
name|GimpMatrix3
name|matrix
decl_stmt|;
name|GimpInterpolationType
name|interpolation_type
init|=
name|GIMP_INTERPOLATION_NONE
decl_stmt|;
comment|/* Assemble the transformation matrix */
name|matrix
operator|.
name|coeff
index|[
literal|0
index|]
index|[
literal|0
index|]
operator|=
name|coeff_0_0
expr_stmt|;
name|matrix
operator|.
name|coeff
index|[
literal|0
index|]
index|[
literal|1
index|]
operator|=
name|coeff_0_1
expr_stmt|;
name|matrix
operator|.
name|coeff
index|[
literal|0
index|]
index|[
literal|2
index|]
operator|=
name|coeff_0_2
expr_stmt|;
name|matrix
operator|.
name|coeff
index|[
literal|1
index|]
index|[
literal|0
index|]
operator|=
name|coeff_1_0
expr_stmt|;
name|matrix
operator|.
name|coeff
index|[
literal|1
index|]
index|[
literal|1
index|]
operator|=
name|coeff_1_1
expr_stmt|;
name|matrix
operator|.
name|coeff
index|[
literal|1
index|]
index|[
literal|2
index|]
operator|=
name|coeff_1_2
expr_stmt|;
name|matrix
operator|.
name|coeff
index|[
literal|2
index|]
index|[
literal|0
index|]
operator|=
name|coeff_2_0
expr_stmt|;
name|matrix
operator|.
name|coeff
index|[
literal|2
index|]
index|[
literal|1
index|]
operator|=
name|coeff_2_1
expr_stmt|;
name|matrix
operator|.
name|coeff
index|[
literal|2
index|]
index|[
literal|2
index|]
operator|=
name|coeff_2_2
expr_stmt|;
if|if
condition|(
name|interpolate
condition|)
name|interpolation_type
operator|=
name|gimp
operator|->
name|config
operator|->
name|interpolation_type
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_start
argument_list|(
name|progress
argument_list|,
name|_
argument_list|(
literal|"2D Transforming"
argument_list|)
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
comment|/* Transform the selection */
name|success
operator|=
name|gimp_drawable_transform_affine
argument_list|(
name|drawable
argument_list|,
name|context
argument_list|,
operator|&
name|matrix
argument_list|,
name|GIMP_TRANSFORM_FORWARD
argument_list|,
name|interpolation_type
argument_list|,
name|interpolate
argument_list|,
literal|3
argument_list|,
name|clip_result
argument_list|,
name|progress
argument_list|)
expr_stmt|;
if|if
condition|(
name|progress
condition|)
name|gimp_progress_end
argument_list|(
name|progress
argument_list|)
expr_stmt|;
block|}
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|gimp_value_set_drawable
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|drawable
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_decl_stmt
DECL|variable|drawable_transform_matrix_default_proc
specifier|static
name|GimpProcedure
name|drawable_transform_matrix_default_proc
init|=
block|{
name|TRUE
block|,
name|TRUE
block|,
literal|"gimp-drawable-transform-matrix-default"
block|,
literal|"gimp-drawable-transform-matrix-default"
block|,
literal|"Transform the specified drawable in 2d, with extra parameters."
block|,
literal|"This procedure is a variant of gimp_drawable_transform_matrix() which uses no interpolation/supersampling at all, or default values (depending on the 'interpolate' parameter)."
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"Jo\xc3\xa3o S. O. Bueno Calligaris"
block|,
literal|"2004"
block|,
name|NULL
block|,
name|GIMP_INTERNAL
block|,
literal|0
block|,
name|NULL
block|,
literal|0
block|,
name|NULL
block|,
block|{
block|{
name|drawable_transform_matrix_default_invoker
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

end_unit


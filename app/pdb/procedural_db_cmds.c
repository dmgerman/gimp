begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* The GIMP -- an image manipulation program  * Copyright (C) 1995-2003 Spencer Kimball and Peter Mattis  *  * This program is free software; you can redistribute it and/or modify  * it under the terms of the GNU General Public License as published by  * the Free Software Foundation; either version 2 of the License, or  * (at your option) any later version.  *  * This program is distributed in the hope that it will be useful,  * but WITHOUT ANY WARRANTY; without even the implied warranty of  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the  * GNU General Public License for more details.  *  * You should have received a copy of the GNU General Public License  * along with this program; if not, write to the Free Software  * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */
end_comment

begin_comment
comment|/* NOTE: This file is autogenerated by pdbgen.pl. */
end_comment

begin_include
include|#
directive|include
file|"config.h"
end_include

begin_include
include|#
directive|include
file|<glib-object.h>
end_include

begin_include
include|#
directive|include
file|"libgimpbase/gimpbase.h"
end_include

begin_include
include|#
directive|include
file|"pdb-types.h"
end_include

begin_include
include|#
directive|include
file|"gimp-pdb.h"
end_include

begin_include
include|#
directive|include
file|"gimpprocedure.h"
end_include

begin_include
include|#
directive|include
file|"core/gimpparamspecs.h"
end_include

begin_include
include|#
directive|include
file|"core/gimp.h"
end_include

begin_include
include|#
directive|include
file|"gimp-pdb-compat.h"
end_include

begin_include
include|#
directive|include
file|"gimp-pdb-query.h"
end_include

begin_include
include|#
directive|include
file|"plug-in/plug-in-data.h"
end_include

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|procedural_db_temp_name_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|procedural_db_temp_name_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
name|gchar
modifier|*
name|temp_name
init|=
name|NULL
decl_stmt|;
specifier|static
name|gint
name|proc_number
init|=
literal|0
decl_stmt|;
name|temp_name
operator|=
name|g_strdup_printf
argument_list|(
literal|"temp-procedure-number-%d"
argument_list|,
name|proc_number
operator|++
argument_list|)
expr_stmt|;
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|TRUE
argument_list|)
expr_stmt|;
name|g_value_take_string
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|temp_name
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|procedural_db_dump_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|procedural_db_dump_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
specifier|const
name|gchar
modifier|*
name|filename
decl_stmt|;
name|filename
operator|=
name|g_value_get_string
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|success
operator|=
name|gimp_pdb_dump
argument_list|(
name|gimp
argument_list|,
name|filename
argument_list|)
expr_stmt|;
block|}
return|return
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|procedural_db_query_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|procedural_db_query_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
specifier|const
name|gchar
modifier|*
name|name
decl_stmt|;
specifier|const
name|gchar
modifier|*
name|blurb
decl_stmt|;
specifier|const
name|gchar
modifier|*
name|help
decl_stmt|;
specifier|const
name|gchar
modifier|*
name|author
decl_stmt|;
specifier|const
name|gchar
modifier|*
name|copyright
decl_stmt|;
specifier|const
name|gchar
modifier|*
name|date
decl_stmt|;
specifier|const
name|gchar
modifier|*
name|proc_type
decl_stmt|;
name|gint32
name|num_matches
init|=
literal|0
decl_stmt|;
name|gchar
modifier|*
modifier|*
name|procedure_names
init|=
name|NULL
decl_stmt|;
name|name
operator|=
name|g_value_get_string
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|)
expr_stmt|;
name|blurb
operator|=
name|g_value_get_string
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
name|help
operator|=
name|g_value_get_string
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
name|author
operator|=
name|g_value_get_string
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|3
index|]
argument_list|)
expr_stmt|;
name|copyright
operator|=
name|g_value_get_string
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|4
index|]
argument_list|)
expr_stmt|;
name|date
operator|=
name|g_value_get_string
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|5
index|]
argument_list|)
expr_stmt|;
name|proc_type
operator|=
name|g_value_get_string
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|6
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|success
operator|=
name|gimp_pdb_query
argument_list|(
name|gimp
argument_list|,
name|name
argument_list|,
name|blurb
argument_list|,
name|help
argument_list|,
name|author
argument_list|,
name|copyright
argument_list|,
name|date
argument_list|,
name|proc_type
argument_list|,
operator|&
name|num_matches
argument_list|,
operator|&
name|procedure_names
argument_list|)
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|g_value_set_int
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|num_matches
argument_list|)
expr_stmt|;
name|gimp_value_take_stringarray
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|2
index|]
argument_list|,
name|procedure_names
argument_list|,
name|num_matches
argument_list|)
expr_stmt|;
block|}
return|return
name|return_vals
return|;
block|}
end_function

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|procedural_db_proc_info_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|procedural_db_proc_info_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
specifier|const
name|gchar
modifier|*
name|procedure_name
decl_stmt|;
name|gchar
modifier|*
name|blurb
init|=
name|NULL
decl_stmt|;
name|gchar
modifier|*
name|help
init|=
name|NULL
decl_stmt|;
name|gchar
modifier|*
name|author
init|=
name|NULL
decl_stmt|;
name|gchar
modifier|*
name|copyright
init|=
name|NULL
decl_stmt|;
name|gchar
modifier|*
name|date
init|=
name|NULL
decl_stmt|;
name|gint32
name|proc_type
init|=
literal|0
decl_stmt|;
name|gint32
name|num_args
init|=
literal|0
decl_stmt|;
name|gint32
name|num_values
init|=
literal|0
decl_stmt|;
name|procedure_name
operator|=
name|g_value_get_string
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|GimpPDBProcType
name|ptype
decl_stmt|;
name|gchar
modifier|*
name|canonical
decl_stmt|;
name|canonical
operator|=
name|gimp_canonicalize_identifier
argument_list|(
name|procedure_name
argument_list|)
expr_stmt|;
name|success
operator|=
name|gimp_pdb_proc_info
argument_list|(
name|gimp
argument_list|,
name|canonical
argument_list|,
operator|&
name|blurb
argument_list|,
operator|&
name|help
argument_list|,
operator|&
name|author
argument_list|,
operator|&
name|copyright
argument_list|,
operator|&
name|date
argument_list|,
operator|&
name|ptype
argument_list|,
operator|&
name|num_args
argument_list|,
operator|&
name|num_values
argument_list|)
expr_stmt|;
name|proc_type
operator|=
name|ptype
expr_stmt|;
name|g_free
argument_list|(
name|canonical
argument_list|)
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|g_value_take_string
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|blurb
argument_list|)
expr_stmt|;
name|g_value_take_string
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|2
index|]
argument_list|,
name|help
argument_list|)
expr_stmt|;
name|g_value_take_string
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|3
index|]
argument_list|,
name|author
argument_list|)
expr_stmt|;
name|g_value_take_string
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|4
index|]
argument_list|,
name|copyright
argument_list|)
expr_stmt|;
name|g_value_take_string
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|5
index|]
argument_list|,
name|date
argument_list|)
expr_stmt|;
name|g_value_set_enum
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|6
index|]
argument_list|,
name|proc_type
argument_list|)
expr_stmt|;
name|g_value_set_int
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|7
index|]
argument_list|,
name|num_args
argument_list|)
expr_stmt|;
name|g_value_set_int
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|8
index|]
argument_list|,
name|num_values
argument_list|)
expr_stmt|;
block|}
return|return
name|return_vals
return|;
block|}
end_function

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|procedural_db_proc_arg_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|procedural_db_proc_arg_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
specifier|const
name|gchar
modifier|*
name|procedure_name
decl_stmt|;
name|gint32
name|arg_num
decl_stmt|;
name|gint32
name|arg_type
init|=
literal|0
decl_stmt|;
name|gchar
modifier|*
name|arg_name
init|=
name|NULL
decl_stmt|;
name|gchar
modifier|*
name|arg_desc
init|=
name|NULL
decl_stmt|;
name|procedure_name
operator|=
name|g_value_get_string
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|)
expr_stmt|;
name|arg_num
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|GimpProcedure
modifier|*
name|proc
decl_stmt|;
name|gchar
modifier|*
name|canonical
decl_stmt|;
name|canonical
operator|=
name|gimp_canonicalize_identifier
argument_list|(
name|procedure_name
argument_list|)
expr_stmt|;
name|proc
operator|=
name|gimp_pdb_lookup
argument_list|(
name|gimp
argument_list|,
name|canonical
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|proc
condition|)
block|{
specifier|const
name|gchar
modifier|*
name|compat_name
decl_stmt|;
name|compat_name
operator|=
name|g_hash_table_lookup
argument_list|(
name|gimp
operator|->
name|procedural_compat_ht
argument_list|,
name|canonical
argument_list|)
expr_stmt|;
if|if
condition|(
name|compat_name
condition|)
name|proc
operator|=
name|gimp_pdb_lookup
argument_list|(
name|gimp
argument_list|,
name|compat_name
argument_list|)
expr_stmt|;
block|}
name|g_free
argument_list|(
name|canonical
argument_list|)
expr_stmt|;
if|if
condition|(
name|proc
operator|&&
operator|(
name|arg_num
operator|>=
literal|0
operator|&&
name|arg_num
operator|<
name|proc
operator|->
name|num_args
operator|)
condition|)
block|{
name|GParamSpec
modifier|*
name|pspec
init|=
name|proc
operator|->
name|args
index|[
name|arg_num
index|]
decl_stmt|;
name|arg_type
operator|=
name|gimp_pdb_compat_arg_type_from_gtype
argument_list|(
name|G_PARAM_SPEC_VALUE_TYPE
argument_list|(
name|pspec
argument_list|)
argument_list|)
expr_stmt|;
name|arg_name
operator|=
name|g_strdup
argument_list|(
name|g_param_spec_get_name
argument_list|(
name|pspec
argument_list|)
argument_list|)
expr_stmt|;
name|arg_desc
operator|=
name|g_strdup
argument_list|(
name|g_param_spec_get_blurb
argument_list|(
name|pspec
argument_list|)
argument_list|)
expr_stmt|;
block|}
else|else
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|g_value_set_enum
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|arg_type
argument_list|)
expr_stmt|;
name|g_value_take_string
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|2
index|]
argument_list|,
name|arg_name
argument_list|)
expr_stmt|;
name|g_value_take_string
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|3
index|]
argument_list|,
name|arg_desc
argument_list|)
expr_stmt|;
block|}
return|return
name|return_vals
return|;
block|}
end_function

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|procedural_db_proc_val_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|procedural_db_proc_val_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
specifier|const
name|gchar
modifier|*
name|procedure_name
decl_stmt|;
name|gint32
name|val_num
decl_stmt|;
name|gint32
name|val_type
init|=
literal|0
decl_stmt|;
name|gchar
modifier|*
name|val_name
init|=
name|NULL
decl_stmt|;
name|gchar
modifier|*
name|val_desc
init|=
name|NULL
decl_stmt|;
name|procedure_name
operator|=
name|g_value_get_string
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|)
expr_stmt|;
name|val_num
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|GimpProcedure
modifier|*
name|proc
decl_stmt|;
name|gchar
modifier|*
name|canonical
decl_stmt|;
name|canonical
operator|=
name|gimp_canonicalize_identifier
argument_list|(
name|procedure_name
argument_list|)
expr_stmt|;
name|proc
operator|=
name|gimp_pdb_lookup
argument_list|(
name|gimp
argument_list|,
name|canonical
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|proc
condition|)
block|{
specifier|const
name|gchar
modifier|*
name|compat_name
decl_stmt|;
name|compat_name
operator|=
name|g_hash_table_lookup
argument_list|(
name|gimp
operator|->
name|procedural_compat_ht
argument_list|,
name|canonical
argument_list|)
expr_stmt|;
if|if
condition|(
name|compat_name
condition|)
name|proc
operator|=
name|gimp_pdb_lookup
argument_list|(
name|gimp
argument_list|,
name|compat_name
argument_list|)
expr_stmt|;
block|}
name|g_free
argument_list|(
name|canonical
argument_list|)
expr_stmt|;
if|if
condition|(
name|proc
operator|&&
operator|(
name|val_num
operator|>=
literal|0
operator|&&
name|val_num
operator|<
name|proc
operator|->
name|num_values
operator|)
condition|)
block|{
name|GParamSpec
modifier|*
name|pspec
init|=
name|proc
operator|->
name|values
index|[
name|val_num
index|]
decl_stmt|;
name|val_type
operator|=
name|gimp_pdb_compat_arg_type_from_gtype
argument_list|(
name|G_PARAM_SPEC_VALUE_TYPE
argument_list|(
name|pspec
argument_list|)
argument_list|)
expr_stmt|;
name|val_name
operator|=
name|g_strdup
argument_list|(
name|g_param_spec_get_name
argument_list|(
name|pspec
argument_list|)
argument_list|)
expr_stmt|;
name|val_desc
operator|=
name|g_strdup
argument_list|(
name|g_param_spec_get_blurb
argument_list|(
name|pspec
argument_list|)
argument_list|)
expr_stmt|;
block|}
else|else
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|g_value_set_enum
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|val_type
argument_list|)
expr_stmt|;
name|g_value_take_string
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|2
index|]
argument_list|,
name|val_name
argument_list|)
expr_stmt|;
name|g_value_take_string
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|3
index|]
argument_list|,
name|val_desc
argument_list|)
expr_stmt|;
block|}
return|return
name|return_vals
return|;
block|}
end_function

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|procedural_db_get_data_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|procedural_db_get_data_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
specifier|const
name|gchar
modifier|*
name|identifier
decl_stmt|;
name|gint32
name|bytes
init|=
literal|0
decl_stmt|;
name|guint8
modifier|*
name|data
init|=
name|NULL
decl_stmt|;
name|identifier
operator|=
name|g_value_get_string
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
specifier|const
name|guint8
modifier|*
name|orig_data
decl_stmt|;
name|gchar
modifier|*
name|canonical
decl_stmt|;
name|canonical
operator|=
name|gimp_canonicalize_identifier
argument_list|(
name|identifier
argument_list|)
expr_stmt|;
name|orig_data
operator|=
name|plug_in_data_get
argument_list|(
name|gimp
argument_list|,
name|canonical
argument_list|,
operator|&
name|bytes
argument_list|)
expr_stmt|;
name|g_free
argument_list|(
name|canonical
argument_list|)
expr_stmt|;
if|if
condition|(
name|orig_data
condition|)
name|data
operator|=
name|g_memdup
argument_list|(
name|orig_data
argument_list|,
name|bytes
argument_list|)
expr_stmt|;
else|else
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|g_value_set_int
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|bytes
argument_list|)
expr_stmt|;
name|gimp_value_take_int8array
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|2
index|]
argument_list|,
name|data
argument_list|,
name|bytes
argument_list|)
expr_stmt|;
block|}
return|return
name|return_vals
return|;
block|}
end_function

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|procedural_db_get_data_size_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|procedural_db_get_data_size_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
name|GValueArray
modifier|*
name|return_vals
decl_stmt|;
specifier|const
name|gchar
modifier|*
name|identifier
decl_stmt|;
name|gint32
name|bytes
init|=
literal|0
decl_stmt|;
name|identifier
operator|=
name|g_value_get_string
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
specifier|const
name|guint8
modifier|*
name|data
decl_stmt|;
name|gchar
modifier|*
name|canonical
decl_stmt|;
name|canonical
operator|=
name|gimp_canonicalize_identifier
argument_list|(
name|identifier
argument_list|)
expr_stmt|;
name|data
operator|=
name|plug_in_data_get
argument_list|(
name|gimp
argument_list|,
name|canonical
argument_list|,
operator|&
name|bytes
argument_list|)
expr_stmt|;
name|g_free
argument_list|(
name|canonical
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|data
condition|)
name|success
operator|=
name|FALSE
expr_stmt|;
block|}
name|return_vals
operator|=
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
name|g_value_set_int
argument_list|(
operator|&
name|return_vals
operator|->
name|values
index|[
literal|1
index|]
argument_list|,
name|bytes
argument_list|)
expr_stmt|;
return|return
name|return_vals
return|;
block|}
end_function

begin_function
specifier|static
name|GValueArray
modifier|*
DECL|function|procedural_db_set_data_invoker (GimpProcedure * procedure,Gimp * gimp,GimpContext * context,GimpProgress * progress,const GValueArray * args)
name|procedural_db_set_data_invoker
parameter_list|(
name|GimpProcedure
modifier|*
name|procedure
parameter_list|,
name|Gimp
modifier|*
name|gimp
parameter_list|,
name|GimpContext
modifier|*
name|context
parameter_list|,
name|GimpProgress
modifier|*
name|progress
parameter_list|,
specifier|const
name|GValueArray
modifier|*
name|args
parameter_list|)
block|{
name|gboolean
name|success
init|=
name|TRUE
decl_stmt|;
specifier|const
name|gchar
modifier|*
name|identifier
decl_stmt|;
name|gint32
name|bytes
decl_stmt|;
specifier|const
name|guint8
modifier|*
name|data
decl_stmt|;
name|identifier
operator|=
name|g_value_get_string
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|0
index|]
argument_list|)
expr_stmt|;
name|bytes
operator|=
name|g_value_get_int
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
name|data
operator|=
name|gimp_value_get_int8array
argument_list|(
operator|&
name|args
operator|->
name|values
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|success
condition|)
block|{
name|gchar
modifier|*
name|canonical
decl_stmt|;
name|canonical
operator|=
name|gimp_canonicalize_identifier
argument_list|(
name|identifier
argument_list|)
expr_stmt|;
name|plug_in_data_set
argument_list|(
name|gimp
argument_list|,
name|canonical
argument_list|,
name|bytes
argument_list|,
name|data
argument_list|)
expr_stmt|;
name|g_free
argument_list|(
name|canonical
argument_list|)
expr_stmt|;
block|}
return|return
name|gimp_procedure_get_return_values
argument_list|(
name|procedure
argument_list|,
name|success
argument_list|)
return|;
block|}
end_function

begin_function
name|void
DECL|function|register_procedural_db_procs (Gimp * gimp)
name|register_procedural_db_procs
parameter_list|(
name|Gimp
modifier|*
name|gimp
parameter_list|)
block|{
name|GimpProcedure
modifier|*
name|procedure
decl_stmt|;
comment|/*    * gimp-procedural-db-temp-name    */
name|procedure
operator|=
name|gimp_procedure_new
argument_list|()
expr_stmt|;
name|gimp_procedure_initialize
argument_list|(
name|procedure
argument_list|,
name|GIMP_INTERNAL
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|procedural_db_temp_name_invoker
argument_list|)
expr_stmt|;
name|gimp_procedure_set_static_strings
argument_list|(
name|procedure
argument_list|,
literal|"gimp-procedural-db-temp-name"
argument_list|,
literal|"gimp-procedural-db-temp-name"
argument_list|,
literal|"Generates a unique temporary PDB name."
argument_list|,
literal|"This procedure generates a temporary PDB entry name that is guaranteed to be unique. It is mainly used by the interactive popup dialogs to generate a PDB entry name."
argument_list|,
literal|"Andy Thomas"
argument_list|,
literal|"Andy Thomas"
argument_list|,
literal|"1998"
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"temp-name"
argument_list|,
literal|"temp name"
argument_list|,
literal|"A unique temporary name for a temporary PDB entry"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * gimp-procedural-db-dump    */
name|procedure
operator|=
name|gimp_procedure_new
argument_list|()
expr_stmt|;
name|gimp_procedure_initialize
argument_list|(
name|procedure
argument_list|,
name|GIMP_INTERNAL
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|,
name|procedural_db_dump_invoker
argument_list|)
expr_stmt|;
name|gimp_procedure_set_static_strings
argument_list|(
name|procedure
argument_list|,
literal|"gimp-procedural-db-dump"
argument_list|,
literal|"gimp-procedural-db-dump"
argument_list|,
literal|"Dumps the current contents of the procedural database"
argument_list|,
literal|"This procedure dumps the contents of the procedural database to the specified file. The file will contain all of the information provided for each registered procedure. This file is in a format appropriate for use with the supplied \"pdb_self_doc.el\" Elisp script, which generates a texinfo document."
argument_list|,
literal|"Spencer Kimball& Josh MacDonald"
argument_list|,
literal|"Spencer Kimball& Josh MacDonald& Peter Mattis"
argument_list|,
literal|"1995-1996"
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"filename"
argument_list|,
literal|"filename"
argument_list|,
literal|"The dump filename"
argument_list|,
name|TRUE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * gimp-procedural-db-query    */
name|procedure
operator|=
name|gimp_procedure_new
argument_list|()
expr_stmt|;
name|gimp_procedure_initialize
argument_list|(
name|procedure
argument_list|,
name|GIMP_INTERNAL
argument_list|,
literal|7
argument_list|,
literal|2
argument_list|,
name|procedural_db_query_invoker
argument_list|)
expr_stmt|;
name|gimp_procedure_set_static_strings
argument_list|(
name|procedure
argument_list|,
literal|"gimp-procedural-db-query"
argument_list|,
literal|"gimp-procedural-db-query"
argument_list|,
literal|"Queries the procedural database for its contents using regular expression matching."
argument_list|,
literal|"This procedure queries the contents of the procedural database. It is supplied with seven arguments matching procedures on { name, blurb, help, author, copyright, date, procedure type}. This is accomplished using regular expression matching. For instance, to find all procedures with \"jpeg\" listed in the blurb, all seven arguments can be supplied as \".*\", except for the second, which can be supplied as \".*jpeg.*\". There are two return arguments for this procedure. The first is the number of procedures matching the query. The second is a concatenated list of procedure names corresponding to those matching the query. If no matching entries are found, then the returned string is NULL and the number of entries is 0."
argument_list|,
literal|"Spencer Kimball& Peter Mattis"
argument_list|,
literal|"Spencer Kimball& Peter Mattis"
argument_list|,
literal|"1995-1996"
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"name"
argument_list|,
literal|"name"
argument_list|,
literal|"The regex for procedure name"
argument_list|,
name|TRUE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"blurb"
argument_list|,
literal|"blurb"
argument_list|,
literal|"The regex for procedure blurb"
argument_list|,
name|TRUE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"help"
argument_list|,
literal|"help"
argument_list|,
literal|"The regex for procedure help"
argument_list|,
name|TRUE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"author"
argument_list|,
literal|"author"
argument_list|,
literal|"The regex for procedure author"
argument_list|,
name|TRUE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"copyright"
argument_list|,
literal|"copyright"
argument_list|,
literal|"The regex for procedure copyright"
argument_list|,
name|TRUE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"date"
argument_list|,
literal|"date"
argument_list|,
literal|"The regex for procedure date"
argument_list|,
name|TRUE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"proc-type"
argument_list|,
literal|"proc type"
argument_list|,
literal|"The regex for procedure type: { 'Internal GIMP procedure', 'GIMP Plug-In', 'GIMP Extension', 'Temporary Procedure' }"
argument_list|,
name|TRUE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"num-matches"
argument_list|,
literal|"num matches"
argument_list|,
literal|"The number of matching procedures"
argument_list|,
literal|0
argument_list|,
name|G_MAXINT32
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string_array
argument_list|(
literal|"procedure-names"
argument_list|,
literal|"procedure names"
argument_list|,
literal|"The list of procedure names"
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * gimp-procedural-db-proc-info    */
name|procedure
operator|=
name|gimp_procedure_new
argument_list|()
expr_stmt|;
name|gimp_procedure_initialize
argument_list|(
name|procedure
argument_list|,
name|GIMP_INTERNAL
argument_list|,
literal|1
argument_list|,
literal|8
argument_list|,
name|procedural_db_proc_info_invoker
argument_list|)
expr_stmt|;
name|gimp_procedure_set_static_strings
argument_list|(
name|procedure
argument_list|,
literal|"gimp-procedural-db-proc-info"
argument_list|,
literal|"gimp-procedural-db-proc-info"
argument_list|,
literal|"Queries the procedural database for information on the specified procedure."
argument_list|,
literal|"This procedure returns information on the specified procedure. A short blurb, detailed help, author(s), copyright information, procedure type, number of input, and number of return values are returned. For specific information on each input argument and return value, use the 'gimp_procedural_db_proc_arg' and 'gimp_procedural_db_proc_val' procedures."
argument_list|,
literal|"Spencer Kimball& Peter Mattis"
argument_list|,
literal|"Spencer Kimball& Peter Mattis"
argument_list|,
literal|"1997"
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"procedure-name"
argument_list|,
literal|"procedure name"
argument_list|,
literal|"The procedure name"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"blurb"
argument_list|,
literal|"blurb"
argument_list|,
literal|"A short blurb"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"help"
argument_list|,
literal|"help"
argument_list|,
literal|"Detailed procedure help"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"author"
argument_list|,
literal|"author"
argument_list|,
literal|"Author(s) of the procedure"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"copyright"
argument_list|,
literal|"copyright"
argument_list|,
literal|"The copyright"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"date"
argument_list|,
literal|"date"
argument_list|,
literal|"Copyright date"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|g_param_spec_enum
argument_list|(
literal|"proc-type"
argument_list|,
literal|"proc type"
argument_list|,
literal|"The procedure type: { GIMP_INTERNAL (0), GIMP_PLUGIN (1), GIMP_EXTENSION (2), GIMP_TEMPORARY (3) }"
argument_list|,
name|GIMP_TYPE_PDB_PROC_TYPE
argument_list|,
name|GIMP_INTERNAL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"num-args"
argument_list|,
literal|"num args"
argument_list|,
literal|"The number of input arguments"
argument_list|,
name|G_MININT32
argument_list|,
name|G_MAXINT32
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"num-values"
argument_list|,
literal|"num values"
argument_list|,
literal|"The number of return values"
argument_list|,
name|G_MININT32
argument_list|,
name|G_MAXINT32
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * gimp-procedural-db-proc-arg    */
name|procedure
operator|=
name|gimp_procedure_new
argument_list|()
expr_stmt|;
name|gimp_procedure_initialize
argument_list|(
name|procedure
argument_list|,
name|GIMP_INTERNAL
argument_list|,
literal|2
argument_list|,
literal|3
argument_list|,
name|procedural_db_proc_arg_invoker
argument_list|)
expr_stmt|;
name|gimp_procedure_set_static_strings
argument_list|(
name|procedure
argument_list|,
literal|"gimp-procedural-db-proc-arg"
argument_list|,
literal|"gimp-procedural-db-proc-arg"
argument_list|,
literal|"Queries the procedural database for information on the specified procedure's argument."
argument_list|,
literal|"This procedure returns information on the specified procedure's argument. The argument type, name, and a description are retrieved."
argument_list|,
literal|"Spencer Kimball& Peter Mattis"
argument_list|,
literal|"Spencer Kimball& Peter Mattis"
argument_list|,
literal|"1997"
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"procedure-name"
argument_list|,
literal|"procedure name"
argument_list|,
literal|"The procedure name"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"arg-num"
argument_list|,
literal|"arg num"
argument_list|,
literal|"The argument number"
argument_list|,
name|G_MININT32
argument_list|,
name|G_MAXINT32
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_enum
argument_list|(
literal|"arg-type"
argument_list|,
literal|"arg type"
argument_list|,
literal|"The type of argument: { GIMP_PDB_INT32 (0), GIMP_PDB_INT16 (1), GIMP_PDB_INT8 (2), GIMP_PDB_FLOAT (3), GIMP_PDB_STRING (4), GIMP_PDB_INT32ARRAY (5), GIMP_PDB_INT16ARRAY (6), GIMP_PDB_INT8ARRAY (7), GIMP_PDB_FLOATARRAY (8), GIMP_PDB_STRINGARRAY (9), GIMP_PDB_COLOR (10), GIMP_PDB_REGION (11), GIMP_PDB_DISPLAY (12), GIMP_PDB_IMAGE (13), GIMP_PDB_LAYER (14), GIMP_PDB_CHANNEL (15), GIMP_PDB_DRAWABLE (16), GIMP_PDB_SELECTION (17), GIMP_PDB_BOUNDARY (18), GIMP_PDB_VECTORS (19), GIMP_PDB_PARASITE (20), GIMP_PDB_STATUS (21), GIMP_PDB_PATH (GIMP_PDB_VECTORS) }"
argument_list|,
name|GIMP_TYPE_PDB_ARG_TYPE
argument_list|,
name|GIMP_PDB_INT32
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_param_spec_enum_exclude_value
argument_list|(
name|GIMP_PARAM_SPEC_ENUM
argument_list|(
name|procedure
operator|->
name|values
index|[
literal|0
index|]
argument_list|)
argument_list|,
name|GIMP_PDB_END
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"arg-name"
argument_list|,
literal|"arg name"
argument_list|,
literal|"The name of the argument"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"arg-desc"
argument_list|,
literal|"arg desc"
argument_list|,
literal|"A description of the argument"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * gimp-procedural-db-proc-val    */
name|procedure
operator|=
name|gimp_procedure_new
argument_list|()
expr_stmt|;
name|gimp_procedure_initialize
argument_list|(
name|procedure
argument_list|,
name|GIMP_INTERNAL
argument_list|,
literal|2
argument_list|,
literal|3
argument_list|,
name|procedural_db_proc_val_invoker
argument_list|)
expr_stmt|;
name|gimp_procedure_set_static_strings
argument_list|(
name|procedure
argument_list|,
literal|"gimp-procedural-db-proc-val"
argument_list|,
literal|"gimp-procedural-db-proc-val"
argument_list|,
literal|"Queries the procedural database for information on the specified procedure's return value."
argument_list|,
literal|"This procedure returns information on the specified procedure's return value. The return value type, name, and a description are retrieved."
argument_list|,
literal|"Spencer Kimball& Peter Mattis"
argument_list|,
literal|"Spencer Kimball& Peter Mattis"
argument_list|,
literal|"1997"
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"procedure-name"
argument_list|,
literal|"procedure name"
argument_list|,
literal|"The procedure name"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"val-num"
argument_list|,
literal|"val num"
argument_list|,
literal|"The return value number"
argument_list|,
name|G_MININT32
argument_list|,
name|G_MAXINT32
argument_list|,
literal|0
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_enum
argument_list|(
literal|"val-type"
argument_list|,
literal|"val type"
argument_list|,
literal|"The type of return value: { GIMP_PDB_INT32 (0), GIMP_PDB_INT16 (1), GIMP_PDB_INT8 (2), GIMP_PDB_FLOAT (3), GIMP_PDB_STRING (4), GIMP_PDB_INT32ARRAY (5), GIMP_PDB_INT16ARRAY (6), GIMP_PDB_INT8ARRAY (7), GIMP_PDB_FLOATARRAY (8), GIMP_PDB_STRINGARRAY (9), GIMP_PDB_COLOR (10), GIMP_PDB_REGION (11), GIMP_PDB_DISPLAY (12), GIMP_PDB_IMAGE (13), GIMP_PDB_LAYER (14), GIMP_PDB_CHANNEL (15), GIMP_PDB_DRAWABLE (16), GIMP_PDB_SELECTION (17), GIMP_PDB_BOUNDARY (18), GIMP_PDB_VECTORS (19), GIMP_PDB_PARASITE (20), GIMP_PDB_STATUS (21), GIMP_PDB_PATH (GIMP_PDB_VECTORS) }"
argument_list|,
name|GIMP_TYPE_PDB_ARG_TYPE
argument_list|,
name|GIMP_PDB_INT32
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_param_spec_enum_exclude_value
argument_list|(
name|GIMP_PARAM_SPEC_ENUM
argument_list|(
name|procedure
operator|->
name|values
index|[
literal|0
index|]
argument_list|)
argument_list|,
name|GIMP_PDB_END
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"val-name"
argument_list|,
literal|"val name"
argument_list|,
literal|"The name of the return value"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"val-desc"
argument_list|,
literal|"val desc"
argument_list|,
literal|"A description of the return value"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * gimp-procedural-db-get-data    */
name|procedure
operator|=
name|gimp_procedure_new
argument_list|()
expr_stmt|;
name|gimp_procedure_initialize
argument_list|(
name|procedure
argument_list|,
name|GIMP_INTERNAL
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
name|procedural_db_get_data_invoker
argument_list|)
expr_stmt|;
name|gimp_procedure_set_static_strings
argument_list|(
name|procedure
argument_list|,
literal|"gimp-procedural-db-get-data"
argument_list|,
literal|"gimp-procedural-db-get-data"
argument_list|,
literal|"Returns data associated with the specified identifier."
argument_list|,
literal|"This procedure returns any data which may have been associated with the specified identifier. The data is a variable length array of bytes. If no data has been associated with the identifier, an error is returned."
argument_list|,
literal|"Spencer Kimball& Peter Mattis"
argument_list|,
literal|"Spencer Kimball& Peter Mattis"
argument_list|,
literal|"1997"
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"identifier"
argument_list|,
literal|"identifier"
argument_list|,
literal|"The identifier associated with data"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"bytes"
argument_list|,
literal|"bytes"
argument_list|,
literal|"The number of bytes in the data"
argument_list|,
literal|1
argument_list|,
name|G_MAXINT32
argument_list|,
literal|1
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int8_array
argument_list|(
literal|"data"
argument_list|,
literal|"data"
argument_list|,
literal|"A byte array containing data"
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * gimp-procedural-db-get-data-size    */
name|procedure
operator|=
name|gimp_procedure_new
argument_list|()
expr_stmt|;
name|gimp_procedure_initialize
argument_list|(
name|procedure
argument_list|,
name|GIMP_INTERNAL
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|procedural_db_get_data_size_invoker
argument_list|)
expr_stmt|;
name|gimp_procedure_set_static_strings
argument_list|(
name|procedure
argument_list|,
literal|"gimp-procedural-db-get-data-size"
argument_list|,
literal|"gimp-procedural-db-get-data-size"
argument_list|,
literal|"Returns size of data associated with the specified identifier."
argument_list|,
literal|"This procedure returns the size of any data which may have been associated with the specified identifier. If no data has been associated with the identifier, an error is returned."
argument_list|,
literal|"Nick Lamb"
argument_list|,
literal|"Nick Lamb"
argument_list|,
literal|"1998"
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"identifier"
argument_list|,
literal|"identifier"
argument_list|,
literal|"The identifier associated with data"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_return_value
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"bytes"
argument_list|,
literal|"bytes"
argument_list|,
literal|"The number of bytes in the data"
argument_list|,
literal|1
argument_list|,
name|G_MAXINT32
argument_list|,
literal|1
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
comment|/*    * gimp-procedural-db-set-data    */
name|procedure
operator|=
name|gimp_procedure_new
argument_list|()
expr_stmt|;
name|gimp_procedure_initialize
argument_list|(
name|procedure
argument_list|,
name|GIMP_INTERNAL
argument_list|,
literal|3
argument_list|,
literal|0
argument_list|,
name|procedural_db_set_data_invoker
argument_list|)
expr_stmt|;
name|gimp_procedure_set_static_strings
argument_list|(
name|procedure
argument_list|,
literal|"gimp-procedural-db-set-data"
argument_list|,
literal|"gimp-procedural-db-set-data"
argument_list|,
literal|"Associates the specified identifier with the supplied data."
argument_list|,
literal|"This procedure associates the supplied data with the provided identifier. The data may be subsequently retrieved by a call to 'procedural-db-get-data'."
argument_list|,
literal|"Spencer Kimball& Peter Mattis"
argument_list|,
literal|"Spencer Kimball& Peter Mattis"
argument_list|,
literal|"1997"
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_string
argument_list|(
literal|"identifier"
argument_list|,
literal|"identifier"
argument_list|,
literal|"The identifier associated with data"
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
name|NULL
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int32
argument_list|(
literal|"bytes"
argument_list|,
literal|"bytes"
argument_list|,
literal|"The number of bytes in the data"
argument_list|,
literal|1
argument_list|,
name|G_MAXINT32
argument_list|,
literal|1
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_procedure_add_argument
argument_list|(
name|procedure
argument_list|,
name|gimp_param_spec_int8_array
argument_list|(
literal|"data"
argument_list|,
literal|"data"
argument_list|,
literal|"A byte array containing data"
argument_list|,
name|GIMP_PARAM_READWRITE
argument_list|)
argument_list|)
expr_stmt|;
name|gimp_pdb_register
argument_list|(
name|gimp
argument_list|,
name|procedure
argument_list|)
expr_stmt|;
block|}
end_function

end_unit


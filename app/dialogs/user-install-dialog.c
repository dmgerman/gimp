begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* The GIMP -- an image manipulation program  * Copyright (C) 1995 Spencer Kimball and Peter Mattis  *  * This program is free software; you can redistribute it and/or modify  * it under the terms of the GNU General Public License as published by  * the Free Software Foundation; either version 2 of the License, or  * (at your option) any later version.  *  * This program is distributed in the hope that it will be useful,  * but WITHOUT ANY WARRANTY; without even the implied warranty of  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the  * GNU General Public License for more details.  *  * You should have received a copy of the GNU General Public License  * along with this program; if not, write to the Free Software  * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */
end_comment

begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_include
include|#
directive|include
file|<stdlib.h>
end_include

begin_include
include|#
directive|include
file|<sys/stat.h>
end_include

begin_include
include|#
directive|include
file|<unistd.h>
end_include

begin_include
include|#
directive|include
file|"appenv.h"
end_include

begin_include
include|#
directive|include
file|"actionarea.h"
end_include

begin_include
include|#
directive|include
file|"install.h"
end_include

begin_include
include|#
directive|include
file|"interface.h"
end_include

begin_include
include|#
directive|include
file|"gimprc.h"
end_include

begin_include
include|#
directive|include
file|"config.h"
end_include

begin_include
include|#
directive|include
file|"libgimp/gimpintl.h"
end_include

begin_function_decl
specifier|static
name|void
name|install_run
parameter_list|(
name|InstallCallback
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|void
name|install_help
parameter_list|(
name|InstallCallback
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|void
name|help_install_callback
parameter_list|(
name|GtkWidget
modifier|*
parameter_list|,
name|gpointer
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|void
name|help_ignore_callback
parameter_list|(
name|GtkWidget
modifier|*
parameter_list|,
name|gpointer
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|void
name|help_quit_callback
parameter_list|(
name|GtkWidget
modifier|*
parameter_list|,
name|gpointer
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|void
name|install_continue_callback
parameter_list|(
name|GtkWidget
modifier|*
parameter_list|,
name|gpointer
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|void
name|install_quit_callback
parameter_list|(
name|GtkWidget
modifier|*
parameter_list|,
name|gpointer
parameter_list|)
function_decl|;
end_function_decl

begin_decl_stmt
DECL|variable|help_widget
specifier|static
name|GtkWidget
modifier|*
name|help_widget
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|install_widget
specifier|static
name|GtkWidget
modifier|*
name|install_widget
decl_stmt|;
end_decl_stmt

begin_function
name|void
DECL|function|install_verify (InstallCallback install_callback)
name|install_verify
parameter_list|(
name|InstallCallback
name|install_callback
parameter_list|)
block|{
name|int
name|properly_installed
init|=
name|TRUE
decl_stmt|;
name|char
modifier|*
name|filename
decl_stmt|;
name|struct
name|stat
name|stat_buf
decl_stmt|;
name|filename
operator|=
name|gimp_directory
argument_list|()
expr_stmt|;
if|if
condition|(
literal|'\000'
operator|==
name|filename
index|[
literal|0
index|]
condition|)
block|{
name|g_message
argument_list|(
name|_
argument_list|(
literal|"No home directory--skipping GIMP user installation."
argument_list|)
argument_list|)
expr_stmt|;
call|(
modifier|*
name|install_callback
call|)
argument_list|()
expr_stmt|;
block|}
if|if
condition|(
name|stat
argument_list|(
name|filename
argument_list|,
operator|&
name|stat_buf
argument_list|)
operator|!=
literal|0
condition|)
name|properly_installed
operator|=
name|FALSE
expr_stmt|;
comment|/*  If there is already a proper installation, invoke the callback  */
if|if
condition|(
name|properly_installed
condition|)
block|{
call|(
modifier|*
name|install_callback
call|)
argument_list|()
expr_stmt|;
block|}
comment|/*  Otherwise, prepare for installation  */
elseif|else
if|if
condition|(
name|no_interface
condition|)
block|{
name|g_print
argument_list|(
name|_
argument_list|(
literal|"The GIMP is not properly installed for the current user\n"
argument_list|)
argument_list|)
expr_stmt|;
name|g_print
argument_list|(
name|_
argument_list|(
literal|"User installation was skipped because the '--nointerface' flag was encountered\n"
argument_list|)
argument_list|)
expr_stmt|;
name|g_print
argument_list|(
name|_
argument_list|(
literal|"To perform user installation, run the GIMP without the '--nointerface' flag\n"
argument_list|)
argument_list|)
expr_stmt|;
call|(
modifier|*
name|install_callback
call|)
argument_list|()
expr_stmt|;
block|}
else|else
block|{
name|install_help
argument_list|(
name|install_callback
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_comment
comment|/*********************/
end_comment

begin_comment
comment|/*  Local functions  */
end_comment

begin_function
specifier|static
name|void
DECL|function|install_help (InstallCallback callback)
name|install_help
parameter_list|(
name|InstallCallback
name|callback
parameter_list|)
block|{
specifier|static
name|ActionAreaItem
name|action_items
index|[]
init|=
block|{
block|{
name|N_
argument_list|(
literal|"Install"
argument_list|)
block|,
name|help_install_callback
block|,
name|NULL
block|,
name|NULL
block|}
block|,
block|{
name|N_
argument_list|(
literal|"Ignore"
argument_list|)
block|,
name|help_ignore_callback
block|,
name|NULL
block|,
name|NULL
block|}
block|,
block|{
name|N_
argument_list|(
literal|"Quit"
argument_list|)
block|,
name|help_quit_callback
block|,
name|NULL
block|,
name|NULL
block|}
block|}
decl_stmt|;
name|GtkWidget
modifier|*
name|text
decl_stmt|;
name|GtkWidget
modifier|*
name|table
decl_stmt|;
name|GtkWidget
modifier|*
name|vsb
decl_stmt|;
name|GtkAdjustment
modifier|*
name|vadj
decl_stmt|;
name|GdkFont
modifier|*
name|font_strong
decl_stmt|;
name|GdkFont
modifier|*
name|font_emphasis
decl_stmt|;
name|GdkFont
modifier|*
name|font
decl_stmt|;
name|help_widget
operator|=
name|gtk_dialog_new
argument_list|()
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|help_widget
argument_list|)
argument_list|,
literal|"delete_event"
argument_list|,
name|GTK_SIGNAL_FUNC
argument_list|(
name|gtk_true
argument_list|)
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_window_set_wmclass
argument_list|(
name|GTK_WINDOW
argument_list|(
name|help_widget
argument_list|)
argument_list|,
literal|"gimp_installation"
argument_list|,
literal|"Gimp"
argument_list|)
expr_stmt|;
name|gtk_window_set_title
argument_list|(
name|GTK_WINDOW
argument_list|(
name|help_widget
argument_list|)
argument_list|,
name|_
argument_list|(
literal|"GIMP Installation"
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_window_position
argument_list|(
name|GTK_WINDOW
argument_list|(
name|help_widget
argument_list|)
argument_list|,
name|GTK_WIN_POS_CENTER
argument_list|)
expr_stmt|;
name|vadj
operator|=
name|GTK_ADJUSTMENT
argument_list|(
name|gtk_adjustment_new
argument_list|(
literal|0.0
argument_list|,
literal|0.0
argument_list|,
literal|0.0
argument_list|,
literal|0.0
argument_list|,
literal|0.0
argument_list|,
literal|0.0
argument_list|)
argument_list|)
expr_stmt|;
name|vsb
operator|=
name|gtk_vscrollbar_new
argument_list|(
name|vadj
argument_list|)
expr_stmt|;
name|text
operator|=
name|gtk_text_new
argument_list|(
name|NULL
argument_list|,
name|vadj
argument_list|)
expr_stmt|;
name|gtk_text_set_editable
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
name|gtk_widget_set_usize
argument_list|(
name|text
argument_list|,
literal|450
argument_list|,
literal|475
argument_list|)
expr_stmt|;
name|table
operator|=
name|gtk_table_new
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
name|gtk_table_set_col_spacing
argument_list|(
name|GTK_TABLE
argument_list|(
name|table
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|action_items
index|[
literal|0
index|]
operator|.
name|user_data
operator|=
operator|(
name|void
operator|*
operator|)
name|callback
expr_stmt|;
name|action_items
index|[
literal|1
index|]
operator|.
name|user_data
operator|=
operator|(
name|void
operator|*
operator|)
name|callback
expr_stmt|;
name|action_items
index|[
literal|2
index|]
operator|.
name|user_data
operator|=
operator|(
name|void
operator|*
operator|)
name|callback
expr_stmt|;
name|build_action_area
argument_list|(
name|GTK_DIALOG
argument_list|(
name|help_widget
argument_list|)
argument_list|,
name|action_items
argument_list|,
literal|3
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_box_pack_start
argument_list|(
name|GTK_BOX
argument_list|(
name|GTK_DIALOG
argument_list|(
name|help_widget
argument_list|)
operator|->
name|vbox
argument_list|)
argument_list|,
name|table
argument_list|,
name|TRUE
argument_list|,
name|TRUE
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table
argument_list|)
argument_list|,
name|vsb
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_SHRINK
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table
argument_list|)
argument_list|,
name|text
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_SHRINK
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_SHRINK
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_container_border_width
argument_list|(
name|GTK_CONTAINER
argument_list|(
name|table
argument_list|)
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|font_strong
operator|=
name|gdk_font_load
argument_list|(
literal|"-*-helvetica-bold-r-normal-*-*-120-*-*-*-*-*-*"
argument_list|)
expr_stmt|;
name|font_emphasis
operator|=
name|gdk_font_load
argument_list|(
literal|"-*-helvetica-medium-o-normal-*-*-100-*-*-*-*-*-*"
argument_list|)
expr_stmt|;
name|font
operator|=
name|gdk_font_load
argument_list|(
literal|"-*-helvetica-medium-r-normal-*-*-100-*-*-*-*-*-*"
argument_list|)
expr_stmt|;
comment|/*  Realize the widget before allowing new text to be inserted  */
name|gtk_widget_realize
argument_list|(
name|text
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font_strong
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"The GIMP - GNU Image Manipulation Program\n\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font_emphasis
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"Copyright (C) 1995 Spencer Kimball and Peter Mattis\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
literal|"\n"
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"This program is free software; you can redistribute it and/or modify\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"it under the terms of the GNU General Public License as published by\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"the Free Software Foundation; either version 2 of the License, or\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"(at your option) any later version.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
literal|"\n"
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"This program is distributed in the hope that it will be useful,\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"but WITHOUT ANY WARRANTY; without even the implied warranty of\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"See the GNU General Public License for more details.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
literal|"\n"
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"You should have received a copy of the GNU General Public License\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"along with this program; if not, write to the Free Software\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
literal|"\n\n"
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font_strong
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"Personal GIMP Installation\n\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"For a proper GIMP installation, a subdirectory called\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font_emphasis
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|gimp_directory
argument_list|()
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|" needs to be created.  This\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"subdirectory will contain a number of important files:\n\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font_emphasis
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"gimprc\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tThe gimprc is used to store personal preferences\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tsuch as default GIMP behaviors& plug-in hotkeys.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tPaths to search for brushes, palettes, gradients\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tpatterns, and plug-ins are also configured here.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font_emphasis
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"pluginrc\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tPlug-ins and extensions are extern programs run by\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tthe GIMP which provide additional functionality.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tThese programs are searched for at run-time and\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tinformation about their functionality and mod-times\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tis cached in this file.  This file is intended to\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tbe GIMP-readable only, and should not be edited.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font_emphasis
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"brushes\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tThis is a subdirectory which can be used to store\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tuser defined brushes.  The default gimprc file\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tchecks this subdirectory in addition to the system-\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\twide gimp brushes installation when searching for\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tbrushes.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font_emphasis
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"gradients\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tThis is a subdirectory which can be used to store\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tuser defined gradients.  The default gimprc file\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tchecks this subdirectory in addition to the system-\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\twide gimp gradients installation when searching for\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tgradients.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font_emphasis
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"gfig\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tThis is a subdirectory which can be used to store\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tuser defined figures to be used by the gfig plug-in.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tThe default gimprc file checks this subdirectory in\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\taddition to the systemwide gimp gfig installation\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\twhen searching for gfig figures.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font_emphasis
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"gflares\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tThis is a subdirectory which can be used to store\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tuser defined gflares to be used by the gflare plug-in.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tThe default gimprc file checks this subdirectory in\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\taddition to the systemwide gimp gflares installation\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\twhen searching for gflares.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font_emphasis
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"palettes\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tThis is a subdirectory which can be used to store\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tuser defined palettes.  The default gimprc file\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tchecks only this subdirectory (not the system-wide\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tinstallation) when searching for palettes.  During\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tinstallation, the system palettes will be copied\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\there.  This is done to allow modifications made to\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tpalettes during GIMP execution to persist across\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tsessions.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font_emphasis
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"patterns\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tThis is a subdirectory which can be used to store\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tuser defined patterns.  The default gimprc file\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tchecks this subdirectory in addition to the system-\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\twide gimp patterns installation when searching for\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tpatterns.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font_emphasis
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"plug-ins\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tThis is a subdirectory which can be used to store\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tuser created, temporary, or otherwise non-system-\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tsupported plug-ins.  The default gimprc file\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tchecks this subdirectory in addition to the system-\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\twide GIMP plug-in directories when searching for\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tplug-ins.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font_emphasis
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"scripts\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tThis subdirectory is used by the GIMP to store \n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tuser created and installed scripts. The default gimprc\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tfile checks this subdirectory in addition to the system\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\t-wide gimp scripts subdirectory when searching for scripts\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font_emphasis
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"tmp\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tThis subdirectory is used by the GIMP to temporarily\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tstore undo buffers to reduce memory usage.  If GIMP is\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tunceremoniously killed, files may persist in this directory\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tof the form: gimp<#>.<#>.  These files are useless across\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\t\tGIMP sessions and can be destroyed with impunity.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|vsb
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|text
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|table
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|help_widget
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|help_install_callback (GtkWidget * w,gpointer client_data)
name|help_install_callback
parameter_list|(
name|GtkWidget
modifier|*
name|w
parameter_list|,
name|gpointer
name|client_data
parameter_list|)
block|{
name|InstallCallback
name|callback
decl_stmt|;
name|callback
operator|=
operator|(
name|InstallCallback
operator|)
name|client_data
expr_stmt|;
name|gtk_widget_destroy
argument_list|(
name|help_widget
argument_list|)
expr_stmt|;
name|install_run
argument_list|(
name|callback
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|help_ignore_callback (GtkWidget * w,gpointer client_data)
name|help_ignore_callback
parameter_list|(
name|GtkWidget
modifier|*
name|w
parameter_list|,
name|gpointer
name|client_data
parameter_list|)
block|{
name|InstallCallback
name|callback
decl_stmt|;
name|callback
operator|=
operator|(
name|InstallCallback
operator|)
name|client_data
expr_stmt|;
name|gtk_widget_destroy
argument_list|(
name|help_widget
argument_list|)
expr_stmt|;
call|(
modifier|*
name|callback
call|)
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|help_quit_callback (GtkWidget * w,gpointer client_data)
name|help_quit_callback
parameter_list|(
name|GtkWidget
modifier|*
name|w
parameter_list|,
name|gpointer
name|client_data
parameter_list|)
block|{
name|gtk_widget_destroy
argument_list|(
name|help_widget
argument_list|)
expr_stmt|;
name|gtk_exit
argument_list|(
literal|0
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|install_run (InstallCallback callback)
name|install_run
parameter_list|(
name|InstallCallback
name|callback
parameter_list|)
block|{
specifier|static
name|ActionAreaItem
name|action_items
index|[]
init|=
block|{
block|{
name|N_
argument_list|(
literal|"Continue"
argument_list|)
block|,
name|install_continue_callback
block|,
name|NULL
block|,
name|NULL
block|}
block|,
block|{
name|N_
argument_list|(
literal|"Quit"
argument_list|)
block|,
name|install_quit_callback
block|,
name|NULL
block|,
name|NULL
block|}
block|}
decl_stmt|;
name|GtkWidget
modifier|*
name|text
decl_stmt|;
name|GtkWidget
modifier|*
name|table
decl_stmt|;
name|GtkWidget
modifier|*
name|vsb
decl_stmt|;
name|GtkAdjustment
modifier|*
name|vadj
decl_stmt|;
name|GdkFont
modifier|*
name|font_strong
decl_stmt|;
name|GdkFont
modifier|*
name|font
decl_stmt|;
name|FILE
modifier|*
name|pfp
decl_stmt|;
name|char
name|buffer
index|[
literal|2048
index|]
decl_stmt|;
name|char
modifier|*
name|gimp_data_dir
decl_stmt|;
name|struct
name|stat
name|stat_buf
decl_stmt|;
name|int
name|err
decl_stmt|;
name|int
name|executable
init|=
name|TRUE
decl_stmt|;
name|install_widget
operator|=
name|gtk_dialog_new
argument_list|()
expr_stmt|;
name|gtk_signal_connect
argument_list|(
name|GTK_OBJECT
argument_list|(
name|install_widget
argument_list|)
argument_list|,
literal|"delete_event"
argument_list|,
name|GTK_SIGNAL_FUNC
argument_list|(
name|gtk_true
argument_list|)
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|gtk_window_set_wmclass
argument_list|(
name|GTK_WINDOW
argument_list|(
name|install_widget
argument_list|)
argument_list|,
literal|"installation_log"
argument_list|,
literal|"Gimp"
argument_list|)
expr_stmt|;
name|gtk_window_set_title
argument_list|(
name|GTK_WINDOW
argument_list|(
name|install_widget
argument_list|)
argument_list|,
name|_
argument_list|(
literal|"Installation Log"
argument_list|)
argument_list|)
expr_stmt|;
name|gtk_window_position
argument_list|(
name|GTK_WINDOW
argument_list|(
name|install_widget
argument_list|)
argument_list|,
name|GTK_WIN_POS_CENTER
argument_list|)
expr_stmt|;
name|vadj
operator|=
name|GTK_ADJUSTMENT
argument_list|(
name|gtk_adjustment_new
argument_list|(
literal|0.0
argument_list|,
literal|0.0
argument_list|,
literal|0.0
argument_list|,
literal|0.0
argument_list|,
literal|0.0
argument_list|,
literal|0.0
argument_list|)
argument_list|)
expr_stmt|;
name|vsb
operator|=
name|gtk_vscrollbar_new
argument_list|(
name|vadj
argument_list|)
expr_stmt|;
name|text
operator|=
name|gtk_text_new
argument_list|(
name|NULL
argument_list|,
name|vadj
argument_list|)
expr_stmt|;
name|gtk_widget_set_usize
argument_list|(
name|text
argument_list|,
literal|384
argument_list|,
literal|256
argument_list|)
expr_stmt|;
name|table
operator|=
name|gtk_table_new
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
name|gtk_table_set_col_spacing
argument_list|(
name|GTK_TABLE
argument_list|(
name|table
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|action_items
index|[
literal|0
index|]
operator|.
name|user_data
operator|=
operator|(
name|void
operator|*
operator|)
name|callback
expr_stmt|;
name|action_items
index|[
literal|1
index|]
operator|.
name|user_data
operator|=
operator|(
name|void
operator|*
operator|)
name|callback
expr_stmt|;
name|build_action_area
argument_list|(
name|GTK_DIALOG
argument_list|(
name|install_widget
argument_list|)
argument_list|,
name|action_items
argument_list|,
literal|2
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_box_pack_start
argument_list|(
name|GTK_BOX
argument_list|(
name|GTK_DIALOG
argument_list|(
name|install_widget
argument_list|)
operator|->
name|vbox
argument_list|)
argument_list|,
name|table
argument_list|,
name|TRUE
argument_list|,
name|TRUE
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table
argument_list|)
argument_list|,
name|vsb
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_SHRINK
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_table_attach
argument_list|(
name|GTK_TABLE
argument_list|(
name|table
argument_list|)
argument_list|,
name|text
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_SHRINK
operator||
name|GTK_FILL
argument_list|,
name|GTK_EXPAND
operator||
name|GTK_SHRINK
operator||
name|GTK_FILL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_container_border_width
argument_list|(
name|GTK_CONTAINER
argument_list|(
name|table
argument_list|)
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|font_strong
operator|=
name|gdk_font_load
argument_list|(
literal|"-*-helvetica-bold-r-normal-*-*-120-*-*-*-*-*-*"
argument_list|)
expr_stmt|;
name|font
operator|=
name|gdk_font_load
argument_list|(
literal|"-*-helvetica-medium-r-normal-*-*-120-*-*-*-*-*-*"
argument_list|)
expr_stmt|;
comment|/*  Realize the text widget before inserting text strings  */
name|gtk_widget_realize
argument_list|(
name|text
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font_strong
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"User Installation Log\n\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
comment|/*  Generate output  */
if|if
condition|(
operator|(
name|gimp_data_dir
operator|=
name|getenv
argument_list|(
literal|"GIMP_DATADIR"
argument_list|)
operator|)
operator|!=
name|NULL
condition|)
name|sprintf
argument_list|(
name|buffer
argument_list|,
literal|"%s/user_install"
argument_list|,
name|gimp_data_dir
argument_list|)
expr_stmt|;
else|else
name|sprintf
argument_list|(
name|buffer
argument_list|,
literal|"%s/user_install"
argument_list|,
name|DATADIR
argument_list|)
expr_stmt|;
if|if
condition|(
operator|(
name|err
operator|=
name|stat
argument_list|(
name|buffer
argument_list|,
operator|&
name|stat_buf
argument_list|)
operator|)
operator|!=
literal|0
condition|)
block|{
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|buffer
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|" does not exist.  Cannot install.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|executable
operator|=
name|FALSE
expr_stmt|;
block|}
elseif|else
if|if
condition|(
operator|!
operator|(
name|S_IXUSR
operator|&
name|stat_buf
operator|.
name|st_mode
operator|)
operator|||
operator|!
operator|(
name|S_IRUSR
operator|&
name|stat_buf
operator|.
name|st_mode
operator|)
condition|)
block|{
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|buffer
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|" has invalid permissions.\nCannot install."
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|executable
operator|=
name|FALSE
expr_stmt|;
block|}
if|if
condition|(
name|executable
operator|==
name|TRUE
condition|)
block|{
if|if
condition|(
name|gimp_data_dir
condition|)
name|sprintf
argument_list|(
name|buffer
argument_list|,
literal|"%s/user_install %s %s"
argument_list|,
name|gimp_data_dir
argument_list|,
name|gimp_data_dir
argument_list|,
name|gimp_directory
argument_list|()
argument_list|)
expr_stmt|;
else|else
name|sprintf
argument_list|(
name|buffer
argument_list|,
literal|"%s/user_install %s %s"
argument_list|,
name|DATADIR
argument_list|,
name|DATADIR
argument_list|,
name|gimp_directory
argument_list|()
argument_list|)
expr_stmt|;
if|if
condition|(
operator|(
name|pfp
operator|=
name|popen
argument_list|(
name|buffer
argument_list|,
literal|"r"
argument_list|)
operator|)
operator|!=
name|NULL
condition|)
block|{
while|while
condition|(
name|fgets
argument_list|(
name|buffer
argument_list|,
literal|2048
argument_list|,
name|pfp
argument_list|)
condition|)
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|buffer
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|pclose
argument_list|(
name|pfp
argument_list|)
expr_stmt|;
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\nInstallation successful!\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
block|}
else|else
name|executable
operator|=
name|FALSE
expr_stmt|;
block|}
if|if
condition|(
name|executable
operator|==
name|FALSE
condition|)
name|gtk_text_insert
argument_list|(
name|GTK_TEXT
argument_list|(
name|text
argument_list|)
argument_list|,
name|font
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|_
argument_list|(
literal|"\nInstallation failed.  Contact system administrator.\n"
argument_list|)
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|vsb
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|text
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|table
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|install_widget
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|install_continue_callback (GtkWidget * w,gpointer client_data)
name|install_continue_callback
parameter_list|(
name|GtkWidget
modifier|*
name|w
parameter_list|,
name|gpointer
name|client_data
parameter_list|)
block|{
name|InstallCallback
name|callback
decl_stmt|;
name|callback
operator|=
operator|(
name|InstallCallback
operator|)
name|client_data
expr_stmt|;
name|gtk_widget_destroy
argument_list|(
name|install_widget
argument_list|)
expr_stmt|;
call|(
modifier|*
name|callback
call|)
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|install_quit_callback (GtkWidget * w,gpointer client_data)
name|install_quit_callback
parameter_list|(
name|GtkWidget
modifier|*
name|w
parameter_list|,
name|gpointer
name|client_data
parameter_list|)
block|{
name|gtk_widget_destroy
argument_list|(
name|install_widget
argument_list|)
expr_stmt|;
name|gtk_exit
argument_list|(
literal|0
argument_list|)
expr_stmt|;
block|}
end_function

end_unit


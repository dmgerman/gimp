begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* The GIMP -- an image manipulation program  * Copyright (C) 1995 Spencer Kimball and Peter Mattis  *  * This program is free software; you can redistribute it and/or modify  * it under the terms of the GNU General Public License as published by  * the Free Software Foundation; either version 2 of the License, or  * (at your option) any later version.  *  * This program is distributed in the hope that it will be useful,  * but WITHOUT ANY WARRANTY; without even the implied warranty of  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the  * GNU General Public License for more details.  *  * You should have received a copy of the GNU General Public License  * along with this program; if not, write to the Free Software  * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */
end_comment

begin_include
include|#
directive|include
file|"config.h"
end_include

begin_include
include|#
directive|include
file|<string.h>
end_include

begin_include
include|#
directive|include
file|<time.h>
end_include

begin_include
include|#
directive|include
file|<gtk/gtk.h>
end_include

begin_include
include|#
directive|include
file|"libgimpbase/gimpbase.h"
end_include

begin_include
include|#
directive|include
file|"dialogs-types.h"
end_include

begin_include
include|#
directive|include
file|"core/gimpcontext.h"
end_include

begin_include
include|#
directive|include
file|"pdb/procedural_db.h"
end_include

begin_include
include|#
directive|include
file|"about-dialog.h"
end_include

begin_include
include|#
directive|include
file|"authors.h"
end_include

begin_include
include|#
directive|include
file|"gimp-intl.h"
end_include

begin_define
DECL|macro|COPYRIGHT
define|#
directive|define
name|COPYRIGHT
define|\
value|"Copyright (C) 1995-2005\n" \   "Spencer Kimball, Peter Mattis and the GIMP Development Team"
end_define

begin_comment
comment|/* FIXME: let GTK+ do the wrapping (requires GTK+ 2.8) */
end_comment

begin_define
DECL|macro|LICENSE
define|#
directive|define
name|LICENSE
define|\
value|"This program is free software; you can redistribute it and/or modify\n" \   "it under the terms of the GNU General Public License as published by\n" \   "the Free Software Foundation; either version 2 of the License, or\n"    \   "(at your option) any later version.\n\n"                                \   "This program is distributed in the hope that it will be useful,\n"      \   "but WITHOUT ANY WARRANTY; without even the implied warranty of\n"       \   "MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n"                 \   "See the GNU General Public License for more details.\n\n"               \   "You should have received a copy of the GNU General Public License\n"    \   "along with this program; if not, write to the Free Software\n"          \   "Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA."
end_define

begin_define
DECL|macro|COMMENTS
define|#
directive|define
name|COMMENTS
value|_("GNU Image Manipulation Program")
end_define

begin_define
DECL|macro|WEBSITE
define|#
directive|define
name|WEBSITE
value|"http://www.gimp.org/"
end_define

begin_define
DECL|macro|WEBSITE_LABEL
define|#
directive|define
name|WEBSITE_LABEL
value|_("Visit the GIMP website")
end_define

begin_define
DECL|macro|PDB_URL_LOAD
define|#
directive|define
name|PDB_URL_LOAD
value|"plug-in-web-browser"
end_define

begin_typedef
typedef|typedef
struct|struct
DECL|struct|__anon2a227b730108
block|{
DECL|member|dialog
name|GtkWidget
modifier|*
name|dialog
decl_stmt|;
DECL|member|logo_area
name|GtkWidget
modifier|*
name|logo_area
decl_stmt|;
DECL|member|logo_pixmap
name|GdkPixmap
modifier|*
name|logo_pixmap
decl_stmt|;
DECL|member|logo_width
name|gint
name|logo_width
decl_stmt|;
DECL|member|logo_height
name|gint
name|logo_height
decl_stmt|;
DECL|member|text_area
name|GdkRectangle
name|text_area
decl_stmt|;
DECL|member|text_size
name|gdouble
name|text_size
decl_stmt|;
DECL|member|min_text_size
name|gdouble
name|min_text_size
decl_stmt|;
DECL|member|layout
name|PangoLayout
modifier|*
name|layout
decl_stmt|;
DECL|member|font_desc
name|PangoFontDescription
modifier|*
name|font_desc
decl_stmt|;
DECL|member|n_authors
name|gint
name|n_authors
decl_stmt|;
DECL|member|shuffle
name|gint
name|shuffle
index|[
name|G_N_ELEMENTS
argument_list|(
name|authors
argument_list|)
operator|-
literal|1
index|]
decl_stmt|;
comment|/* NULL terminated */
DECL|member|timer
name|guint
name|timer
decl_stmt|;
DECL|member|index
name|gint
name|index
decl_stmt|;
DECL|member|animstep
name|gint
name|animstep
decl_stmt|;
DECL|member|textrange
name|gint
name|textrange
index|[
literal|2
index|]
decl_stmt|;
DECL|member|state
name|gint
name|state
decl_stmt|;
DECL|member|visible
name|gboolean
name|visible
decl_stmt|;
DECL|member|pp
name|gboolean
name|pp
decl_stmt|;
DECL|typedef|GimpAboutDialog
block|}
name|GimpAboutDialog
typedef|;
end_typedef

begin_decl_stmt
DECL|variable|founders
specifier|static
specifier|const
name|gchar
modifier|*
name|founders
index|[]
init|=
block|{
name|N_
argument_list|(
literal|"Version %s brought to you by"
argument_list|)
block|,
literal|"Spencer Kimball& Peter Mattis"
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|foreground
specifier|static
specifier|const
name|PangoColor
name|foreground
init|=
block|{
literal|5000
block|,
literal|5000
block|,
literal|5000
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|background
specifier|static
specifier|const
name|PangoColor
name|background
init|=
block|{
literal|139
operator|*
literal|257
block|,
literal|137
operator|*
literal|257
block|,
literal|124
operator|*
literal|257
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|gradient
specifier|static
specifier|const
name|PangoColor
name|gradient
index|[]
init|=
block|{
block|{
literal|139
operator|*
literal|257
block|,
literal|137
operator|*
literal|257
block|,
literal|124
operator|*
literal|257
block|}
block|,
block|{
literal|65535
block|,
literal|65535
block|,
literal|65535
block|}
block|,
block|{
literal|5000
block|,
literal|5000
block|,
literal|5000
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* backup values */
end_comment

begin_decl_stmt
DECL|variable|grad1ent
specifier|static
specifier|const
name|PangoColor
name|grad1ent
index|[]
init|=
block|{
block|{
literal|0xff
operator|*
literal|257
block|,
literal|0xba
operator|*
literal|257
block|,
literal|0x00
operator|*
literal|257
block|}
block|,
block|{
literal|37522
block|,
literal|51914
block|,
literal|57568
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|foregr0und
specifier|static
specifier|const
name|PangoColor
name|foregr0und
init|=
block|{
literal|37522
block|,
literal|51914
block|,
literal|57568
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
DECL|variable|backgr0und
specifier|static
specifier|const
name|PangoColor
name|backgr0und
init|=
block|{
literal|0
block|,
literal|0
block|,
literal|0
block|}
decl_stmt|;
end_decl_stmt

begin_function_decl
specifier|static
name|void
name|about_dialog_map
parameter_list|(
name|GtkWidget
modifier|*
name|widget
parameter_list|,
name|GimpAboutDialog
modifier|*
name|dialog
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|void
name|about_dialog_unmap
parameter_list|(
name|GtkWidget
modifier|*
name|widget
parameter_list|,
name|GimpAboutDialog
modifier|*
name|dialog
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|void
name|about_dialog_load_url
parameter_list|(
name|GtkAboutDialog
modifier|*
name|dialog
parameter_list|,
specifier|const
name|gchar
modifier|*
name|url
parameter_list|,
name|gpointer
name|data
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|void
name|about_dialog_add_logo
parameter_list|(
name|GtkWidget
modifier|*
name|vbox
parameter_list|,
name|GimpAboutDialog
modifier|*
name|dialog
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|gboolean
name|about_dialog_logo_expose
parameter_list|(
name|GtkWidget
modifier|*
name|widget
parameter_list|,
name|GdkEventExpose
modifier|*
name|event
parameter_list|,
name|GimpAboutDialog
modifier|*
name|dialog
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|gboolean
name|about_dialog_load_logo
parameter_list|(
name|GtkWidget
modifier|*
name|widget
parameter_list|,
name|GimpAboutDialog
modifier|*
name|dialog
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|void
name|about_dialog_reshuffle
parameter_list|(
name|GimpAboutDialog
modifier|*
name|dialog
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|gboolean
name|about_dialog_timer
parameter_list|(
name|gpointer
name|data
parameter_list|)
function_decl|;
end_function_decl

begin_function
name|GtkWidget
modifier|*
DECL|function|about_dialog_create (GimpContext * context)
name|about_dialog_create
parameter_list|(
name|GimpContext
modifier|*
name|context
parameter_list|)
block|{
specifier|static
name|GimpAboutDialog
modifier|*
name|dialog
init|=
name|NULL
decl_stmt|;
name|g_return_val_if_fail
argument_list|(
name|GIMP_IS_CONTEXT
argument_list|(
name|context
argument_list|)
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|dialog
condition|)
block|{
name|GtkWidget
modifier|*
name|widget
decl_stmt|;
name|GtkWidget
modifier|*
name|container
decl_stmt|;
name|GList
modifier|*
name|children
decl_stmt|;
name|GdkModifierType
name|mask
decl_stmt|;
if|if
condition|(
name|procedural_db_lookup
argument_list|(
name|context
operator|->
name|gimp
argument_list|,
name|PDB_URL_LOAD
argument_list|)
condition|)
name|gtk_about_dialog_set_url_hook
argument_list|(
name|about_dialog_load_url
argument_list|,
name|g_object_ref
argument_list|(
name|context
argument_list|)
argument_list|,
operator|(
name|GDestroyNotify
operator|)
name|g_object_unref
argument_list|)
expr_stmt|;
name|dialog
operator|=
name|g_new0
argument_list|(
name|GimpAboutDialog
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|dialog
operator|->
name|n_authors
operator|=
name|G_N_ELEMENTS
argument_list|(
name|authors
argument_list|)
operator|-
literal|1
expr_stmt|;
name|widget
operator|=
name|g_object_new
argument_list|(
name|GTK_TYPE_ABOUT_DIALOG
argument_list|,
literal|"version"
argument_list|,
name|GIMP_VERSION
argument_list|,
literal|"copyright"
argument_list|,
name|COPYRIGHT
argument_list|,
literal|"comments"
argument_list|,
name|COMMENTS
argument_list|,
literal|"license"
argument_list|,
name|LICENSE
argument_list|,
literal|"website"
argument_list|,
name|WEBSITE
argument_list|,
literal|"website-label"
argument_list|,
name|WEBSITE_LABEL
argument_list|,
literal|"authors"
argument_list|,
name|authors
argument_list|,
comment|/* Translators: insert your names here,                               * separated by newline                               */
literal|"translator-credits"
argument_list|,
name|_
argument_list|(
literal|"translator-credits"
argument_list|)
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|dialog
operator|->
name|dialog
operator|=
name|widget
expr_stmt|;
name|g_object_add_weak_pointer
argument_list|(
name|G_OBJECT
argument_list|(
name|widget
argument_list|)
argument_list|,
operator|(
name|gpointer
operator|)
operator|&
name|dialog
argument_list|)
expr_stmt|;
name|g_signal_connect
argument_list|(
name|widget
argument_list|,
literal|"response"
argument_list|,
name|G_CALLBACK
argument_list|(
name|gtk_widget_destroy
argument_list|)
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|g_signal_connect
argument_list|(
name|widget
argument_list|,
literal|"map"
argument_list|,
name|G_CALLBACK
argument_list|(
name|about_dialog_map
argument_list|)
argument_list|,
name|dialog
argument_list|)
expr_stmt|;
name|g_signal_connect
argument_list|(
name|widget
argument_list|,
literal|"unmap"
argument_list|,
name|G_CALLBACK
argument_list|(
name|about_dialog_unmap
argument_list|)
argument_list|,
name|dialog
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|about_dialog_load_logo
argument_list|(
name|widget
argument_list|,
name|dialog
argument_list|)
condition|)
block|{
name|gtk_widget_destroy
argument_list|(
name|widget
argument_list|)
expr_stmt|;
return|return
name|NULL
return|;
block|}
comment|/*  kids, don't try this at home!  */
name|container
operator|=
name|GTK_DIALOG
argument_list|(
name|widget
argument_list|)
operator|->
name|vbox
expr_stmt|;
name|children
operator|=
name|gtk_container_get_children
argument_list|(
name|GTK_CONTAINER
argument_list|(
name|container
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|GTK_IS_VBOX
argument_list|(
name|children
operator|->
name|data
argument_list|)
condition|)
name|about_dialog_add_logo
argument_list|(
name|children
operator|->
name|data
argument_list|,
name|dialog
argument_list|)
expr_stmt|;
else|else
name|g_warning
argument_list|(
literal|"%s: ooops, no vbox in this container?"
argument_list|,
name|G_STRLOC
argument_list|)
expr_stmt|;
name|g_list_free
argument_list|(
name|children
argument_list|)
expr_stmt|;
comment|/* weird magic to determine the way the logo should be shown */
name|gdk_window_get_pointer
argument_list|(
name|NULL
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
operator|&
name|mask
argument_list|)
expr_stmt|;
name|mask
operator|&=
operator|~
name|GDK_BUTTON3_MASK
expr_stmt|;
name|dialog
operator|->
name|pp
operator|=
operator|(
name|mask
operator|&=
operator|(
name|GDK_SHIFT_MASK
operator||
name|GDK_CONTROL_MASK
operator|)
operator|&
operator|(
name|GDK_CONTROL_MASK
operator||
name|GDK_MOD1_MASK
operator|)
operator|&
operator|(
name|GDK_MOD1_MASK
operator||
operator|~
name|GDK_SHIFT_MASK
operator|)
operator|)
expr_stmt|;
name|dialog
operator|->
name|text_area
operator|.
name|height
operator|=
name|dialog
operator|->
name|pp
condition|?
literal|50
else|:
literal|32
expr_stmt|;
name|dialog
operator|->
name|text_area
operator|.
name|y
operator|=
operator|(
name|dialog
operator|->
name|logo_height
operator|-
name|dialog
operator|->
name|text_area
operator|.
name|height
operator|)
expr_stmt|;
block|}
name|gtk_window_present
argument_list|(
name|GTK_WINDOW
argument_list|(
name|dialog
operator|->
name|dialog
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|dialog
operator|->
name|dialog
return|;
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|about_dialog_map (GtkWidget * widget,GimpAboutDialog * dialog)
name|about_dialog_map
parameter_list|(
name|GtkWidget
modifier|*
name|widget
parameter_list|,
name|GimpAboutDialog
modifier|*
name|dialog
parameter_list|)
block|{
if|if
condition|(
name|dialog
operator|->
name|layout
operator|&&
name|dialog
operator|->
name|timer
operator|==
literal|0
condition|)
block|{
name|dialog
operator|->
name|state
operator|=
literal|0
expr_stmt|;
name|dialog
operator|->
name|index
operator|=
literal|0
expr_stmt|;
name|dialog
operator|->
name|animstep
operator|=
literal|0
expr_stmt|;
name|dialog
operator|->
name|visible
operator|=
name|FALSE
expr_stmt|;
name|about_dialog_reshuffle
argument_list|(
name|dialog
argument_list|)
expr_stmt|;
name|dialog
operator|->
name|timer
operator|=
name|g_timeout_add
argument_list|(
literal|800
argument_list|,
name|about_dialog_timer
argument_list|,
name|dialog
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|about_dialog_unmap (GtkWidget * widget,GimpAboutDialog * dialog)
name|about_dialog_unmap
parameter_list|(
name|GtkWidget
modifier|*
name|widget
parameter_list|,
name|GimpAboutDialog
modifier|*
name|dialog
parameter_list|)
block|{
if|if
condition|(
name|dialog
operator|->
name|timer
condition|)
block|{
name|g_source_remove
argument_list|(
name|dialog
operator|->
name|timer
argument_list|)
expr_stmt|;
name|dialog
operator|->
name|timer
operator|=
literal|0
expr_stmt|;
block|}
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|about_dialog_load_url (GtkAboutDialog * dialog,const gchar * url,gpointer data)
name|about_dialog_load_url
parameter_list|(
name|GtkAboutDialog
modifier|*
name|dialog
parameter_list|,
specifier|const
name|gchar
modifier|*
name|url
parameter_list|,
name|gpointer
name|data
parameter_list|)
block|{
name|GimpContext
modifier|*
name|context
init|=
name|GIMP_CONTEXT
argument_list|(
name|data
argument_list|)
decl_stmt|;
name|Argument
modifier|*
name|return_vals
decl_stmt|;
name|gint
name|nreturn_vals
decl_stmt|;
name|return_vals
operator|=
name|procedural_db_run_proc
argument_list|(
name|context
operator|->
name|gimp
argument_list|,
name|context
argument_list|,
name|NULL
argument_list|,
name|PDB_URL_LOAD
argument_list|,
operator|&
name|nreturn_vals
argument_list|,
name|GIMP_PDB_STRING
argument_list|,
name|url
argument_list|,
name|GIMP_PDB_END
argument_list|)
expr_stmt|;
name|procedural_db_destroy_args
argument_list|(
name|return_vals
argument_list|,
name|nreturn_vals
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|about_dialog_add_logo (GtkWidget * vbox,GimpAboutDialog * dialog)
name|about_dialog_add_logo
parameter_list|(
name|GtkWidget
modifier|*
name|vbox
parameter_list|,
name|GimpAboutDialog
modifier|*
name|dialog
parameter_list|)
block|{
name|GtkWidget
modifier|*
name|align
decl_stmt|;
name|GList
modifier|*
name|children
decl_stmt|;
name|children
operator|=
name|gtk_container_get_children
argument_list|(
name|GTK_CONTAINER
argument_list|(
name|vbox
argument_list|)
argument_list|)
expr_stmt|;
for|for
control|(
name|children
operator|=
name|gtk_container_get_children
argument_list|(
name|GTK_CONTAINER
argument_list|(
name|vbox
argument_list|)
argument_list|)
init|;
name|children
condition|;
name|children
operator|=
name|g_list_next
argument_list|(
name|children
argument_list|)
control|)
block|{
if|if
condition|(
name|GTK_IS_IMAGE
argument_list|(
name|children
operator|->
name|data
argument_list|)
condition|)
block|{
name|gtk_widget_hide
argument_list|(
name|children
operator|->
name|data
argument_list|)
expr_stmt|;
break|break;
block|}
block|}
name|g_list_free
argument_list|(
name|children
argument_list|)
expr_stmt|;
name|align
operator|=
name|gtk_alignment_new
argument_list|(
literal|0.5
argument_list|,
literal|0.5
argument_list|,
literal|0.0
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|gtk_box_pack_start
argument_list|(
name|GTK_BOX
argument_list|(
name|vbox
argument_list|)
argument_list|,
name|align
argument_list|,
name|FALSE
argument_list|,
name|FALSE
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|align
argument_list|)
expr_stmt|;
name|dialog
operator|->
name|logo_area
operator|=
name|gtk_drawing_area_new
argument_list|()
expr_stmt|;
name|gtk_widget_set_size_request
argument_list|(
name|dialog
operator|->
name|logo_area
argument_list|,
name|dialog
operator|->
name|logo_width
argument_list|,
name|dialog
operator|->
name|logo_height
argument_list|)
expr_stmt|;
name|gtk_widget_set_events
argument_list|(
name|dialog
operator|->
name|logo_area
argument_list|,
name|GDK_EXPOSURE_MASK
argument_list|)
expr_stmt|;
name|gtk_container_add
argument_list|(
name|GTK_CONTAINER
argument_list|(
name|align
argument_list|)
argument_list|,
name|dialog
operator|->
name|logo_area
argument_list|)
expr_stmt|;
name|gtk_widget_show
argument_list|(
name|dialog
operator|->
name|logo_area
argument_list|)
expr_stmt|;
name|g_signal_connect
argument_list|(
name|dialog
operator|->
name|logo_area
argument_list|,
literal|"expose-event"
argument_list|,
name|G_CALLBACK
argument_list|(
name|about_dialog_logo_expose
argument_list|)
argument_list|,
name|dialog
argument_list|)
expr_stmt|;
comment|/* place the scrolltext at the bottom of the image */
name|dialog
operator|->
name|text_area
operator|.
name|width
operator|=
name|dialog
operator|->
name|logo_width
expr_stmt|;
name|dialog
operator|->
name|text_area
operator|.
name|height
operator|=
literal|32
expr_stmt|;
comment|/* gets changed in map() as well */
name|dialog
operator|->
name|text_area
operator|.
name|x
operator|=
literal|0
expr_stmt|;
name|dialog
operator|->
name|text_area
operator|.
name|y
operator|=
operator|(
name|dialog
operator|->
name|logo_height
operator|-
name|dialog
operator|->
name|text_area
operator|.
name|height
operator|)
expr_stmt|;
name|dialog
operator|->
name|layout
operator|=
name|gtk_widget_create_pango_layout
argument_list|(
name|dialog
operator|->
name|logo_area
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|g_object_weak_ref
argument_list|(
name|G_OBJECT
argument_list|(
name|dialog
operator|->
name|logo_area
argument_list|)
argument_list|,
operator|(
name|GWeakNotify
operator|)
name|g_object_unref
argument_list|,
name|dialog
operator|->
name|layout
argument_list|)
expr_stmt|;
name|dialog
operator|->
name|font_desc
operator|=
name|pango_font_description_from_string
argument_list|(
literal|"Sans, 11"
argument_list|)
expr_stmt|;
name|pango_layout_set_font_description
argument_list|(
name|dialog
operator|->
name|layout
argument_list|,
name|dialog
operator|->
name|font_desc
argument_list|)
expr_stmt|;
name|pango_layout_set_justify
argument_list|(
name|dialog
operator|->
name|layout
argument_list|,
name|PANGO_ALIGN_CENTER
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|about_dialog_reshuffle (GimpAboutDialog * dialog)
name|about_dialog_reshuffle
parameter_list|(
name|GimpAboutDialog
modifier|*
name|dialog
parameter_list|)
block|{
name|GRand
modifier|*
name|gr
init|=
name|g_rand_new
argument_list|()
decl_stmt|;
name|gint
name|i
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|dialog
operator|->
name|n_authors
condition|;
name|i
operator|++
control|)
name|dialog
operator|->
name|shuffle
index|[
name|i
index|]
operator|=
name|i
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|dialog
operator|->
name|n_authors
condition|;
name|i
operator|++
control|)
block|{
name|gint
name|j
init|=
name|g_rand_int_range
argument_list|(
name|gr
argument_list|,
literal|0
argument_list|,
name|dialog
operator|->
name|n_authors
argument_list|)
decl_stmt|;
if|if
condition|(
name|i
operator|!=
name|j
condition|)
block|{
name|gint
name|t
decl_stmt|;
name|t
operator|=
name|dialog
operator|->
name|shuffle
index|[
name|j
index|]
expr_stmt|;
name|dialog
operator|->
name|shuffle
index|[
name|j
index|]
operator|=
name|dialog
operator|->
name|shuffle
index|[
name|i
index|]
expr_stmt|;
name|dialog
operator|->
name|shuffle
index|[
name|i
index|]
operator|=
name|t
expr_stmt|;
block|}
block|}
name|g_rand_free
argument_list|(
name|gr
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|gboolean
DECL|function|about_dialog_logo_expose (GtkWidget * widget,GdkEventExpose * event,GimpAboutDialog * dialog)
name|about_dialog_logo_expose
parameter_list|(
name|GtkWidget
modifier|*
name|widget
parameter_list|,
name|GdkEventExpose
modifier|*
name|event
parameter_list|,
name|GimpAboutDialog
modifier|*
name|dialog
parameter_list|)
block|{
name|gdk_gc_set_clip_rectangle
argument_list|(
name|widget
operator|->
name|style
operator|->
name|black_gc
argument_list|,
operator|&
name|event
operator|->
name|area
argument_list|)
expr_stmt|;
name|gdk_draw_drawable
argument_list|(
name|widget
operator|->
name|window
argument_list|,
name|widget
operator|->
name|style
operator|->
name|black_gc
argument_list|,
name|dialog
operator|->
name|logo_pixmap
argument_list|,
name|event
operator|->
name|area
operator|.
name|x
argument_list|,
name|event
operator|->
name|area
operator|.
name|y
operator|+
operator|(
name|dialog
operator|->
name|pp
condition|?
name|dialog
operator|->
name|logo_height
else|:
literal|0
operator|)
argument_list|,
name|event
operator|->
name|area
operator|.
name|x
argument_list|,
name|event
operator|->
name|area
operator|.
name|y
argument_list|,
name|event
operator|->
name|area
operator|.
name|width
argument_list|,
name|event
operator|->
name|area
operator|.
name|height
argument_list|)
expr_stmt|;
name|gdk_gc_set_clip_rectangle
argument_list|(
name|widget
operator|->
name|style
operator|->
name|black_gc
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
if|if
condition|(
name|dialog
operator|->
name|visible
condition|)
block|{
name|GdkGC
modifier|*
name|text_gc
decl_stmt|;
name|gint
name|layout_x
decl_stmt|,
name|layout_y
decl_stmt|;
name|gint
name|width
decl_stmt|,
name|height
decl_stmt|;
name|text_gc
operator|=
name|dialog
operator|->
name|logo_area
operator|->
name|style
operator|->
name|text_gc
index|[
name|GTK_STATE_NORMAL
index|]
expr_stmt|;
name|pango_layout_get_pixel_size
argument_list|(
name|dialog
operator|->
name|layout
argument_list|,
operator|&
name|width
argument_list|,
operator|&
name|height
argument_list|)
expr_stmt|;
name|layout_x
operator|=
name|dialog
operator|->
name|text_area
operator|.
name|x
operator|+
operator|(
name|dialog
operator|->
name|text_area
operator|.
name|width
operator|-
name|width
operator|)
operator|/
literal|2
expr_stmt|;
name|layout_y
operator|=
name|dialog
operator|->
name|text_area
operator|.
name|y
operator|+
operator|(
name|dialog
operator|->
name|text_area
operator|.
name|height
operator|-
name|height
operator|)
operator|/
literal|2
expr_stmt|;
if|if
condition|(
name|dialog
operator|->
name|textrange
index|[
literal|1
index|]
operator|>
literal|0
condition|)
block|{
name|GdkRegion
modifier|*
name|covered_region
init|=
name|NULL
decl_stmt|;
name|GdkRegion
modifier|*
name|rect_region
decl_stmt|;
name|covered_region
operator|=
name|gdk_pango_layout_get_clip_region
argument_list|(
name|dialog
operator|->
name|layout
argument_list|,
name|layout_x
argument_list|,
name|layout_y
argument_list|,
name|dialog
operator|->
name|textrange
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|rect_region
operator|=
name|gdk_region_rectangle
argument_list|(
operator|&
name|event
operator|->
name|area
argument_list|)
expr_stmt|;
name|gdk_region_intersect
argument_list|(
name|covered_region
argument_list|,
name|rect_region
argument_list|)
expr_stmt|;
name|gdk_region_destroy
argument_list|(
name|rect_region
argument_list|)
expr_stmt|;
name|gdk_gc_set_clip_region
argument_list|(
name|text_gc
argument_list|,
name|covered_region
argument_list|)
expr_stmt|;
name|gdk_region_destroy
argument_list|(
name|covered_region
argument_list|)
expr_stmt|;
block|}
name|gdk_draw_layout
argument_list|(
name|widget
operator|->
name|window
argument_list|,
name|widget
operator|->
name|style
operator|->
name|text_gc
index|[
name|GTK_STATE_NORMAL
index|]
argument_list|,
name|layout_x
argument_list|,
name|layout_y
argument_list|,
name|dialog
operator|->
name|layout
argument_list|)
expr_stmt|;
name|gdk_gc_set_clip_region
argument_list|(
name|text_gc
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
block|}
return|return
name|FALSE
return|;
block|}
end_function

begin_function
specifier|static
name|gchar
modifier|*
DECL|function|insert_spacers (const gchar * string)
name|insert_spacers
parameter_list|(
specifier|const
name|gchar
modifier|*
name|string
parameter_list|)
block|{
name|GString
modifier|*
name|str
init|=
name|g_string_new
argument_list|(
name|NULL
argument_list|)
decl_stmt|;
name|gchar
modifier|*
name|normalized
decl_stmt|;
name|gchar
modifier|*
name|ptr
decl_stmt|;
name|gunichar
name|unichr
decl_stmt|;
name|normalized
operator|=
name|g_utf8_normalize
argument_list|(
name|string
argument_list|,
operator|-
literal|1
argument_list|,
name|G_NORMALIZE_DEFAULT_COMPOSE
argument_list|)
expr_stmt|;
name|ptr
operator|=
name|normalized
expr_stmt|;
while|while
condition|(
operator|(
name|unichr
operator|=
name|g_utf8_get_char
argument_list|(
name|ptr
argument_list|)
operator|)
condition|)
block|{
name|g_string_append_unichar
argument_list|(
name|str
argument_list|,
name|unichr
argument_list|)
expr_stmt|;
name|g_string_append_unichar
argument_list|(
name|str
argument_list|,
literal|0x200b
argument_list|)
expr_stmt|;
comment|/* ZERO WIDTH SPACE */
name|ptr
operator|=
name|g_utf8_next_char
argument_list|(
name|ptr
argument_list|)
expr_stmt|;
block|}
name|g_free
argument_list|(
name|normalized
argument_list|)
expr_stmt|;
return|return
name|g_string_free
argument_list|(
name|str
argument_list|,
name|FALSE
argument_list|)
return|;
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|mix_gradient (const PangoColor * gradient,guint ncolors,PangoColor * target,gdouble pos)
name|mix_gradient
parameter_list|(
specifier|const
name|PangoColor
modifier|*
name|gradient
parameter_list|,
name|guint
name|ncolors
parameter_list|,
name|PangoColor
modifier|*
name|target
parameter_list|,
name|gdouble
name|pos
parameter_list|)
block|{
name|gint
name|index
decl_stmt|;
if|if
condition|(
name|pos
operator|==
literal|1.0
condition|)
block|{
name|target
operator|->
name|red
operator|=
name|gradient
index|[
name|ncolors
operator|-
literal|1
index|]
operator|.
name|red
expr_stmt|;
name|target
operator|->
name|green
operator|=
name|gradient
index|[
name|ncolors
operator|-
literal|1
index|]
operator|.
name|green
expr_stmt|;
name|target
operator|->
name|blue
operator|=
name|gradient
index|[
name|ncolors
operator|-
literal|1
index|]
operator|.
name|blue
expr_stmt|;
return|return;
block|}
name|index
operator|=
operator|(
name|gint
operator|)
name|floor
argument_list|(
name|pos
operator|*
operator|(
name|ncolors
operator|-
literal|1
operator|)
argument_list|)
expr_stmt|;
name|pos
operator|=
name|pos
operator|*
operator|(
name|ncolors
operator|-
literal|1
operator|)
operator|-
name|index
expr_stmt|;
name|target
operator|->
name|red
operator|=
operator|(
name|gradient
index|[
name|index
index|]
operator|.
name|red
operator|*
operator|(
literal|1.0
operator|-
name|pos
operator|)
operator|+
name|gradient
index|[
name|index
operator|+
literal|1
index|]
operator|.
name|red
operator|*
name|pos
operator|)
expr_stmt|;
name|target
operator|->
name|green
operator|=
operator|(
name|gradient
index|[
name|index
index|]
operator|.
name|green
operator|*
operator|(
literal|1.0
operator|-
name|pos
operator|)
operator|+
name|gradient
index|[
name|index
operator|+
literal|1
index|]
operator|.
name|green
operator|*
name|pos
operator|)
expr_stmt|;
name|target
operator|->
name|blue
operator|=
operator|(
name|gradient
index|[
name|index
index|]
operator|.
name|blue
operator|*
operator|(
literal|1.0
operator|-
name|pos
operator|)
operator|+
name|gradient
index|[
name|index
operator|+
literal|1
index|]
operator|.
name|blue
operator|*
name|pos
operator|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
specifier|inline
DECL|function|mix_colors (const PangoColor * start,const PangoColor * end,PangoColor * target,gdouble pos)
name|mix_colors
parameter_list|(
specifier|const
name|PangoColor
modifier|*
name|start
parameter_list|,
specifier|const
name|PangoColor
modifier|*
name|end
parameter_list|,
name|PangoColor
modifier|*
name|target
parameter_list|,
name|gdouble
name|pos
parameter_list|)
block|{
name|target
operator|->
name|red
operator|=
name|start
operator|->
name|red
operator|*
operator|(
literal|1.0
operator|-
name|pos
operator|)
operator|+
name|end
operator|->
name|red
operator|*
name|pos
expr_stmt|;
name|target
operator|->
name|green
operator|=
name|start
operator|->
name|green
operator|*
operator|(
literal|1.0
operator|-
name|pos
operator|)
operator|+
name|end
operator|->
name|green
operator|*
name|pos
expr_stmt|;
name|target
operator|->
name|blue
operator|=
name|start
operator|->
name|blue
operator|*
operator|(
literal|1.0
operator|-
name|pos
operator|)
operator|+
name|end
operator|->
name|blue
operator|*
name|pos
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
DECL|function|decorate_text (GimpAboutDialog * dialog,gint anim_type,gdouble time)
name|decorate_text
parameter_list|(
name|GimpAboutDialog
modifier|*
name|dialog
parameter_list|,
name|gint
name|anim_type
parameter_list|,
name|gdouble
name|time
parameter_list|)
block|{
specifier|const
name|gchar
modifier|*
name|text
decl_stmt|;
specifier|const
name|gchar
modifier|*
name|ptr
decl_stmt|;
name|gint
name|letter_count
init|=
literal|0
decl_stmt|;
name|gint
name|text_length
init|=
literal|0
decl_stmt|;
name|gint
name|text_bytelen
init|=
literal|0
decl_stmt|;
name|gint
name|cluster_start
decl_stmt|,
name|cluster_end
decl_stmt|;
name|gunichar
name|unichr
decl_stmt|;
name|PangoAttrList
modifier|*
name|attrlist
init|=
name|NULL
decl_stmt|;
name|PangoAttribute
modifier|*
name|attr
decl_stmt|;
name|PangoRectangle
name|irect
init|=
block|{
literal|0
block|,
literal|0
block|,
literal|0
block|,
literal|0
block|}
decl_stmt|;
name|PangoRectangle
name|lrect
init|=
block|{
literal|0
block|,
literal|0
block|,
literal|0
block|,
literal|0
block|}
decl_stmt|;
name|PangoColor
name|mix
decl_stmt|;
name|mix_colors
argument_list|(
operator|(
name|dialog
operator|->
name|pp
condition|?
operator|&
name|backgr0und
else|:
operator|&
name|background
operator|)
argument_list|,
operator|(
name|dialog
operator|->
name|pp
condition|?
operator|&
name|foregr0und
else|:
operator|&
name|foreground
operator|)
argument_list|,
operator|&
name|mix
argument_list|,
name|time
argument_list|)
expr_stmt|;
name|text
operator|=
name|pango_layout_get_text
argument_list|(
name|dialog
operator|->
name|layout
argument_list|)
expr_stmt|;
name|g_return_if_fail
argument_list|(
name|text
operator|!=
name|NULL
argument_list|)
expr_stmt|;
name|text_length
operator|=
name|g_utf8_strlen
argument_list|(
name|text
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|text_bytelen
operator|=
name|strlen
argument_list|(
name|text
argument_list|)
expr_stmt|;
name|attrlist
operator|=
name|pango_attr_list_new
argument_list|()
expr_stmt|;
name|dialog
operator|->
name|textrange
index|[
literal|0
index|]
operator|=
literal|0
expr_stmt|;
name|dialog
operator|->
name|textrange
index|[
literal|1
index|]
operator|=
name|text_bytelen
expr_stmt|;
switch|switch
condition|(
name|anim_type
condition|)
block|{
case|case
literal|0
case|:
comment|/* Fade in */
name|attr
operator|=
name|pango_attr_foreground_new
argument_list|(
name|mix
operator|.
name|red
argument_list|,
name|mix
operator|.
name|green
argument_list|,
name|mix
operator|.
name|blue
argument_list|)
expr_stmt|;
name|attr
operator|->
name|start_index
operator|=
literal|0
expr_stmt|;
name|attr
operator|->
name|end_index
operator|=
name|text_bytelen
expr_stmt|;
name|pango_attr_list_insert
argument_list|(
name|attrlist
argument_list|,
name|attr
argument_list|)
expr_stmt|;
break|break;
case|case
literal|1
case|:
comment|/* Fade in, spread */
name|attr
operator|=
name|pango_attr_foreground_new
argument_list|(
name|mix
operator|.
name|red
argument_list|,
name|mix
operator|.
name|green
argument_list|,
name|mix
operator|.
name|blue
argument_list|)
expr_stmt|;
name|attr
operator|->
name|start_index
operator|=
literal|0
expr_stmt|;
name|attr
operator|->
name|end_index
operator|=
name|text_bytelen
expr_stmt|;
name|pango_attr_list_change
argument_list|(
name|attrlist
argument_list|,
name|attr
argument_list|)
expr_stmt|;
name|ptr
operator|=
name|text
expr_stmt|;
name|cluster_start
operator|=
literal|0
expr_stmt|;
while|while
condition|(
operator|(
name|unichr
operator|=
name|g_utf8_get_char
argument_list|(
name|ptr
argument_list|)
operator|)
condition|)
block|{
name|ptr
operator|=
name|g_utf8_next_char
argument_list|(
name|ptr
argument_list|)
expr_stmt|;
name|cluster_end
operator|=
operator|(
name|ptr
operator|-
name|text
operator|)
expr_stmt|;
if|if
condition|(
name|unichr
operator|==
literal|0x200b
condition|)
block|{
name|lrect
operator|.
name|width
operator|=
operator|(
literal|1.0
operator|-
name|time
operator|)
operator|*
literal|15.0
operator|*
name|PANGO_SCALE
operator|+
literal|0.5
expr_stmt|;
name|attr
operator|=
name|pango_attr_shape_new
argument_list|(
operator|&
name|irect
argument_list|,
operator|&
name|lrect
argument_list|)
expr_stmt|;
name|attr
operator|->
name|start_index
operator|=
name|cluster_start
expr_stmt|;
name|attr
operator|->
name|end_index
operator|=
name|cluster_end
expr_stmt|;
name|pango_attr_list_change
argument_list|(
name|attrlist
argument_list|,
name|attr
argument_list|)
expr_stmt|;
block|}
name|cluster_start
operator|=
name|cluster_end
expr_stmt|;
block|}
break|break;
case|case
literal|2
case|:
comment|/* Fade in, sinewave */
name|attr
operator|=
name|pango_attr_foreground_new
argument_list|(
name|mix
operator|.
name|red
argument_list|,
name|mix
operator|.
name|green
argument_list|,
name|mix
operator|.
name|blue
argument_list|)
expr_stmt|;
name|attr
operator|->
name|start_index
operator|=
literal|0
expr_stmt|;
name|attr
operator|->
name|end_index
operator|=
name|text_bytelen
expr_stmt|;
name|pango_attr_list_change
argument_list|(
name|attrlist
argument_list|,
name|attr
argument_list|)
expr_stmt|;
name|ptr
operator|=
name|text
expr_stmt|;
name|cluster_start
operator|=
literal|0
expr_stmt|;
while|while
condition|(
operator|(
name|unichr
operator|=
name|g_utf8_get_char
argument_list|(
name|ptr
argument_list|)
operator|)
condition|)
block|{
if|if
condition|(
name|unichr
operator|==
literal|0x200b
condition|)
block|{
name|cluster_end
operator|=
name|ptr
operator|-
name|text
expr_stmt|;
name|attr
operator|=
name|pango_attr_rise_new
argument_list|(
operator|(
literal|1.0
operator|-
name|time
operator|)
operator|*
literal|18000
operator|*
name|sin
argument_list|(
literal|4.0
operator|*
name|time
operator|+
operator|(
name|float
operator|)
name|letter_count
operator|*
literal|0.7
argument_list|)
argument_list|)
expr_stmt|;
name|attr
operator|->
name|start_index
operator|=
name|cluster_start
expr_stmt|;
name|attr
operator|->
name|end_index
operator|=
name|cluster_end
expr_stmt|;
name|pango_attr_list_change
argument_list|(
name|attrlist
argument_list|,
name|attr
argument_list|)
expr_stmt|;
name|letter_count
operator|++
expr_stmt|;
name|cluster_start
operator|=
name|cluster_end
expr_stmt|;
block|}
name|ptr
operator|=
name|g_utf8_next_char
argument_list|(
name|ptr
argument_list|)
expr_stmt|;
block|}
break|break;
case|case
literal|3
case|:
comment|/* letterwise Fade in */
name|ptr
operator|=
name|text
expr_stmt|;
name|letter_count
operator|=
literal|0
expr_stmt|;
name|cluster_start
operator|=
literal|0
expr_stmt|;
while|while
condition|(
operator|(
name|unichr
operator|=
name|g_utf8_get_char
argument_list|(
name|ptr
argument_list|)
operator|)
condition|)
block|{
name|gint
name|border
init|=
operator|(
name|text_length
operator|+
literal|15
operator|)
operator|*
name|time
operator|-
literal|15
decl_stmt|;
name|gdouble
name|pos
decl_stmt|;
if|if
condition|(
name|letter_count
operator|<
name|border
condition|)
name|pos
operator|=
literal|0
expr_stmt|;
elseif|else
if|if
condition|(
name|letter_count
operator|>
name|border
operator|+
literal|15
condition|)
name|pos
operator|=
literal|1
expr_stmt|;
else|else
name|pos
operator|=
operator|(
call|(
name|gdouble
call|)
argument_list|(
name|letter_count
operator|-
name|border
argument_list|)
operator|)
operator|/
literal|15
expr_stmt|;
name|mix_colors
argument_list|(
operator|(
name|dialog
operator|->
name|pp
condition|?
operator|&
name|foregr0und
else|:
operator|&
name|foreground
operator|)
argument_list|,
operator|(
name|dialog
operator|->
name|pp
condition|?
operator|&
name|backgr0und
else|:
operator|&
name|background
operator|)
argument_list|,
operator|&
name|mix
argument_list|,
name|pos
argument_list|)
expr_stmt|;
name|ptr
operator|=
name|g_utf8_next_char
argument_list|(
name|ptr
argument_list|)
expr_stmt|;
name|cluster_end
operator|=
name|ptr
operator|-
name|text
expr_stmt|;
name|attr
operator|=
name|pango_attr_foreground_new
argument_list|(
name|mix
operator|.
name|red
argument_list|,
name|mix
operator|.
name|green
argument_list|,
name|mix
operator|.
name|blue
argument_list|)
expr_stmt|;
name|attr
operator|->
name|start_index
operator|=
name|cluster_start
expr_stmt|;
name|attr
operator|->
name|end_index
operator|=
name|cluster_end
expr_stmt|;
name|pango_attr_list_change
argument_list|(
name|attrlist
argument_list|,
name|attr
argument_list|)
expr_stmt|;
if|if
condition|(
name|pos
operator|<
literal|1.0
condition|)
name|dialog
operator|->
name|textrange
index|[
literal|1
index|]
operator|=
name|cluster_end
expr_stmt|;
name|letter_count
operator|++
expr_stmt|;
name|cluster_start
operator|=
name|cluster_end
expr_stmt|;
block|}
break|break;
case|case
literal|4
case|:
comment|/* letterwise Fade in, triangular */
name|ptr
operator|=
name|text
expr_stmt|;
name|letter_count
operator|=
literal|0
expr_stmt|;
name|cluster_start
operator|=
literal|0
expr_stmt|;
while|while
condition|(
operator|(
name|unichr
operator|=
name|g_utf8_get_char
argument_list|(
name|ptr
argument_list|)
operator|)
condition|)
block|{
name|gint
name|border
init|=
operator|(
name|text_length
operator|+
literal|15
operator|)
operator|*
name|time
operator|-
literal|15
decl_stmt|;
name|gdouble
name|pos
decl_stmt|;
if|if
condition|(
name|letter_count
operator|<
name|border
condition|)
name|pos
operator|=
literal|1.0
expr_stmt|;
elseif|else
if|if
condition|(
name|letter_count
operator|>
name|border
operator|+
literal|15
condition|)
name|pos
operator|=
literal|0.0
expr_stmt|;
else|else
name|pos
operator|=
literal|1.0
operator|-
operator|(
call|(
name|gdouble
call|)
argument_list|(
name|letter_count
operator|-
name|border
argument_list|)
operator|)
operator|/
literal|15
expr_stmt|;
name|mix_gradient
argument_list|(
name|dialog
operator|->
name|pp
condition|?
name|grad1ent
else|:
name|gradient
argument_list|,
name|dialog
operator|->
name|pp
condition|?
name|G_N_ELEMENTS
argument_list|(
name|grad1ent
argument_list|)
else|:
name|G_N_ELEMENTS
argument_list|(
name|gradient
argument_list|)
argument_list|,
operator|&
name|mix
argument_list|,
name|pos
argument_list|)
expr_stmt|;
name|ptr
operator|=
name|g_utf8_next_char
argument_list|(
name|ptr
argument_list|)
expr_stmt|;
name|cluster_end
operator|=
name|ptr
operator|-
name|text
expr_stmt|;
name|attr
operator|=
name|pango_attr_foreground_new
argument_list|(
name|mix
operator|.
name|red
argument_list|,
name|mix
operator|.
name|green
argument_list|,
name|mix
operator|.
name|blue
argument_list|)
expr_stmt|;
name|attr
operator|->
name|start_index
operator|=
name|cluster_start
expr_stmt|;
name|attr
operator|->
name|end_index
operator|=
name|cluster_end
expr_stmt|;
name|pango_attr_list_change
argument_list|(
name|attrlist
argument_list|,
name|attr
argument_list|)
expr_stmt|;
if|if
condition|(
name|pos
operator|>
literal|0.0
condition|)
name|dialog
operator|->
name|textrange
index|[
literal|1
index|]
operator|=
name|cluster_end
expr_stmt|;
name|letter_count
operator|++
expr_stmt|;
name|cluster_start
operator|=
name|cluster_end
expr_stmt|;
block|}
break|break;
default|default:
name|g_printerr
argument_list|(
literal|"Unknown animation type %d\n"
argument_list|,
name|anim_type
argument_list|)
expr_stmt|;
block|}
name|pango_layout_set_attributes
argument_list|(
name|dialog
operator|->
name|layout
argument_list|,
name|attrlist
argument_list|)
expr_stmt|;
name|pango_attr_list_unref
argument_list|(
name|attrlist
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|gboolean
DECL|function|about_dialog_timer (gpointer data)
name|about_dialog_timer
parameter_list|(
name|gpointer
name|data
parameter_list|)
block|{
name|GimpAboutDialog
modifier|*
name|dialog
init|=
name|data
decl_stmt|;
name|gint
name|timeout
init|=
literal|0
decl_stmt|;
if|if
condition|(
name|dialog
operator|->
name|state
operator|==
literal|0
condition|)
block|{
name|dialog
operator|->
name|timer
operator|=
name|g_timeout_add
argument_list|(
literal|30
argument_list|,
name|about_dialog_timer
argument_list|,
name|dialog
argument_list|)
expr_stmt|;
name|dialog
operator|->
name|index
operator|=
literal|0
expr_stmt|;
name|dialog
operator|->
name|state
operator|=
literal|1
expr_stmt|;
return|return
name|FALSE
return|;
block|}
if|if
condition|(
name|dialog
operator|->
name|animstep
operator|==
literal|0
condition|)
block|{
name|gchar
modifier|*
name|text
init|=
name|NULL
decl_stmt|;
name|gdouble
name|size
init|=
literal|11.0
decl_stmt|;
name|gint
name|width
decl_stmt|;
name|gint
name|height
decl_stmt|;
name|dialog
operator|->
name|visible
operator|=
name|TRUE
expr_stmt|;
if|if
condition|(
name|dialog
operator|->
name|state
operator|==
literal|1
condition|)
block|{
if|if
condition|(
name|dialog
operator|->
name|index
operator|>=
name|G_N_ELEMENTS
argument_list|(
name|founders
argument_list|)
condition|)
block|{
name|dialog
operator|->
name|index
operator|=
literal|0
expr_stmt|;
name|dialog
operator|->
name|state
operator|=
literal|2
expr_stmt|;
block|}
else|else
block|{
if|if
condition|(
name|dialog
operator|->
name|index
operator|==
literal|0
condition|)
block|{
name|gchar
modifier|*
name|tmp
init|=
name|g_strdup_printf
argument_list|(
name|gettext
argument_list|(
name|founders
index|[
literal|0
index|]
argument_list|)
argument_list|,
name|GIMP_VERSION
argument_list|)
decl_stmt|;
name|text
operator|=
name|insert_spacers
argument_list|(
name|tmp
argument_list|)
expr_stmt|;
name|g_free
argument_list|(
name|tmp
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|text
operator|=
name|insert_spacers
argument_list|(
name|gettext
argument_list|(
name|founders
index|[
name|dialog
operator|->
name|index
index|]
argument_list|)
argument_list|)
expr_stmt|;
block|}
name|dialog
operator|->
name|index
operator|++
expr_stmt|;
block|}
block|}
if|if
condition|(
name|dialog
operator|->
name|state
operator|==
literal|2
condition|)
block|{
name|text
operator|=
name|insert_spacers
argument_list|(
name|_
argument_list|(
literal|"Contributions by"
argument_list|)
argument_list|)
expr_stmt|;
name|dialog
operator|->
name|index
operator|=
literal|0
expr_stmt|;
name|dialog
operator|->
name|state
operator|++
expr_stmt|;
block|}
if|if
condition|(
name|dialog
operator|->
name|state
operator|==
literal|3
condition|)
block|{
name|dialog
operator|->
name|index
operator|+=
literal|1
expr_stmt|;
if|if
condition|(
name|dialog
operator|->
name|index
operator|==
name|dialog
operator|->
name|n_authors
condition|)
name|dialog
operator|->
name|index
operator|=
literal|0
expr_stmt|;
name|text
operator|=
name|insert_spacers
argument_list|(
name|authors
index|[
name|dialog
operator|->
name|shuffle
index|[
name|dialog
operator|->
name|index
index|]
index|]
argument_list|)
expr_stmt|;
block|}
name|g_return_val_if_fail
argument_list|(
name|text
operator|!=
name|NULL
argument_list|,
name|TRUE
argument_list|)
expr_stmt|;
name|pango_layout_set_text
argument_list|(
name|dialog
operator|->
name|layout
argument_list|,
name|text
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|pango_layout_set_attributes
argument_list|(
name|dialog
operator|->
name|layout
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|pango_font_description_set_size
argument_list|(
name|dialog
operator|->
name|font_desc
argument_list|,
name|size
operator|*
name|PANGO_SCALE
argument_list|)
expr_stmt|;
name|pango_layout_set_font_description
argument_list|(
name|dialog
operator|->
name|layout
argument_list|,
name|dialog
operator|->
name|font_desc
argument_list|)
expr_stmt|;
name|pango_layout_get_pixel_size
argument_list|(
name|dialog
operator|->
name|layout
argument_list|,
operator|&
name|width
argument_list|,
operator|&
name|height
argument_list|)
expr_stmt|;
while|while
condition|(
name|width
operator|>=
name|dialog
operator|->
name|text_area
operator|.
name|width
operator|&&
name|size
operator|>=
literal|6.0
condition|)
block|{
name|size
operator|-=
literal|0.5
expr_stmt|;
name|pango_font_description_set_size
argument_list|(
name|dialog
operator|->
name|font_desc
argument_list|,
name|size
operator|*
name|PANGO_SCALE
argument_list|)
expr_stmt|;
name|pango_layout_set_font_description
argument_list|(
name|dialog
operator|->
name|layout
argument_list|,
name|dialog
operator|->
name|font_desc
argument_list|)
expr_stmt|;
name|pango_layout_get_pixel_size
argument_list|(
name|dialog
operator|->
name|layout
argument_list|,
operator|&
name|width
argument_list|,
operator|&
name|height
argument_list|)
expr_stmt|;
block|}
block|}
if|if
condition|(
name|dialog
operator|->
name|animstep
operator|<
literal|16
condition|)
block|{
name|decorate_text
argument_list|(
name|dialog
argument_list|,
literal|4
argument_list|,
operator|(
operator|(
name|gfloat
operator|)
name|dialog
operator|->
name|animstep
operator|)
operator|/
literal|15.0
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|dialog
operator|->
name|animstep
operator|==
literal|16
condition|)
block|{
name|timeout
operator|=
literal|800
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|dialog
operator|->
name|animstep
operator|==
literal|17
condition|)
block|{
name|timeout
operator|=
literal|30
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|dialog
operator|->
name|animstep
operator|<
literal|33
condition|)
block|{
name|decorate_text
argument_list|(
name|dialog
argument_list|,
literal|1
argument_list|,
literal|1.0
operator|-
operator|(
call|(
name|gfloat
call|)
argument_list|(
name|dialog
operator|->
name|animstep
operator|-
literal|17
argument_list|)
operator|)
operator|/
literal|15.0
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|dialog
operator|->
name|animstep
operator|==
literal|33
condition|)
block|{
name|dialog
operator|->
name|visible
operator|=
name|FALSE
expr_stmt|;
name|timeout
operator|=
literal|300
expr_stmt|;
block|}
else|else
block|{
name|dialog
operator|->
name|visible
operator|=
name|FALSE
expr_stmt|;
name|dialog
operator|->
name|animstep
operator|=
operator|-
literal|1
expr_stmt|;
name|timeout
operator|=
literal|30
expr_stmt|;
block|}
name|dialog
operator|->
name|animstep
operator|++
expr_stmt|;
name|gtk_widget_queue_draw_area
argument_list|(
name|dialog
operator|->
name|logo_area
argument_list|,
name|dialog
operator|->
name|text_area
operator|.
name|x
argument_list|,
name|dialog
operator|->
name|text_area
operator|.
name|y
argument_list|,
name|dialog
operator|->
name|text_area
operator|.
name|width
argument_list|,
name|dialog
operator|->
name|text_area
operator|.
name|height
argument_list|)
expr_stmt|;
if|if
condition|(
name|timeout
operator|>
literal|0
condition|)
block|{
name|dialog
operator|->
name|timer
operator|=
name|g_timeout_add
argument_list|(
name|timeout
argument_list|,
name|about_dialog_timer
argument_list|,
name|dialog
argument_list|)
expr_stmt|;
return|return
name|FALSE
return|;
block|}
comment|/* else keep the current timeout */
return|return
name|TRUE
return|;
block|}
end_function

begin_comment
comment|/* some handy shortcuts */
end_comment

begin_define
DECL|macro|random ()
define|#
directive|define
name|random
parameter_list|()
value|gdk_pixbuf_loader_new_with_type ("\160\x6e\147", NULL)
end_define

begin_define
DECL|macro|pink (a)
define|#
directive|define
name|pink
parameter_list|(
name|a
parameter_list|)
value|gdk_pixbuf_loader_close ((a), NULL)
end_define

begin_define
DECL|macro|line
define|#
directive|define
name|line
value|gdk_pixbuf_loader_write
end_define

begin_define
DECL|macro|white
define|#
directive|define
name|white
value|gdk_pixbuf_loader_get_pixbuf
end_define

begin_define
DECL|macro|level (a)
define|#
directive|define
name|level
parameter_list|(
name|a
parameter_list|)
value|gdk_pixbuf_get_width ((a))
end_define

begin_define
DECL|macro|variance (a)
define|#
directive|define
name|variance
parameter_list|(
name|a
parameter_list|)
value|gdk_pixbuf_get_height ((a))
end_define

begin_define
DECL|macro|GPL
define|#
directive|define
name|GPL
value|GdkPixbufLoader
end_define

begin_function
specifier|static
name|gboolean
DECL|function|about_dialog_load_logo (GtkWidget * widget,GimpAboutDialog * dialog)
name|about_dialog_load_logo
parameter_list|(
name|GtkWidget
modifier|*
name|widget
parameter_list|,
name|GimpAboutDialog
modifier|*
name|dialog
parameter_list|)
block|{
name|GdkPixbuf
modifier|*
name|pixbuf
decl_stmt|;
name|GdkGC
modifier|*
name|gc
decl_stmt|;
name|GPL
modifier|*
name|noise
decl_stmt|;
name|gchar
modifier|*
name|filename
decl_stmt|;
name|g_return_val_if_fail
argument_list|(
name|dialog
operator|->
name|logo_pixmap
operator|==
name|NULL
argument_list|,
name|FALSE
argument_list|)
expr_stmt|;
name|filename
operator|=
name|g_build_filename
argument_list|(
name|gimp_data_directory
argument_list|()
argument_list|,
literal|"images"
argument_list|,
literal|"gimp-logo.png"
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|pixbuf
operator|=
name|gdk_pixbuf_new_from_file
argument_list|(
name|filename
argument_list|,
name|NULL
argument_list|)
expr_stmt|;
name|g_free
argument_list|(
name|filename
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|pixbuf
condition|)
return|return
name|FALSE
return|;
name|dialog
operator|->
name|logo_width
operator|=
name|gdk_pixbuf_get_width
argument_list|(
name|pixbuf
argument_list|)
expr_stmt|;
name|dialog
operator|->
name|logo_height
operator|=
name|gdk_pixbuf_get_height
argument_list|(
name|pixbuf
argument_list|)
expr_stmt|;
name|gtk_widget_realize
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|dialog
operator|->
name|logo_pixmap
operator|=
name|gdk_pixmap_new
argument_list|(
name|widget
operator|->
name|window
argument_list|,
name|dialog
operator|->
name|logo_width
argument_list|,
name|dialog
operator|->
name|logo_height
operator|*
literal|2
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|gc
operator|=
name|gdk_gc_new
argument_list|(
name|dialog
operator|->
name|logo_pixmap
argument_list|)
expr_stmt|;
comment|/* draw a defined content to the pixmap */
name|gdk_draw_rectangle
argument_list|(
name|GDK_DRAWABLE
argument_list|(
name|dialog
operator|->
name|logo_pixmap
argument_list|)
argument_list|,
name|gc
argument_list|,
name|TRUE
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
name|dialog
operator|->
name|logo_width
argument_list|,
name|dialog
operator|->
name|logo_height
operator|*
literal|2
argument_list|)
expr_stmt|;
name|gdk_draw_pixbuf
argument_list|(
name|GDK_DRAWABLE
argument_list|(
name|dialog
operator|->
name|logo_pixmap
argument_list|)
argument_list|,
name|gc
argument_list|,
name|pixbuf
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
name|dialog
operator|->
name|logo_width
argument_list|,
name|dialog
operator|->
name|logo_height
argument_list|,
name|GDK_RGB_DITHER_NORMAL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|g_object_unref
argument_list|(
name|pixbuf
argument_list|)
expr_stmt|;
if|if
condition|(
operator|(
name|noise
operator|=
name|random
argument_list|()
operator|)
operator|&&
name|line
argument_list|(
name|noise
argument_list|,
operator|(
specifier|const
name|guchar
operator|*
operator|)
literal|"\211\120\116\107\r\n\032\n\0\0\0\r\111\110D\122\0\0\001+\0\0\001"
literal|"\r\004\003\0\0\0\245\177^\254\0\0\0000\120\114TE\0\0\0\023\026\026"
literal|" \'(2=ANXYSr\177surg\216\234\226\230\225z\247\272\261\263\257\222Ê"
literal|"àÌÎËÕ×ÔßáÞÿÿÿ;\014æ\016\000\000\017\210I\104A\124xÚí\235[l\033Ç\025"
literal|"@gw)êaÆbì\246\255ëÆ\242\037)j+\251hII\2122)iËvÝ\270\211\234Öþ\010"
literal|"øÃ&F`\004\251\251Ö\r\202B?jR\030A\220\226I\213Â0ô\243Â\201a\030\t"
literal|"X;\026\004\201?Ê\003E\020\250\241Ú\257\242?\222Q#\010\002W\264e\201"
literal|"\020\004\205Ûy-\271\217;\273\\\212\273b\212\275\200%qç\261ggîÜ\271"
literal|"sg\226F(\220@\002\t$\220@\276B\"\037\2760>}áD\254\265\250\036-p9"
literal|"ÛBPR\272P\225ÉhË`é\2500W\253P%\n\006ùSkP}\243`\222\221\226\030\203"
literal|"ãf\254éXëu!\221k\033O\245\024\000Ùøæê\205\260\256n\270É\032\207\260"
literal|"\2467\016hë\000\221Gk,ç_\256!\236\035X\237ô7h\224ï3\267ÒÙ\230~\016"
literal|"Z\27744\213Ýg\256åivý\201æqý\261\t\266ê--\245\275y\\ñu\017\277IÁ"
literal|"ü\270.yÏ5Ö\270øÁÚ\232×\\n\255_\233Ýs\035k\032Ö\233ëìCÃÜÜ\276a\275"
literal|"8j2\236\006##5\rË\245Q\226Í\n\177\257Ø)\\\227\254O\265\210\\\270"
literal|"pþå\223\'O\014\rôïÜ\273AXÛ\013>I#\256û{næ\270\023.çÄc\r`\271w\215"
literal|"\245\267\032\032ë\256\212\204ÜÏ\rÛ\256z\217Õé~ô\216û\200\225pmëÚ"
literal|"\013>`\215\273\236\031Ò>`ñ5EÊ\225\235ó\036\253Ý\265M9æ\007V\257Û"
literal|"H\203Rð\003+m]rÉ\265\245\001\231\036M\2461á\007\226\004\030ÓÎÂ\205"
literal|"ó/\235\034êß)\\Ðz\216Õ\006x\216Ç\216;9\\\236cm\242\005\246\214&#"
literal|"æ4\223{\216uÌjL\225i;\'Ñ\037,À\230vN:ÆJ\274ÆR\200y:qÍÑ\033ó\032\013"
literal|"\232\247G\247í\026k\276`\261yú\272É\265×\271SÛ\n\033\201Åôù\257&"
literal|"\203P[ûÈã\033\201Å\027=ÇÍÊ4é\260ìñ\030\213\033Ó\250e6úsÌ\274oà\'"
literal|"Öv\2531Õ\226\253\'úw\037\256öàõC\232üÈ\017\254\2645\222Üf\037\004"
literal|"jó\003\013\230\2477\001T\223ÈW,hÑ\003EhFüÅ\202\214)`\021\246\220"
literal|"\277XÀ\242\'\0044Öq\237\261\240yÚJu\035ù\213\005-z\022\016ÁE\037"
literal|"\260\240E\217U\265RÈg,`Ñcõ\256\236F~c\001\213\036Þ\200ã\240\272û"
literal|"\203\005-zXù)\211Í1\205\227bÈw,hÑ3\252ÍFòÀá\223C1Q!/\2616\tçé\021"
literal|"\247gñ\022\013Xô\2649\206à\274Ç\002\214évÇ\020\234çX\2201M;\206à"
literal|"<ÇJ\000-ã\2749ã5\226\014\234Uis\016:{\215Õ\013xå\235Î;\270\036ci"
literal|"+\255ã\240\0138\031Û ,mY\032\205çéé\003\033\202\245\235w\230\022"
literal|"ÎÓg7\002k\233y\257Üê\002Â\035é-Ö8tØÈ\024\234\001;ÒS\254vø\254\221"
literal|"ùØÃ\257|Æ\032\025l\266\207Æ\235N\224y\211Õ.ÜÔ\226\237\261Ù\266ö\032"
literal|"+ms\220ãQûC\002\036b\265Ù\236\0000\234\002\232ô\021+]\260Ý~RFmNÆ"
literal|"x\207\025r<Qúcq/z\207\225\020,j@KqÕ/,\245\236ã\267Õ\216\274î\027"
literal|"V\242\256S\256Ò3À\244é!\226\\\200ï\'\260\024Ó>aõ\002\215ÕvP8oú\204"
literal|"\245\271\177ÓF/gê\240`ÑíS\'B\036\r=Üc\001SÀ\201á\r\226æþé\';mh\232"
literal|"ÀÚ|\034\211PcÕ\202\270S?\2658\205×|Á\002Ü?C ^\007\266É\272\035ä\025"
literal|"\026äþ\231vW\247~f\260o#~`\001îß6Q\0107\rNç^`\001î\037\2603w]ÿ\010"
literal|"1\037\260\000÷Oü2\001|ÈÅ\003,ÀýS\204ÇVex\212ò\000\013pÿÒÂ\035\236"
literal|"\220_ÞiH\264ß\005\006âÛa\277\272ùX\200û\247\215Ìé\207ÇÍ\273\026\235"
literal|"\240Ùj>\026àþm\253\235\217\227j`ú%\266÷+\037\253ûW5\016L\261\037"
literal|"\036Õky\002v\254\233\215\005\270\177\tÓVE\233Õ\232Æ\275Æ\262\272"
literal|"\177!óÎ\\\273Þl\215[Ã_\036`\001î_Ú\274\026ÔOÎ\222 \024Þd,\253GÓn"
literal|"y\247\244W×\234\212Àáo.\226Õý\223F-á\017ýä\014;\201ÍÆ\2626Ö6k\260"
literal|"hÔb\266\256y\214eqÿLÆÁ29ÃN`\223\261\254î_Â\272\217)[Í\226Ça7\213"
literal|"û\027\002\266íÛ\234\235ÀæbYÝ\2774\020(2\230\255QÁ\033CÍÄ\262\270"
literal|"\177íÐ\013g\006u\022\235tn\"\226Åý\253\276\034i\210\215êÍ\226,ÚX"
literal|"l\"\226ÅýÛ\013F\222\217é\206@H\024kj\036\226Åý\223áÈ\250^\235ÚEÁ"
literal|"ÕæaYÜ\277\004|ÈA\257N\235\242\2737\rK67M\010~×Ì`\266zEÛ\260MÃÚfÖ"
literal|"\2434\034E6\250SB\024]m\032VÚ4É\264\013ÞF5\250SZ\264\235Ð,,ÉÔX\260"
literal|"q0\233-\201\023Ø<\254\220ÉýÛ+ÚfÒ\233-Ix\036\242YXíF\217F\021n\233"
literal|"èÍ\226\"\214ú6\013\253ÓØc\211\202hgE\257N\"\'\260yX\233\014êÝ&~\021"
literal|"uÔb\266\256y\216UÇWO\214ò×8\211\214\013\234Àõ\275ÐlíÄ\202è5s\273"
literal|"(É\210M c\275Xà\013ÈÓQñ\252\273<\200\'\212<5\202\005Ö3b\263\276"
literal|"\255\tøm\tMz\201Y\262?:mÓÛS\266áW÷2é\2403ð\266\253Rß[ã\275\rc]\265"
literal|"o\005Ñ\261\261Ñ\272Þ\261o|(\036\007\035\033Çï\245Ùî<,tKN×bÖ\211\275"
literal|"ÎÆ\001\212\205\277å\260?\263Þ/80}ÛÊ\244ã\206\220mc5ú\022\277õ\266"
literal|"\206\023\004S1ñ\034\241\273á\264ø\220\247ÜÈ`\234\002\236R\032<\251"
literal|"I\277íÜõÀoØäsÞþ{Ê\016\277ìVN\240@\002\t$\220@\002\t$\220@\002\201"
literal|"$ôÌ\257[\220\212\2548Þk=\254ÎÖøNN0\030ùfËa\215:\204ó\244ÅÅ1W\025"
literal|"~\272\270\270\030oP\241v\rôÇt\221 \033å\222Tu\214\227Ù=\260\253\216"
literal|"\257Þ,\251\252Ú\020Vø]\225ÈÇ\251j\014Á\031ë\205\"-S\271\034õ\014"
literal|"k\263Ê%SO\'2\254\222Vf5å9ÖZ\224\007#GêÇ\242\205\274Â\272üüÑ7pñ\031"
literal|"\026\240\232\216\272ÀRß÷\014k\215üÚ\247\252+ÌBü\022\271ÁZó\026\013"
literal|"\r\253*\031\216\017ïGubý\267\246\222\036buhc\277N\254\030\222\237"
literal|"\"X\013Þbá\032\026Ü`\221\217yüû\256ÇXyõ\216[\254\035*ÓH/\261rê\222"
literal|"(Ï\236Ó\247â\020V\0071]ì\233ÔÈÇ-\273vqË\277õô\225s\251\032Vøõs5\266"
literal|"ðk\237\2604$ãüØ\227zý\242\035V\226ôÇfr\233\244ú%+VRo\220ß\277 \026"
literal|"=\003`\205ÙPTùÇ\254Êõó\233t0\\Ò\260\276EÊk\206\227\245Ñl\021\242"
literal|"\242JI]vl\255n\202\245i\177\227\252\222Ê~È,A\254n\2540\033\243\025"
literal|"\236s\220~â\235ÝÁÓâ\034+\216-À\262\275nÝæXh\236åÌÒ\272B\270ð-üï\206"
literal|"\260\023ÍXy\265\nBrfÕZ\003iit\244àÇV\207T\007,jæ\031V\222>\251ÄF"
literal|"ÿ0\261MJ\236f3aÝÃnnÂâ\215Eï\2463\274KZ\277\261æ\2122\254\'\034\260"
literal|":\250edXaZ}\027\035DRIýg5Ù\204\225eu\232\260zt\034:\254U\246)\270"
literal|"ÛÉL\247N0\254\274\003\026n\224\250\206\205\212\244\221\207Õ2mé\n"
literal|"oý\0053\026Õ\223Û\026,òë\"Úsf\241\212Åü \\\275Ìð\276Í\240\273tÍ*"
literal|"ÀÂ\003\204@p\254><\026q3ÍÐ?Y\251$ù\255Ã:\270õ\210\2462&\254\034C"
literal|"@q\236\023\017Âa\222%Å@&\250ò\222Îçê\177ë&\210U\031\212n=Êós,Ü\213"
literal|"\231\0166IæÔ9Ä\264b\005\232\252\t\200\t+Ï\2614\273\205\037Gá\017"
literal|"Ð\247\262J\263t\234R\254JÊÞß\242#\230cá\252\227\222\264ùpÅ\031\256"
literal|"{k\020Ö2\002\261Þ×a\215Q\255\240\217\235U\265Þ ä\024ë\037\016n`J"
literal|"\217\265C]-Òæ\223\264É#L\236Ï\212\225B\240n\251\037Õ\260R<i\202\022"
literal|"\257\2209!I\215?Å\212Ùbq÷WÃ\nñ1Lþ\270ü\032\2217È\255-X\037 +V\037"
literal|"Mù,\212\252\276\006\035PDSu\235\217i;lü5\254[\247\257\\>Å?iXä\271"
literal|"\226QÍbs52c\275\215\000\254\260N)\214X\222\036+C\261V\234\246j#V"
literal|"7}:#\226\241\265ð\277\177=\213 ,Í\222Oè\260\222\024KÖc\215Q\254\262"
literal|";\254,o-\\ô\212&F7\260ö%å\2029qÍ\036+Ó\000\226\254éV\230Ý\021òN\r"
literal|"X1\275\007ñÝêp0bIVÝr\207\025Q×X/\204\014\000b\254\270\036\213\267"
literal|"×\214\031\213ä\\Ó\276Î/Ö\000VN\275\221\247\275\250pËa\207\245Y\201"
literal|"|\025\013\205æÙ\274dÂ*\252|*\253:9\256\2600L\246\207õ\"k4G\254\031"
literal|"ÖñÕeÊf6í\231\260r\252þ)]cíÀ\027Ã\014(\257÷\245a,î\005ÜÃ\261$îB\002"
literal|"XIÃ\232Ä5V\216\024.Ò^LêÓa,jÖ\177÷\2106s÷\275Ê[ËÚ\211ÔÝ\"Éòé\250{"
literal|"\254\020\255>I{1\242ïE\030+i\260F\230ò\213sÏ\227@\225\0171Ëqåït\214"
literal|"\270ÅÚA\025\263\203\002ÉÚòâûB\254\210\016k\242æ\027[\r\004S\256ê"
literal|"jÜ-\026\033\204Ü\245\037&\201\254ç_+\222êa,\205ßés\206UREæTÿ\004"
literal|"\023\256\261Â|@%\251ß\024Ò=\037\214ÅÛ\240ò\035z7Y\037Ì1cÕ\232kÎ5"
literal|"V\0373\r\274\027I0Ç\001\213\271\231ï\207\030\026o\2552\202\260\250"
literal|"AãÎ\266\035V×ìÇæOoÌroé\235Ù\017é\\\202\253\252ü\233Ú\233ÙÙ\014\275"
literal|">;k\210\202í+\021\017KÁ\2271\265L\226\020\225KQÄs\022\254Çðo6rB\277"
literal|"\'P_\220Y>\214/~\264\236\010ôî\203N9\006õ\255\'í\261;\256\263ep\250"
literal|"uþs\274@\002\tä+(Ò\200ÁÆ\204h@@úyýe\ryÏè\227î__\207yÂÎÒgú\235):\033"
literal|"t\254Ô_Ö\2207\253ÇÊ\201\021õ\'È<ñâ-ü3üéßðÇ+Wþ\002Uýêà|Æ\214\025\276"
literal|"Y\037\026)kÈkÀ:\003E=\036#óldåEü0ÅsÅ1\224[\\\274\001U\235B;î\230"
literal|"\261êmicY3\026(ïf1V.\205ò\251\216eÔ\265\214Þ\021VÝqWÚ\217Ð.ì8\035"
literal|"\212\206Ëò\020Ö\227\235h\013\032$\213\254Cñ-ø\'Y\252îÄ\023ß\001\234"
literal|"D\263nACÕ\262;qn|\001)Cô\n\256\204N\222\007Ð\226\250\024#\027\021"
literal|"Ú3Ä\222\261Äz0Ö\227ØM\231è\236Cò*úÜ\006+\214ý\275\"\222çÕ\205p9\217"
literal|"\035%ü9÷\030ñq\236RW\263\230.\227!Íø8qkXÖìã+\265\262Ê\032\222*Q\245"
literal|"\244þ\007_!\225à\244\207\260\203\233MuÜ\245q\237\007qA\232L\004c"
literal|"a\032Ô\275Ð\207S*\250,î\210Ûì^]Ër*\\yeß*\271wö\213\201ü\230R\211"
literal|"ï#^wß\014\212,)\225\003,\211`Í>\247+\233ÍtÝE}\037(\213Ñl\212TB\034"
literal|"ÜÔ\036\234\034\256\\üÁ\nöÀ^Ù\023\247É:\254Í\267\tVI^\273\014ö{6ó"
literal|"\265â\030\273W7~Ì0.Q\242X\023\250g!BÖTØeéZÂ\265Eðjh>Î\261æôe#KÃ\031"
literal|"\224\217\242áL6ÕÍv\216*\224\032×&U\210\006!\226Ì\261H\235ÉÛ\233\227"
literal|"\260\273\255|R\254ÄàA^æM\020Á\035CþÊÇh\013\240È\235\236\031ò\t[\263"
literal|"2\276\007ù\220åO\220ÍèËÊk\267\020Z%wÌ\246\"Ì^\024Ç(\026î\242b\264"
literal|"\207<Ã*\003b?\263\237\035--\204+\247þ@By\2719\010ëÒ\251(Òtk%ZÃJ\241"
literal|"\256;I2jÈÃ,âä$\276Óð\004ÇJ\031Êf\227\230\013?Atk%Juë\267\004\213"
literal|"Ô\026MNð%w\025+\\Z\033\236@gÔ\217È\202&r\027ìD\2048\026\n\025ç\254"
literal|"Xy\032ØÝ\277\002aieóe\244\254\036\032\030\210áë\270\022\222ö\223"
literal|"/\rX,YÃBR\224\224\275\227\232\243\216e!\026N.\221}\205e#V\017V\224"
literal|"\"\251\254ï\034Ö\2569\222\233e5b\205Ëó1iM\263[]ì6ù\224\206ÕG\"úÕ"
literal|"\205\014ëJ\231\206HH\n\036Ì\",<ÄCdñ\025.\033\261\272Êø:Áê\2725Cn"
literal|"\'\225b,\253\021\253o.9\203\212q\216Å-r6\243aEÈ\205bÜ\200õ\275e\272"
literal|"\005\227ÒØ@,Tz;W\214v=÷Ô\222\021K.}\234\247\255\025ÂË1Y}öÉ2ÏjÄ*Æ"
literal|";Ê\250\257<p\024\227\"\225à\253\227\006K1\rKQß>\222\242É\032Vè\005"
literal|"\262ä>\222ÇvþÔ#\245\224\020ë!õf6z\277Z\241\025å\252Xx\215x\221ê\026"
literal|"\"1Á\007é\262\237f5`\205WÈ\220W\212xy\231MÝO7\000\244yõfU\267ð<\250"
literal|"fh\262\206Õ]y\205Ôùy\214Dv>\264\231\252vÑ\245\022dA\212Ôß\241Ã~w"
literal|"\254\232\025ts\242\265J$C\256\255û\253É,<@ÿ\244\207\010\266ö7äøÈ"
literal|"TWwÜh)\'ñÕ{\237\244\241ÊùT+QÉ|\253\250\257ÜR\215\205\224#t\\\207"
literal|"cÁê\"\220@\002\t$\220@\002\t$\220@\002\t$\220@\002\t$\220@\002\t"
literal|"$\220@þßä\177tÐ\007ÇuUy$\0\0\0\0IE\116\104\256B`\202"
argument_list|,
literal|4093
argument_list|,
name|NULL
argument_list|)
operator|&&
name|pink
argument_list|(
name|noise
argument_list|)
operator|&&
name|white
argument_list|(
name|noise
argument_list|)
condition|)
block|{
name|gdk_draw_pixbuf
argument_list|(
name|GDK_DRAWABLE
argument_list|(
name|dialog
operator|->
name|logo_pixmap
argument_list|)
argument_list|,
name|gc
argument_list|,
name|white
argument_list|(
name|noise
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
operator|(
name|dialog
operator|->
name|logo_width
operator|-
name|level
argument_list|(
name|white
argument_list|(
name|noise
argument_list|)
argument_list|)
operator|)
operator|/
literal|2
argument_list|,
name|dialog
operator|->
name|logo_height
operator|+
operator|(
name|dialog
operator|->
name|logo_height
operator|-
name|variance
argument_list|(
name|white
argument_list|(
name|noise
argument_list|)
argument_list|)
operator|)
operator|/
literal|2
argument_list|,
name|level
argument_list|(
name|white
argument_list|(
name|noise
argument_list|)
argument_list|)
argument_list|,
name|variance
argument_list|(
name|white
argument_list|(
name|noise
argument_list|)
argument_list|)
argument_list|,
name|GDK_RGB_DITHER_NORMAL
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
block|}
name|g_object_unref
argument_list|(
name|noise
argument_list|)
expr_stmt|;
name|g_object_unref
argument_list|(
name|gc
argument_list|)
expr_stmt|;
return|return
name|TRUE
return|;
block|}
end_function

end_unit

